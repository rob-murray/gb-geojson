!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var i=n(11),o=e(i),r=n(22),s=e(r),a=n(95),l=e(a);n(200);var h="production"===t.env.NODE_ENV;s["default"].render(o["default"].createElement(l["default"],null),document.getElementById("app")),n(105)(h)}).call(e,n(1))},function(t,e){function n(){h=!1,s.length?l=s.concat(l):u=-1,l.length&&i()}function i(){if(!h){var t=setTimeout(n);h=!0;for(var e=l.length;e;){for(s=l,l=[];++u<e;)s&&s[u].run();u=-1,e=l.length}s=null,h=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function r(){}var s,a=t.exports={},l=[],h=!1,u=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||h||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=r,a.addListener=r,a.once=r,a.off=r,a.removeListener=r,a.removeAllListeners=r,a.emit=r,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";function n(t,n,i,o,r,s,a,l){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var h;if(void 0===n)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,o,r,s,a,l],c=0;h=new Error(n.replace(/%s/g,function(){return u[c++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}}t.exports=n}).call(e,n(1))},function(t,e){"use strict";function n(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),i=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r){var s=Object(r);for(var a in s)i.call(s,a)&&(n[a]=s[a])}}return n}t.exports=n},function(t,e,n){(function(e){"use strict";var i=n(10),o=i;"production"!==e.env.NODE_ENV&&(o=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;n>o;o++)i[o-2]=arguments[o];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){var r=0,s="Warning: "+e.replace(/%s/g,function(){return i[r++]});"undefined"!=typeof console&&console.error(s);try{throw new Error(s)}catch(a){}}}),t.exports=o}).call(e,n(1))},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=i},function(t,e,n){(function(e){"use strict";function i(t,e){for(var n=Math.min(t.length,e.length),i=0;n>i;i++)if(t.charAt(i)!==e.charAt(i))return i;return t.length===e.length?-1:n}function o(t){return t?t.nodeType===H?t.documentElement:t.firstChild:null}function r(t){var e=o(t);return e&&tt.getID(e)}function s(t){var n=a(t);if(n)if(W.hasOwnProperty(n)){var i=W[n];i!==t&&(c(i,n)?"production"!==e.env.NODE_ENV?U(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",F,n):U(!1):void 0,W[n]=t)}else W[n]=t;return n}function a(t){return t&&t.getAttribute&&t.getAttribute(F)||""}function l(t,e){var n=a(t);n!==e&&delete W[n],t.setAttribute(F,e),W[e]=t}function h(t){return W.hasOwnProperty(t)&&c(W[t],t)||(W[t]=tt.findReactNodeByID(t)),W[t]}function u(t){var e=N.get(t)._rootNodeID;return C.isNullComponentID(e)?null:(W.hasOwnProperty(e)&&c(W[e],e)||(W[e]=tt.findReactNodeByID(e)),W[e])}function c(t,n){if(t){a(t)!==n?"production"!==e.env.NODE_ENV?U(!1,"ReactMount: Unexpected modification of `%s`",F):U(!1):void 0;var i=tt.findReactContainerForID(n);if(i&&A(i,t))return!0}return!1}function p(t){delete W[t]}function d(t){var e=W[t];return e&&c(e,t)?void(Q=e):!1}function f(t){Q=null,L.traverseAncestors(t,d);var e=Q;return Q=null,e}function m(t,n,i,o,r,s){if(w.useCreateElement&&(s=T({},s),i.nodeType===H?s[Z]=i:s[Z]=i.ownerDocument),"production"!==e.env.NODE_ENV){s===I&&(s={});var a=i.nodeName.toLowerCase();s[B.ancestorInfoContextKey]=B.updatedAncestorInfo(null,a,null)}var l=D.mountComponent(t,n,o,s);t._renderedComponent._topLevelWrapper=t,tt._mountImageIntoNode(l,i,r,o)}function g(t,e,n,i,o){var r=O.ReactReconcileTransaction.getPooled(i);r.perform(m,null,t,e,n,r,i,o),O.ReactReconcileTransaction.release(r)}function v(t,e){for(D.unmountComponent(t),e.nodeType===H&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function _(t){var e=r(t);return e?e!==L.getReactRootIDFromNodeID(e):!1}function y(t){for(;t&&t.parentNode!==t;t=t.parentNode)if(1===t.nodeType){var e=a(t);if(e){var n,i=L.getReactRootIDFromNodeID(e),o=t;do if(n=a(o),o=o.parentNode,null==o)return null;while(n!==i);if(o===J[i])return t}}return null}var b=n(16),M=n(29),x=n(13),w=n(68),E=n(7),C=n(75),L=n(19),N=n(25),P=n(78),S=n(8),D=n(17),k=n(44),O=n(9),T=n(3),I=n(27),A=n(90),R=n(51),U=n(2),z=n(36),j=n(54),B=n(56),V=n(4),F=b.ID_ATTRIBUTE_NAME,W={},G=1,H=9,q=11,Z="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),K={},J={};if("production"!==e.env.NODE_ENV)var Y={};var X=[],Q=null,$=function(){};$.prototype.isReactComponent={},"production"!==e.env.NODE_ENV&&($.displayName="TopLevelWrapper"),$.prototype.render=function(){return this.props};var tt={TopLevelWrapper:$,_instancesByReactRootID:K,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,n,i,s){return tt.scrollMonitor(i,function(){k.enqueueElementInternal(t,n),s&&k.enqueueCallbackInternal(t,s)}),"production"!==e.env.NODE_ENV&&(Y[r(i)]=o(i)),t},_registerComponent:function(t,n){!n||n.nodeType!==G&&n.nodeType!==H&&n.nodeType!==q?"production"!==e.env.NODE_ENV?U(!1,"_registerComponent(...): Target container is not a DOM element."):U(!1):void 0,M.ensureScrollValueMonitoring();var i=tt.registerContainer(n);return K[i]=t,i},_renderNewRootComponent:function(t,n,i,r){"production"!==e.env.NODE_ENV?V(null==x.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",x.current&&x.current.getName()||"ReactCompositeComponent"):void 0;var s=R(t,null),a=tt._registerComponent(s,n);return O.batchedUpdates(g,s,a,n,i,r),"production"!==e.env.NODE_ENV&&(Y[a]=o(n)),s},renderSubtreeIntoContainer:function(t,n,i,o){return null==t||null==t._reactInternalInstance?"production"!==e.env.NODE_ENV?U(!1,"parentComponent must be a valid React Component"):U(!1):void 0,tt._renderSubtreeIntoContainer(t,n,i,o)},_renderSubtreeIntoContainer:function(t,n,i,s){E.isValidElement(n)?void 0:"production"!==e.env.NODE_ENV?U(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof n?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof n?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=n&&void 0!==n.props?" This may be caused by unintentionally loading two independent copies of React.":""):U(!1),"production"!==e.env.NODE_ENV?V(!i||!i.tagName||"BODY"!==i.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app."):void 0;var l=new E($,null,null,null,null,null,n),h=K[r(i)];if(h){var u=h._currentElement,c=u.props;if(j(c,n)){var p=h._renderedComponent.getPublicInstance(),d=s&&function(){s.call(p)};return tt._updateRootComponent(h,l,i,d),p}tt.unmountComponentAtNode(i)}var f=o(i),m=f&&!!a(f),g=_(i);if("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?V(!g,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."):void 0,!m||f.nextSibling))for(var v=f;v;){if(a(v)){"production"!==e.env.NODE_ENV?V(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):void 0;break}v=v.nextSibling}var y=m&&!h&&!g,b=tt._renderNewRootComponent(l,i,y,null!=t?t._reactInternalInstance._processChildContext(t._reactInternalInstance._context):I)._renderedComponent.getPublicInstance();return s&&s.call(b),b},render:function(t,e,n){return tt._renderSubtreeIntoContainer(null,t,e,n)},registerContainer:function(t){var e=r(t);return e&&(e=L.getReactRootIDFromNodeID(e)),e||(e=L.createReactRootID()),J[e]=t,e},unmountComponentAtNode:function(t){"production"!==e.env.NODE_ENV?V(null==x.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",x.current&&x.current.getName()||"ReactCompositeComponent"):void 0,!t||t.nodeType!==G&&t.nodeType!==H&&t.nodeType!==q?"production"!==e.env.NODE_ENV?U(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):U(!1):void 0;var n=r(t),i=K[n];if(!i){var o=_(t),s=a(t),l=s&&s===L.getReactRootIDFromNodeID(s);return"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?V(!o,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",l?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."):void 0),!1}return O.batchedUpdates(v,i,t),delete K[n],delete J[n],"production"!==e.env.NODE_ENV&&delete Y[n],!0},findReactContainerForID:function(t){var n=L.getReactRootIDFromNodeID(t),i=J[n];if("production"!==e.env.NODE_ENV){var o=Y[n];if(o&&o.parentNode!==i){"production"!==e.env.NODE_ENV?V(a(o)===n,"ReactMount: Root element ID differed from reactRootID."):void 0;var r=i.firstChild;r&&n===a(r)?Y[n]=r:"production"!==e.env.NODE_ENV?V(!1,"ReactMount: Root element has been removed from its original container. New container: %s",o.parentNode):void 0}}return i},findReactNodeByID:function(t){var e=tt.findReactContainerForID(t);return tt.findComponentRoot(e,t)},getFirstReactDOM:function(t){return y(t)},findComponentRoot:function(t,n){var i=X,o=0,r=f(n)||t;for("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?V(null!=r,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",n):void 0),i[0]=r.firstChild,i.length=1;o<i.length;){for(var s,a=i[o++];a;){var l=tt.getID(a);l?n===l?s=a:L.isAncestorIDOf(l,n)&&(i.length=o=0,i.push(a.firstChild)):i.push(a.firstChild),a=a.nextSibling}if(s)return i.length=0,s}i.length=0,"production"!==e.env.NODE_ENV?U(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",n,tt.getID(t)):U(!1)},_mountImageIntoNode:function(t,n,r,s){if(!n||n.nodeType!==G&&n.nodeType!==H&&n.nodeType!==q?"production"!==e.env.NODE_ENV?U(!1,"mountComponentIntoNode(...): Target container is not valid."):U(!1):void 0,r){var a=o(n);if(P.canReuseMarkup(t,a))return;var l=a.getAttribute(P.CHECKSUM_ATTR_NAME);a.removeAttribute(P.CHECKSUM_ATTR_NAME);var h=a.outerHTML;a.setAttribute(P.CHECKSUM_ATTR_NAME,l);var u=t;if("production"!==e.env.NODE_ENV){var c;n.nodeType===G?(c=document.createElement("div"),c.innerHTML=t,u=c.innerHTML):(c=document.createElement("iframe"),document.body.appendChild(c),c.contentDocument.write(t),u=c.contentDocument.documentElement.outerHTML,document.body.removeChild(c))}var p=i(u,h),d=" (client) "+u.substring(p-20,p+20)+"\n (server) "+h.substring(p-20,p+20);n.nodeType===H?"production"!==e.env.NODE_ENV?U(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",d):U(!1):void 0,"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?V(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",d):void 0)}if(n.nodeType===H?"production"!==e.env.NODE_ENV?U(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):U(!1):void 0,s.useCreateElement){for(;n.lastChild;)n.removeChild(n.lastChild);n.appendChild(t)}else z(n,t)},ownerDocumentContextKey:Z,getReactRootID:r,getID:s,setID:l,getNode:h,getNodeFromInstance:u,isValid:c,purgeID:p};S.measureMethods(tt,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=tt}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var i=n(13),o=n(3),r=n(34),s="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,a={key:!0,ref:!0,__self:!0,__source:!0},l=function(t,n,i,o,a,l,h){var u={$$typeof:s,type:t,key:n,ref:i,props:h,_owner:l};return"production"!==e.env.NODE_ENV&&(u._store={},r?(Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:a})):(u._store.validated=!1,u._self=o,u._source=a),Object.freeze(u.props),Object.freeze(u)),u};l.createElement=function(t,e,n){var o,r={},s=null,h=null,u=null,c=null;if(null!=e){h=void 0===e.ref?null:e.ref,s=void 0===e.key?null:""+e.key,u=void 0===e.__self?null:e.__self,c=void 0===e.__source?null:e.__source;for(o in e)e.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(r[o]=e[o])}var p=arguments.length-2;if(1===p)r.children=n;else if(p>1){for(var d=Array(p),f=0;p>f;f++)d[f]=arguments[f+2];r.children=d}if(t&&t.defaultProps){var m=t.defaultProps;for(o in m)"undefined"==typeof r[o]&&(r[o]=m[o])}return l(t,s,h,u,c,i.current,r)},l.createFactory=function(t){var e=l.createElement.bind(null,t);return e.type=t,e},l.cloneAndReplaceKey=function(t,e){var n=l(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},l.cloneAndReplaceProps=function(t,n){var i=l(t.type,t.key,t.ref,t._self,t._source,t._owner,n);return"production"!==e.env.NODE_ENV&&(i._store.validated=t._store.validated),i},l.cloneElement=function(t,e,n){var r,s=o({},t.props),h=t.key,u=t.ref,c=t._self,p=t._source,d=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,d=i.current),void 0!==e.key&&(h=""+e.key);for(r in e)e.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(s[r]=e[r])}var f=arguments.length-2;if(1===f)s.children=n;else if(f>1){for(var m=Array(f),g=0;f>g;g++)m[g]=arguments[g+2];s.children=m}return l(t.type,h,u,c,p,d,s)},l.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===s},t.exports=l}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function n(t,e,n){return n}var i={enableMeasure:!1,storedMeasure:n,measureMethods:function(t,n,o){if("production"!==e.env.NODE_ENV)for(var r in o)o.hasOwnProperty(r)&&(t[r]=i.measure(n,o[r],t[r]))},measure:function(t,n,o){if("production"!==e.env.NODE_ENV){var r=null,s=function(){return i.enableMeasure?(r||(r=i.storedMeasure(t,n,o)),r.apply(this,arguments)):o.apply(this,arguments)};return s.displayName=t+"_"+n,s}return o},injection:{injectMeasure:function(t){i.storedMeasure=t}}};t.exports=i}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(){L.ReactReconcileTransaction&&b?void 0:"production"!==e.env.NODE_ENV?g(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):g(!1)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(),this.reconcileTransaction=L.ReactReconcileTransaction.getPooled(!1)}function r(t,e,n,o,r,s){i(),b.batchedUpdates(t,e,n,o,r,s)}function s(t,e){return t._mountOrder-e._mountOrder}function a(t){var n=t.dirtyComponentsLength;n!==v.length?"production"!==e.env.NODE_ENV?g(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",n,v.length):g(!1):void 0,v.sort(s);for(var i=0;n>i;i++){var o=v[i],r=o._pendingCallbacks;if(o._pendingCallbacks=null,d.performUpdateIfNecessary(o,t.reconcileTransaction),r)for(var a=0;a<r.length;a++)t.callbackQueue.enqueue(r[a],o.getPublicInstance())}}function l(t){return i(),b.isBatchingUpdates?void v.push(t):void b.batchedUpdates(l,t)}function h(t,n){b.isBatchingUpdates?void 0:"production"!==e.env.NODE_ENV?g(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):g(!1),_.enqueue(t,n),y=!0}var u=n(38),c=n(14),p=n(8),d=n(17),f=n(33),m=n(3),g=n(2),v=[],_=u.getPooled(),y=!1,b=null,M={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),E()):v.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[M,x];m(o.prototype,f.Mixin,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,L.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),c.addPoolingTo(o);var E=function(){for(;v.length||y;){if(v.length){var t=o.getPooled();t.perform(a,null,t),o.release(t)}if(y){y=!1;var e=_;_=u.getPooled(),e.notifyAll(),u.release(e)}}};E=p.measure("ReactUpdates","flushBatchedUpdates",E);var C={injectReconcileTransaction:function(t){t?void 0:"production"!==e.env.NODE_ENV?g(!1,"ReactUpdates: must provide a reconcile transaction class"):g(!1),L.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:"production"!==e.env.NODE_ENV?g(!1,"ReactUpdates: must provide a batching strategy"):g(!1),"function"!=typeof t.batchedUpdates?"production"!==e.env.NODE_ENV?g(!1,"ReactUpdates: must provide a batchedUpdates() function"):g(!1):void 0,"boolean"!=typeof t.isBatchingUpdates?"production"!==e.env.NODE_ENV?g(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):g(!1):void 0,b=t}},L={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:l,flushBatchedUpdates:E,injection:C,asap:h};t.exports=L}).call(e,n(1))},function(t,e){"use strict";function n(t){return function(){return t}}function i(){}i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";t.exports=n(139)},function(t,e,n){"use strict";var i=n(37),o=i({bubbled:null,captured:null}),r=i({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),s={topLevelTypes:r,PropagationPhases:o};t.exports=s},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e,n){(function(e){"use strict";var i=n(2),o=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},r=function(t,e){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e),i}return new n(t,e)},s=function(t,e,n){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,t,e,n),o}return new i(t,e,n)},a=function(t,e,n,i){var o=this;if(o.instancePool.length){var r=o.instancePool.pop();return o.call(r,t,e,n,i),r}return new o(t,e,n,i)},l=function(t,e,n,i,o){var r=this;if(r.instancePool.length){var s=r.instancePool.pop();return r.call(s,t,e,n,i,o),s}return new r(t,e,n,i,o)},h=function(t){var n=this;t instanceof n?void 0:"production"!==e.env.NODE_ENV?i(!1,"Trying to release an instance into a pool of a different type."):i(!1),t.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(t)},u=10,c=o,p=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||c,n.poolSize||(n.poolSize=u),n.release=h,n},d={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:r,threeArgumentPooler:s,fourArgumentPooler:a,fiveArgumentPooler:l};t.exports=d}).call(e,n(1))},function(t,e){"use strict";var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=n},function(t,e,n){(function(e){"use strict";function i(t,e){return(t&e)===e}var o=n(2),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var n=r,s=t.Properties||{},l=t.DOMAttributeNamespaces||{},h=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var p in s){a.properties.hasOwnProperty(p)?"production"!==e.env.NODE_ENV?o(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",p):o(!1):void 0;var d=p.toLowerCase(),f=s[p],m={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseAttribute:i(f,n.MUST_USE_ATTRIBUTE),mustUseProperty:i(f,n.MUST_USE_PROPERTY),hasSideEffects:i(f,n.HAS_SIDE_EFFECTS),hasBooleanValue:i(f,n.HAS_BOOLEAN_VALUE),hasNumericValue:i(f,n.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(f,n.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(f,n.HAS_OVERLOADED_BOOLEAN_VALUE)};if(m.mustUseAttribute&&m.mustUseProperty?"production"!==e.env.NODE_ENV?o(!1,"DOMProperty: Cannot require using both attribute and property: %s",p):o(!1):void 0,!m.mustUseProperty&&m.hasSideEffects?"production"!==e.env.NODE_ENV?o(!1,"DOMProperty: Properties that have side effects must use property: %s",p):o(!1):void 0,m.hasBooleanValue+m.hasNumericValue+m.hasOverloadedBooleanValue<=1?void 0:"production"!==e.env.NODE_ENV?o(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",p):o(!1),"production"!==e.env.NODE_ENV&&(a.getPossibleStandardName[d]=p),h.hasOwnProperty(p)){var g=h[p];m.attributeName=g,"production"!==e.env.NODE_ENV&&(a.getPossibleStandardName[g]=p)}l.hasOwnProperty(p)&&(m.attributeNamespace=l[p]),u.hasOwnProperty(p)&&(m.propertyName=u[p]),c.hasOwnProperty(p)&&(m.mutationMethod=c[p]),a.properties[p]=m}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:"production"!==e.env.NODE_ENV?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){var n=a._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,i=s[t];return i||(s[t]=i={}),e in i||(n=document.createElement(t),i[e]=n[e]),i[e]},injection:r};t.exports=a}).call(e,n(1))},function(t,e,n){"use strict";function i(){o.attachRefs(this,this._currentElement)}var o=n(160),r={mountComponent:function(t,e,n,o){var r=t.mountComponent(e,n,o);return t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t),r},unmountComponent:function(t){o.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,n,r){var s=t._currentElement;if(e!==s||r!==t._context){var a=o.shouldUpdateRefs(s,e);a&&o.detachRefs(t,s),t.receiveComponent(e,n,r),a&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=r},function(t,e,n){(function(e){"use strict";function i(t,e,n,i){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var o=this.constructor.Interface;for(var r in o)if(o.hasOwnProperty(r)){var a=o[r];a?this[r]=a(n):"target"===r?this.target=i:this[r]=n[r]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;l?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var o=n(14),r=n(3),s=n(10),a=n(4),l={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?a(t,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?a(t,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0),t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=l,i.augmentClass=function(t,e){var n=this,i=Object.create(n.prototype);r(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=r({},n.Interface,e),t.augmentClass=n.augmentClass,o.addPoolingTo(t,o.fourArgumentPooler)},o.addPoolingTo(i,o.fourArgumentPooler),t.exports=i}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t){return d+t.toString(36)}function o(t,e){return t.charAt(e)===d||e===t.length}function r(t){return""===t||t.charAt(0)===d&&t.charAt(t.length-1)!==d}function s(t,e){return 0===e.indexOf(t)&&o(e,t.length)}function a(t){return t?t.substr(0,t.lastIndexOf(d)):""}function l(t,n){if(r(t)&&r(n)?void 0:"production"!==e.env.NODE_ENV?p(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",t,n):p(!1),s(t,n)?void 0:"production"!==e.env.NODE_ENV?p(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",t,n):p(!1),t===n)return t;var i,a=t.length+f;for(i=a;i<n.length&&!o(n,i);i++);return n.substr(0,i)}function h(t,n){var i=Math.min(t.length,n.length);if(0===i)return"";for(var s=0,a=0;i>=a;a++)if(o(t,a)&&o(n,a))s=a;else if(t.charAt(a)!==n.charAt(a))break;var l=t.substr(0,s);return r(l)?void 0:"production"!==e.env.NODE_ENV?p(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",t,n,l):p(!1),l}function u(t,n,i,o,r,h){t=t||"",n=n||"",t===n?"production"!==e.env.NODE_ENV?p(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",t):p(!1):void 0;var u=s(n,t);u||s(t,n)?void 0:"production"!==e.env.NODE_ENV?p(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",t,n):p(!1);for(var c=0,d=u?a:l,f=t;;f=d(f,n)){var g;if(r&&f===t||h&&f===n||(g=i(f,u,o)),g===!1||f===n)break;c++<m?void 0:"production"!==e.env.NODE_ENV?p(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",t,n,f):p(!1)}}var c=n(83),p=n(2),d=".",f=d.length,m=1e4,g={createReactRootID:function(){return i(c.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===d&&t.length>1){var e=t.indexOf(d,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,i,o){var r=h(t,e);r!==t&&u(t,r,n,i,!1,!0),r!==e&&u(r,e,n,o,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(u("",t,e,n,!0,!1),u(t,"",e,n,!1,!0))},traverseTwoPhaseSkipTarget:function(t,e,n){t&&(u("",t,e,n,!0,!0),u(t,"",e,n,!0,!0))},traverseAncestors:function(t,e,n){u("",t,e,n,!0,!1)},getFirstCommonAncestorID:h,_getNextDescendantID:l,isAncestorIDOf:s,SEPARATOR:d};t.exports=g}).call(e,n(1))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(119),r=i(o);e["default"]=(0,r["default"])({GEOJSON_CREATE:null,GEOJSON_DESTROY:null,GEOJSON_UPDATE:null,CRS_CHANGE:null,CRS_LONLAT:null,CRS_BNG:null})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={featureCollection:function(t){return{type:"FeatureCollection",features:t}},errorsToSentence:function(t){return t instanceof Error?t.toString():t.map(function(t){return t.message}).join(", ")}}},function(t,e,n){"use strict";t.exports=n(67)},function(t,e,n){(function(e){"use strict";function i(){var t=g&&g.traverseTwoPhase&&g.traverseEnterLeave;"production"!==e.env.NODE_ENV?u(t,"InstanceHandle not injected before use!"):void 0}var o=n(63),r=n(136),s=n(76),a=n(85),l=n(86),h=n(2),u=n(4),c={},p=null,d=function(t,e){t&&(r.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},f=function(t){return d(t,!0)},m=function(t){return d(t,!1)},g=null,v={injection:{injectMount:r.injection.injectMount,
injectInstanceHandle:function(t){g=t,"production"!==e.env.NODE_ENV&&i()},getInstanceHandle:function(){return"production"!==e.env.NODE_ENV&&i(),g},injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:function(t,n,i){"function"!=typeof i?"production"!==e.env.NODE_ENV?h(!1,"Expected %s listener to be a function, instead got type %s",n,typeof i):h(!1):void 0;var r=c[n]||(c[n]={});r[t]=i;var s=o.registrationNameModules[n];s&&s.didPutListener&&s.didPutListener(t,n,i)},getListener:function(t,e){var n=c[e];return n&&n[t]},deleteListener:function(t,e){var n=o.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var i=c[e];i&&delete i[t]},deleteAllListeners:function(t){for(var e in c)if(c[e][t]){var n=o.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e),delete c[e][t]}},extractEvents:function(t,e,n,i,r){for(var s,l=o.plugins,h=0;h<l.length;h++){var u=l[h];if(u){var c=u.extractEvents(t,e,n,i,r);c&&(s=a(s,c))}}return s},enqueueEvents:function(t){t&&(p=a(p,t))},processEventQueue:function(t){var n=p;p=null,t?l(n,f):l(n,m),p?"production"!==e.env.NODE_ENV?h(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):h(!1):void 0,s.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};t.exports=v}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t,e,n){var i=e.dispatchConfig.phasedRegistrationNames[n];return y(t,i)}function o(t,n,o){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?m(t,"Dispatching id must not be null"):void 0);var r=n?_.bubbled:_.captured,s=i(t,o,r);s&&(o._dispatchListeners=g(o._dispatchListeners,s),o._dispatchIDs=g(o._dispatchIDs,t))}function r(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,o,t)}function s(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(t.dispatchMarker,o,t)}function a(t,e,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,o=y(t,i);o&&(n._dispatchListeners=g(n._dispatchListeners,o),n._dispatchIDs=g(n._dispatchIDs,t))}}function l(t){t&&t.dispatchConfig.registrationName&&a(t.dispatchMarker,null,t)}function h(t){v(t,r)}function u(t){v(t,s)}function c(t,e,n,i){f.injection.getInstanceHandle().traverseEnterLeave(n,i,a,t,e)}function p(t){v(t,l)}var d=n(12),f=n(23),m=n(4),g=n(85),v=n(86),_=d.PropagationPhases,y=f.getListener,b={accumulateTwoPhaseDispatches:h,accumulateTwoPhaseDispatchesSkipTarget:u,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:c};t.exports=b}).call(e,n(1))},function(t,e){"use strict";var n={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(18),r=n(49),s={view:function(t){if(t.view)return t.view;var e=r(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};o.augmentClass(i,s),t.exports=i},function(t,e,n){(function(e){"use strict";var n={};"production"!==e.env.NODE_ENV&&Object.freeze(n),t.exports=n}).call(e,n(1))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(58),r=i(o),s=n(20),a=i(s);e["default"]={create:function(t,e){r["default"].dispatch({actionType:a["default"].GEOJSON_CREATE,data:t,inputReferenceSystem:e})},destroy:function(){r["default"].dispatch({actionType:a["default"].GEOJSON_DESTROY})},referenceSystemChanged:function(t){r["default"].dispatch({actionType:a["default"].CRS_CHANGE,inputReferenceSystem:t})}}},function(t,e,n){"use strict";function i(t){return Object.prototype.hasOwnProperty.call(t,g)||(t[g]=f++,p[t[g]]={}),p[t[g]]}var o=n(12),r=n(23),s=n(63),a=n(153),l=n(8),h=n(84),u=n(3),c=n(52),p={},d=!1,f=0,m={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),v=u({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=t}},setEnabled:function(t){v.ReactEventListener&&v.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,r=i(n),a=s.registrationNameDependencies[t],l=o.topLevelTypes,h=0;h<a.length;h++){var u=a[h];r.hasOwnProperty(u)&&r[u]||(u===l.topWheel?c("wheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):u===l.topScroll?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):u===l.topFocus||u===l.topBlur?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),r[l.topBlur]=!0,r[l.topFocus]=!0):m.hasOwnProperty(u)&&v.ReactEventListener.trapBubbledEvent(u,m[u],n),r[u]=!0)}},trapBubbledEvent:function(t,e,n){return v.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return v.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!d){var t=h.refreshScrollValues;v.ReactEventListener.monitorScrollValue(t),d=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});l.measureMethods(v,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=v},function(t,e,n){(function(e){"use strict";var n={};"production"!==e.env.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),t.exports=n}).call(e,n(1))},function(t,e,n){"use strict";var i=n(37),o=i({prop:null,context:null,childContext:null});t.exports=o},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(26),r=n(84),s=n(48),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+r.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+r.currentScrollTop}};o.augmentClass(i,a),t.exports=i},function(t,e,n){(function(e){"use strict";var i=n(2),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,n,o,r,s,a,l,h){this.isInTransaction()?"production"!==e.env.NODE_ENV?i(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):i(!1):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=t.call(n,o,r,s,a,l,h),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i=e[n];try{this.wrapperInitData[n]=r.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(t){this.isInTransaction()?void 0:"production"!==e.env.NODE_ENV?i(!1,"Transaction.closeAll(): Cannot close transaction when none are open."):i(!1);for(var n=this.transactionWrappers,o=t;o<n.length;o++){var s,a=n[o],l=this.wrapperInitData[o];try{s=!0,l!==r.OBSERVED_ERROR&&a.close&&a.close.call(this,l),s=!1}finally{if(s)try{this.closeAll(o+1)}catch(h){}}}this.wrapperInitData.length=0}},r={Mixin:o,OBSERVED_ERROR:{}};t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var n=!1;if("production"!==e.env.NODE_ENV)try{Object.defineProperty({},"x",{get:function(){}}),n=!0}catch(i){}t.exports=n}).call(e,n(1))},function(t,e){"use strict";function n(t){return o[t]}function i(t){return(""+t).replace(r,n)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},r=/[&><"']/g;t.exports=i},function(t,e,n){"use strict";var i=n(5),o=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),i.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),o.test(e)||"<"===e[0]&&r.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}t.exports=s},function(t,e,n){(function(e){"use strict";var i=n(2),o=function(t){var n,o={};t instanceof Object&&!Array.isArray(t)?void 0:"production"!==e.env.NODE_ENV?i(!1,"keyMirror(...): Argument must be an object."):i(!1);for(n in t)t.hasOwnProperty(n)&&(o[n]=n);return o};t.exports=o}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(){this._callbacks=null,this._contexts=null}var o=n(14),r=n(3),s=n(2);r(i.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,n=this._contexts;if(t){t.length!==n.length?"production"!==e.env.NODE_ENV?s(!1,"Mismatched list of contexts in callback queue"):s(!1):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<t.length;i++)t[i].call(n[i]);t.length=0,n.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(i),t.exports=i}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t){return c.hasOwnProperty(t)?!0:u.hasOwnProperty(t)?!1:h.test(t)?(c[t]=!0,!0):(u[t]=!0,"production"!==e.env.NODE_ENV?l(!1,"Invalid attribute name: `%s`",t):void 0,!1)}function o(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&1>e||t.hasOverloadedBooleanValue&&e===!1}var r=n(16),s=n(8),a=n(183),l=n(4),h=/^[a-zA-Z_][\w\.\-]*$/,u={},c={};if("production"!==e.env.NODE_ENV)var p={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},d={},f=function(t){if(!(p.hasOwnProperty(t)&&p[t]||d.hasOwnProperty(t)&&d[t])){d[t]=!0;var n=t.toLowerCase(),i=r.isCustomAttribute(n)?n:r.getPossibleStandardName.hasOwnProperty(n)?r.getPossibleStandardName[n]:null;"production"!==e.env.NODE_ENV?l(null==i,"Unknown DOM property %s. Did you mean %s?",t,i):void 0}};var m={createMarkupForID:function(t){return r.ID_ATTRIBUTE_NAME+"="+a(t)},setAttributeForID:function(t,e){t.setAttribute(r.ID_ATTRIBUTE_NAME,e)},createMarkupForProperty:function(t,n){var i=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(i){if(o(i,n))return"";var s=i.attributeName;return i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===!0?s+'=""':s+"="+a(n)}return r.isCustomAttribute(t)?null==n?"":t+"="+a(n):("production"!==e.env.NODE_ENV&&f(t),null)},createMarkupForCustomAttribute:function(t,e){return i(t)&&null!=e?t+"="+a(e):""},setValueForProperty:function(t,n,i){var s=r.properties.hasOwnProperty(n)?r.properties[n]:null;if(s){var a=s.mutationMethod;if(a)a(t,i);else if(o(s,i))this.deleteValueForProperty(t,n);else if(s.mustUseAttribute){var l=s.attributeName,h=s.attributeNamespace;h?t.setAttributeNS(h,l,""+i):s.hasBooleanValue||s.hasOverloadedBooleanValue&&i===!0?t.setAttribute(l,""):t.setAttribute(l,""+i)}else{var u=s.propertyName;s.hasSideEffects&&""+t[u]==""+i||(t[u]=i)}}else r.isCustomAttribute(n)?m.setValueForAttribute(t,n,i):"production"!==e.env.NODE_ENV&&f(n)},setValueForAttribute:function(t,e,n){i(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForProperty:function(t,n){var i=r.properties.hasOwnProperty(n)?r.properties[n]:null;if(i){var o=i.mutationMethod;if(o)o(t,void 0);else if(i.mustUseAttribute)t.removeAttribute(i.attributeName);else{var s=i.propertyName,a=r.getDefaultValueForProperty(t.nodeName,s);i.hasSideEffects&&""+t[s]===a||(t[s]=a)}}else r.isCustomAttribute(n)?t.removeAttribute(n):"production"!==e.env.NODE_ENV&&f(n)}};s.measureMethods(m,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=m}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t){null!=t.checkedLink&&null!=t.valueLink?"production"!==e.env.NODE_ENV?h(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):h(!1):void 0}function o(t){i(t),null!=t.value||null!=t.onChange?"production"!==e.env.NODE_ENV?h(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):h(!1):void 0}function r(t){i(t),null!=t.checked||null!=t.onChange?"production"!==e.env.NODE_ENV?h(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):h(!1):void 0}function s(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var a=n(82),l=n(31),h=n(2),u=n(4),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={value:function(t,e,n){return!t[e]||c[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func},d={},f={checkPropTypes:function(t,n,i){for(var o in p){if(p.hasOwnProperty(o))var r=p[o](n,o,t,l.prop);if(r instanceof Error&&!(r.message in d)){d[r.message]=!0;var a=s(i);"production"!==e.env.NODE_ENV?u(!1,"Failed form propType: %s%s",r.message,a):void 0}}},getValue:function(t){return t.valueLink?(o(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(r(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(o(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(r(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=f}).call(e,n(1))},function(t,e,n){"use strict";var i=n(43),o=n(6),r={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:i.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){o.purgeID(t)}};t.exports=r},function(t,e,n){(function(e){"use strict";var i=n(2),o=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){o?"production"!==e.env.NODE_ENV?i(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):i(!1):void 0,r.unmountIDFromEnvironment=t.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,r.processChildrenUpdates=t.processChildrenUpdates,o=!0}}};t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var i=n(62),o=n(39),r=n(6),s=n(8),a=n(2),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},h={updatePropertyByID:function(t,n,i){var s=r.getNode(t);l.hasOwnProperty(n)?"production"!==e.env.NODE_ENV?a(!1,"updatePropertyByID(...): %s",l[n]):a(!1):void 0,null!=i?o.setValueForProperty(s,n,i):o.deleteValueForProperty(s,n)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=r.getNode(t);i.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=r.getNode(t[n].parentID);i.processUpdates(t,e)}};s.measureMethods(h,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=h}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t){l.enqueueUpdate(t)}function o(t,n){var i=a.get(t);return i?("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?c(null==r.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",n):void 0),i):("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?c(!n,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",n,n,t.constructor.displayName):void 0),null)}var r=n(13),s=n(7),a=n(25),l=n(9),h=n(3),u=n(2),c=n(4),p={isMounted:function(t){if("production"!==e.env.NODE_ENV){var n=r.current;null!==n&&("production"!==e.env.NODE_ENV?c(n._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):void 0,n._warnedAboutRefsInRender=!0)}var i=a.get(t);return i?!!i._renderedComponent:!1},enqueueCallback:function(t,n){"function"!=typeof n?"production"!==e.env.NODE_ENV?u(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):u(!1):void 0;var r=o(t);return r?(r._pendingCallbacks?r._pendingCallbacks.push(n):r._pendingCallbacks=[n],void i(r)):null},enqueueCallbackInternal:function(t,n){"function"!=typeof n?"production"!==e.env.NODE_ENV?u(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):u(!1):void 0,t._pendingCallbacks?t._pendingCallbacks.push(n):t._pendingCallbacks=[n],i(t)},enqueueForceUpdate:function(t){var e=o(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,i(e))},enqueueReplaceState:function(t,e){var n=o(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(t,e){var n=o(t,"setState");if(n){var r=n._pendingStateQueue||(n._pendingStateQueue=[]);r.push(e),i(n)}},enqueueSetProps:function(t,e){var n=o(t,"setProps");n&&p.enqueueSetPropsInternal(n,e)},enqueueSetPropsInternal:function(t,n){var o=t._topLevelWrapper;o?void 0:"production"!==e.env.NODE_ENV?u(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):u(!1);var r=o._pendingElement||o._currentElement,a=r.props,l=h({},a.props,n);o._pendingElement=s.cloneAndReplaceProps(r,s.cloneAndReplaceProps(a,l)),i(o)},enqueueReplaceProps:function(t,e){var n=o(t,"replaceProps");n&&p.enqueueReplacePropsInternal(n,e)},enqueueReplacePropsInternal:function(t,n){var o=t._topLevelWrapper;o?void 0:"production"!==e.env.NODE_ENV?u(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):u(!1);var r=o._pendingElement||o._currentElement,a=r.props;o._pendingElement=s.cloneAndReplaceProps(r,s.cloneAndReplaceProps(a,n)),i(o)},enqueueElementInternal:function(t,e){t._pendingElement=e,i(t)}};t.exports=p}).call(e,n(1))},function(t,e){"use strict";t.exports="0.14.7"},function(t,e,n){(function(e){"use strict";function i(t){if("production"!==e.env.NODE_ENV){var n=o.current;null!==n&&("production"!==e.env.NODE_ENV?l(n._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):void 0,n._warnedAboutRefsInRender=!0)}return null==t?null:1===t.nodeType?t:r.has(t)?s.getNodeFromInstance(t):(null!=t.render&&"function"==typeof t.render?"production"!==e.env.NODE_ENV?a(!1,"findDOMNode was called on an unmounted component."):a(!1):void 0,void("production"!==e.env.NODE_ENV?a(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(t)):a(!1)))}var o=n(13),r=n(25),s=n(6),a=n(2),l=n(4);t.exports=i}).call(e,n(1))},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var i=o[t];return i?!!n[i]:!1}function i(t){return n}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e){"use strict";function n(t){var e=t&&(i&&t[i]||t[o]);return"function"==typeof e?e:void 0}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=n},function(t,e,n){(function(e){"use strict";function i(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function r(t){var n;if(null===t||t===!1)n=new a(r);else if("object"==typeof t){var s=t;!s||"function"!=typeof s.type&&"string"!=typeof s.type?"production"!==e.env.NODE_ENV?u(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==s.type?s.type:typeof s.type,i(s._owner)):u(!1):void 0,n="string"==typeof s.type?l.createInternalComponent(s):o(s.type)?new s.type(s):new p}else"string"==typeof t||"number"==typeof t?n=l.createInstanceForText(t):"production"!==e.env.NODE_ENV?u(!1,"Encountered invalid React node of type %s",typeof t):u(!1);return"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?c("function"==typeof n.construct&&"function"==typeof n.mountComponent&&"function"==typeof n.receiveComponent&&"function"==typeof n.unmountComponent,"Only React Components can be mounted."):void 0),n.construct(t),n._mountIndex=0,n._mountImage=null,"production"!==e.env.NODE_ENV&&(n._isOwnerNecessary=!1,n._warnedAboutRefsInRender=!1),"production"!==e.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(n),n}var s=n(142),a=n(74),l=n(80),h=n(3),u=n(2),c=n(4),p=function(){};h(p.prototype,s.Mixin,{_instantiateReactComponent:r}),t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function i(t,e){if(!r.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var s=document.createElement("div");s.setAttribute(n,"return;"),i="function"==typeof s[n]}return!i&&o&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var o,r=n(5);r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=i},function(t,e,n){"use strict";var i=n(5),o=n(35),r=n(36),s=function(t,e){t.textContent=e};i.canUseDOM&&("textContent"in document.documentElement||(s=function(t,e){r(t,o(e))})),t.exports=s},function(t,e){"use strict";function n(t,e){var n=null===t||t===!1,i=null===e||e===!1;if(n||i)return n===i;var o=typeof t,r=typeof e;return"string"===o||"number"===o?"string"===r||"number"===r:"object"===r&&t.type===e.type&&t.key===e.key}t.exports=n},function(t,e,n){(function(e){"use strict";function i(t){return v[t]}function o(t,e){return t&&null!=t.key?s(t.key):e.toString(36)}function r(t){return(""+t).replace(_,i)}function s(t){return"$"+r(t)}function a(t,n,i,r){var l=typeof t;if(("undefined"===l||"boolean"===l)&&(t=null),null===t||"string"===l||"number"===l||u.isValidElement(t))return i(r,t,""===n?m+o(t,0):n),1;var c,v,_=0,b=""===n?m:n+g;if(Array.isArray(t))for(var M=0;M<t.length;M++)c=t[M],v=b+o(c,M),_+=a(c,v,i,r);else{var x=p(t);if(x){var w,E=x.call(t);if(x!==t.entries)for(var C=0;!(w=E.next()).done;)c=w.value,v=b+o(c,C++),_+=a(c,v,i,r);else for("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?f(y,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):void 0,y=!0);!(w=E.next()).done;){var L=w.value;L&&(c=L[1],v=b+s(L[0])+g+o(c,0),_+=a(c,v,i,r))}}else if("object"===l){var N="";if("production"!==e.env.NODE_ENV&&(N=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",t._isReactElement&&(N=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),h.current)){var P=h.current.getName();P&&(N+=" Check the render method of `"+P+"`.")}var S=String(t);"production"!==e.env.NODE_ENV?d(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===S?"object with keys {"+Object.keys(t).join(", ")+"}":S,N):d(!1)}}return _}function l(t,e,n){return null==t?0:a(t,"",e,n)}var h=n(13),u=n(7),c=n(19),p=n(50),d=n(2),f=n(4),m=c.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},_=/[=.:]/g,y=!1;t.exports=l}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var i=n(3),o=n(10),r=n(4),s=o;if("production"!==e.env.NODE_ENV){var a=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],h=l.concat(["button"]),u=["dd","dt","li","option","optgroup","p","rp","rt"],c={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},p=function(t,e,n){var o=i({},t||c),r={tag:e,instance:n};return-1!==l.indexOf(e)&&(o.aTagInScope=null,o.buttonTagInScope=null,o.nobrTagInScope=null),-1!==h.indexOf(e)&&(o.pTagInButtonScope=null),-1!==a.indexOf(e)&&"address"!==e&&"div"!==e&&"p"!==e&&(o.listItemTagAutoclosing=null,o.dlItemTagAutoclosing=null),o.parentTag=r,"form"===e&&(o.formTag=r),"a"===e&&(o.aTagInScope=r),"button"===e&&(o.buttonTagInScope=r),"nobr"===e&&(o.nobrTagInScope=r),"p"===e&&(o.pTagInButtonScope=r),"li"===e&&(o.listItemTagAutoclosing=r),("dd"===e||"dt"===e)&&(o.dlItemTagAutoclosing=r),o},d=function(t,e){switch(e){case"select":return"option"===t||"optgroup"===t||"#text"===t;case"optgroup":return"option"===t||"#text"===t;case"option":return"#text"===t;case"tr":return"th"===t||"td"===t||"style"===t||"script"===t||"template"===t;case"tbody":case"thead":case"tfoot":return"tr"===t||"style"===t||"script"===t||"template"===t;case"colgroup":return"col"===t||"template"===t;case"table":return"caption"===t||"colgroup"===t||"tbody"===t||"tfoot"===t||"thead"===t||"style"===t||"script"===t||"template"===t;case"head":return"base"===t||"basefont"===t||"bgsound"===t||"link"===t||"meta"===t||"title"===t||"noscript"===t||"noframes"===t||"style"===t||"script"===t||"template"===t;case"html":return"head"===t||"body"===t}switch(t){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==e&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e&&"h6"!==e;case"rp":case"rt":return-1===u.indexOf(e);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==e}return!0},f=function(t,e){switch(t){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return e.pTagInButtonScope;case"form":return e.formTag||e.pTagInButtonScope;case"li":return e.listItemTagAutoclosing;case"dd":case"dt":return e.dlItemTagAutoclosing;case"button":return e.buttonTagInScope;case"a":return e.aTagInScope;case"nobr":return e.nobrTagInScope}return null},m=function(t){if(!t)return[];var e=[];do e.push(t);while(t=t._currentElement._owner);return e.reverse(),e},g={};s=function(t,n,i){i=i||c;var o=i.parentTag,s=o&&o.tag,a=d(t,s)?null:o,l=a?null:f(t,i),h=a||l;if(h){var u,p=h.tag,v=h.instance,_=n&&n._currentElement._owner,y=v&&v._currentElement._owner,b=m(_),M=m(y),x=Math.min(b.length,M.length),w=-1;for(u=0;x>u&&b[u]===M[u];u++)w=u;var E="(unknown)",C=b.slice(w+1).map(function(t){return t.getName()||E}),L=M.slice(w+1).map(function(t){return t.getName()||E}),N=[].concat(-1!==w?b[w].getName()||E:[],L,p,l?["..."]:[],C,t).join(" > "),P=!!a+"|"+t+"|"+p+"|"+N;if(g[P])return;if(g[P]=!0,a){var S="";"table"===p&&"tr"===t&&(S+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),"production"!==e.env.NODE_ENV?r(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",t,p,N,S):void 0}else"production"!==e.env.NODE_ENV?r(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",t,p,N):void 0}},s.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),s.updatedAncestorInfo=p,s.isTagValidInContext=function(t,e){e=e||c;var n=e.parentTag,i=n&&n.tag;return d(t,i)&&!f(t,e)}}t.exports=s}).call(e,n(1))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){var i=l["default"].hint(t);if(i instanceof Error)n(i);else if(i.length)n(i);else try{e(JSON.parse(t))}catch(o){n(o)}}function r(t){u["default"].create(t)}function s(t){alert(p["default"].errorsToSentence(t))}Object.defineProperty(e,"__esModule",{value:!0});var a=n(116),l=i(a),h=n(28),u=i(h),c=n(21),p=i(c);e["default"]={handleStringImport:function(t,e,n){void 0===e&&(e=r),void 0===n&&(n=s),o(t,e,n)},handleFileImport:function(t,e,n){if(t.preventDefault(),void 0===e&&(e=r),void 0===n&&(n=s),!window.FileReader)return void n(new Error("Sorry, your browser does not support file operations."));var i=new FileReader,a=t.target.files[0];i.onload=function(t){o(t.target.result,e,n)},i.readAsText(a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(113);e["default"]=new i.Dispatcher},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return e===f["default"].CRS_LONLAT?_["default"].toWGS84(t):_["default"].toOSGB36(t)}function r(t,e){return e===f["default"].CRS_LONLAT?(w=t,void(x=o(t,f["default"].CRS_BNG))):e===f["default"].CRS_BNG?(x=t,void(w=o(t,f["default"].CRS_LONLAT))):void 0}function s(t){return t===f["default"].CRS_LONLAT?w:t===f["default"].CRS_BNG?x:void 0}function a(t){E=t}function l(t,e){r(t,e)}function h(){x=w=C}Object.defineProperty(e,"__esModule",{value:!0});var u=n(58),c=i(u),p=n(111),d=n(20),f=i(d),m=n(122),g=i(m),v=n(107),_=i(v),y=n(21),b=i(y),M="change",x={},w={},E=f["default"].CRS_LONLAT,C=b["default"].featureCollection([]),L=f["default"].CRS_LONLAT,N=(0,g["default"])({},p.EventEmitter.prototype,{getItem:function(t){return t||(t=E),{geoJson:s(t),inputReferenceSystem:E}},emitChange:function(){this.emit(M)},addChangeListener:function(t){this.on(M,t)},removeChangeListener:function(t){this.removeListener(M,t)}});c["default"].register(function(t){var e=void 0,n=void 0;switch(t.actionType){case f["default"].GEOJSON_CREATE:e=t.data,n=t.inputReferenceSystem,n||(n=E),null!==e&&(l(e,n),N.emitChange());break;case f["default"].GEOJSON_UPDATE:break;case f["default"].GEOJSON_DESTROY:h(),N.emitChange();break;case f["default"].CRS_CHANGE:n=t.inputReferenceSystem,n&&(a(n),N.emitChange())}}),l(C,L),a(L),e["default"]=N},function(t,e,n){var i,o;!function(r,s,a){var l=r.L,h={};h.version="0.7.7","object"==typeof t&&"object"==typeof t.exports?t.exports=h:(i=h,o="function"==typeof i?i.call(e,n,e,t):i,!(o!==a&&(t.exports=o))),h.noConflict=function(){return r.L=l,this},r.L=h,h.Util={extend:function(t){var e,n,i,o,r=Array.prototype.slice.call(arguments,1);for(n=0,i=r.length;i>n;n++){o=r[n]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var i,o;if("object"==typeof t){o=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(n,[i,t[i]].concat(o));return!0}return!1},limitExecByInterval:function(t,e,n){var i,o;return function r(){var s=arguments;return i?void(o=!0):(i=!0,setTimeout(function(){i=!1,o&&(r.apply(n,s),o=!1)},e),void t.apply(n,s))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return h.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=h.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var i=e[n];if(i===a)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){var e,n,i=["webkit","moz","o","ms"];for(e=0;e<i.length&&!n;e++)n=r[i[e]+t];return n}function e(t){var e=+new Date,i=Math.max(0,16-(e-n));return n=e+i,r.setTimeout(t,i)}var n=0,i=r.requestAnimationFrame||t("RequestAnimationFrame")||e,o=r.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){r.clearTimeout(t)};h.Util.requestAnimFrame=function(t,n,o,s){return t=h.bind(t,n),o&&i===e?void t():i.call(r,t,s)},h.Util.cancelAnimFrame=function(t){t&&o.call(r,t)}}(),h.extend=h.Util.extend,h.bind=h.Util.bind,h.stamp=h.Util.stamp,h.setOptions=h.Util.setOptions,h.Class=function(){},h.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var i=new n;i.constructor=e,e.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);t.statics&&(h.extend(e,t.statics),delete t.statics),t.includes&&(h.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=h.extend({},i.options,t.options)),h.extend(i,t),i._initHooks=[];var r=this;return e.__super__=r.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){r.prototype.callInitHooks&&r.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;e>t;t++)i._initHooks[t].call(this)}},e},h.Class.include=function(t){h.extend(this.prototype,t)},h.Class.mergeOptions=function(t){h.extend(this.prototype.options,t)},h.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var u="_leaflet_events";h.Mixin={},h.Mixin.Events={addEventListener:function(t,e,n){if(h.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var i,o,r,s,a,l,c,p=this[u]=this[u]||{},d=n&&n!==this&&h.stamp(n);for(t=h.Util.splitWords(t),i=0,o=t.length;o>i;i++)r={action:e,context:n||this},s=t[i],d?(a=s+"_idx",l=a+"_len",c=p[a]=p[a]||{},c[d]||(c[d]=[],p[l]=(p[l]||0)+1),c[d].push(r)):(p[s]=p[s]||[],p[s].push(r));return this},hasEventListeners:function(t){var e=this[u];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[u])return this;if(!t)return this.clearAllEventListeners();if(h.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var i,o,r,s,a,l,c,p,d,f=this[u],m=n&&n!==this&&h.stamp(n);for(t=h.Util.splitWords(t),i=0,o=t.length;o>i;i++)if(r=t[i],l=r+"_idx",c=l+"_len",p=f[l],e){if(s=m&&p?p[m]:f[r]){for(a=s.length-1;a>=0;a--)s[a].action!==e||n&&s[a].context!==n||(d=s.splice(a,1),d[0].action=h.Util.falseFn);n&&p&&0===s.length&&(delete p[m],f[c]--)}}else delete f[r],delete f[l],delete f[c];return this},clearAllEventListeners:function(){return delete this[u],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,o,r,s,a=h.Util.extend({},e,{type:t,target:this}),l=this[u];if(l[t])for(n=l[t].slice(),i=0,o=n.length;o>i;i++)n[i].action.call(n[i].context,a);r=l[t+"_idx"];for(s in r)if(n=r[s].slice())for(i=0,o=n.length;o>i;i++)n[i].action.call(n[i].context,a);return this},addOneTimeEventListener:function(t,e,n){if(h.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=h.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},h.Mixin.Events.on=h.Mixin.Events.addEventListener,h.Mixin.Events.off=h.Mixin.Events.removeEventListener,h.Mixin.Events.once=h.Mixin.Events.addOneTimeEventListener,h.Mixin.Events.fire=h.Mixin.Events.fireEvent,function(){var t="ActiveXObject"in r,e=t&&!s.addEventListener,n=navigator.userAgent.toLowerCase(),i=-1!==n.indexOf("webkit"),o=-1!==n.indexOf("chrome"),l=-1!==n.indexOf("phantom"),u=-1!==n.indexOf("android"),c=-1!==n.search("android [23]"),p=-1!==n.indexOf("gecko"),d=typeof orientation!=a+"",f=!r.PointerEvent&&r.MSPointerEvent,m=r.PointerEvent&&r.navigator.pointerEnabled||f,g="devicePixelRatio"in r&&r.devicePixelRatio>1||"matchMedia"in r&&r.matchMedia("(min-resolution:144dpi)")&&r.matchMedia("(min-resolution:144dpi)").matches,v=s.documentElement,_=t&&"transition"in v.style,y="WebKitCSSMatrix"in r&&"m11"in new r.WebKitCSSMatrix&&!c,b="MozPerspective"in v.style,M="OTransition"in v.style,x=!r.L_DISABLE_3D&&(_||y||b||M)&&!l,w=!r.L_NO_TOUCH&&!l&&(m||"ontouchstart"in r||r.DocumentTouch&&s instanceof r.DocumentTouch);h.Browser={ie:t,ielt9:e,webkit:i,gecko:p&&!i&&!r.opera&&!t,android:u,android23:c,chrome:o,ie3d:_,webkit3d:y,gecko3d:b,opera3d:M,any3d:x,mobile:d,mobileWebkit:d&&i,mobileWebkit3d:d&&y,mobileOpera:d&&r.opera,touch:w,msPointer:f,pointer:m,retina:g}}(),h.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},h.Point.prototype={clone:function(){return new h.Point(this.x,this.y)},add:function(t){return this.clone()._add(h.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(h.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=h.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=h.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=h.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+h.Util.formatNum(this.x)+", "+h.Util.formatNum(this.y)+")"}},h.point=function(t,e,n){return t instanceof h.Point?t:h.Util.isArray(t)?new h.Point(t[0],t[1]):t===a||null===t?t:new h.Point(t,e,n)},h.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;o>i;i++)this.extend(n[i])},h.Bounds.prototype={extend:function(t){return t=h.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new h.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new h.Point(this.min.x,this.max.y)},getTopRight:function(){return new h.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof h.Point?h.point(t):h.bounds(t),t instanceof h.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=h.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},h.bounds=function(t,e){return!t||t instanceof h.Bounds?t:new h.Bounds(t,e)},h.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},h.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new h.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},h.DomUtil={get:function(t){return"string"==typeof t?s.getElementById(t):t},getStyle:function(t,e){var n=t.style[e];if(!n&&t.currentStyle&&(n=t.currentStyle[e]),(!n||"auto"===n)&&s.defaultView){var i=s.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n},getViewportOffset:function(t){var e,n=0,i=0,o=t,r=s.body,a=s.documentElement;do{if(n+=o.offsetTop||0,i+=o.offsetLeft||0,n+=parseInt(h.DomUtil.getStyle(o,"borderTopWidth"),10)||0,i+=parseInt(h.DomUtil.getStyle(o,"borderLeftWidth"),10)||0,e=h.DomUtil.getStyle(o,"position"),o.offsetParent===r&&"absolute"===e)break;if("fixed"===e){n+=r.scrollTop||a.scrollTop||0,i+=r.scrollLeft||a.scrollLeft||0;break}if("relative"===e&&!o.offsetLeft){var l=h.DomUtil.getStyle(o,"width"),u=h.DomUtil.getStyle(o,"max-width"),c=o.getBoundingClientRect();("none"!==l||"none"!==u)&&(i+=c.left+o.clientLeft),n+=c.top+(r.scrollTop||a.scrollTop||0);break}o=o.offsetParent}while(o);o=t;do{if(o===r)break;n-=o.scrollTop||0,i-=o.scrollLeft||0,o=o.parentNode}while(o);return new h.Point(i,n)},documentIsLtr:function(){return h.DomUtil._docIsLtrCached||(h.DomUtil._docIsLtrCached=!0,h.DomUtil._docIsLtr="ltr"===h.DomUtil.getStyle(s.body,"direction")),h.DomUtil._docIsLtr},create:function(t,e,n){var i=s.createElement(t);return i.className=e,n&&n.appendChild(i),i},hasClass:function(t,e){if(t.classList!==a)return t.classList.contains(e);var n=h.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==a)for(var n=h.Util.splitWords(e),i=0,o=n.length;o>i;i++)t.classList.add(n[i]);else if(!h.DomUtil.hasClass(t,e)){var r=h.DomUtil._getClass(t);h.DomUtil._setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){t.classList!==a?t.classList.remove(e):h.DomUtil._setClass(t,h.Util.trim((" "+h.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===a?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===a?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(o){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var e=s.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1},getTranslateString:function(t){var e=h.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){var n=h.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),i=" scale("+t+") ";return n+i},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&h.Browser.any3d?t.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},h.DomUtil.TRANSFORM=h.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),h.DomUtil.TRANSITION=h.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),h.DomUtil.TRANSITION_END="webkitTransition"===h.DomUtil.TRANSITION||"OTransition"===h.DomUtil.TRANSITION?h.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in s)h.extend(h.DomUtil,{disableTextSelection:function(){h.DomEvent.on(r,"selectstart",h.DomEvent.preventDefault)},enableTextSelection:function(){h.DomEvent.off(r,"selectstart",h.DomEvent.preventDefault)}});else{var t=h.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);h.extend(h.DomUtil,{disableTextSelection:function(){if(t){var e=s.documentElement.style;this._userSelect=e[t],e[t]="none"}},enableTextSelection:function(){t&&(s.documentElement.style[t]=this._userSelect,delete this._userSelect)}})}h.extend(h.DomUtil,{disableImageDrag:function(){h.DomEvent.on(r,"dragstart",h.DomEvent.preventDefault)},enableImageDrag:function(){h.DomEvent.off(r,"dragstart",h.DomEvent.preventDefault)}})}(),h.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==a&&(this.alt=parseFloat(n))},h.extend(h.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),h.LatLng.prototype={equals:function(t){if(!t)return!1;t=h.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=h.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+h.Util.formatNum(this.lat,t)+", "+h.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=h.latLng(t);var e=6378137,n=h.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*n,o=(t.lng-this.lng)*n,r=this.lat*n,s=t.lat*n,a=Math.sin(i/2),l=Math.sin(o/2),u=a*a+l*l*Math.cos(r)*Math.cos(s);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(t>n||n===e?e:t),new h.LatLng(this.lat,n)}},h.latLng=function(t,e){return t instanceof h.LatLng?t:h.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new h.LatLng(t[0],t[1],t[2]):null:t===a||null===t?t:"object"==typeof t&&"lat"in t?new h.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===a?null:new h.LatLng(t,e)},h.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;o>i;i++)this.extend(n[i])},h.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=h.latLng(t);return t=null!==e?e:h.latLngBounds(t),t instanceof h.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new h.LatLng(t.lat,t.lng),this._northEast=new h.LatLng(t.lat,t.lng)):t instanceof h.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new h.LatLngBounds(new h.LatLng(e.lat-i,e.lng-o),new h.LatLng(n.lat+i,n.lng+o))},getCenter:function(){return new h.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new h.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new h.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof h.LatLng?h.latLng(t):h.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof h.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=h.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=h.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},h.latLngBounds=function(t,e){return!t||t instanceof h.LatLngBounds?t:new h.LatLngBounds(t,e)},h.Projection={},h.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=h.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=t.lng*e,r=i*e;return r=Math.log(Math.tan(Math.PI/4+r/2)),new h.Point(o,r)},unproject:function(t){var e=h.LatLng.RAD_TO_DEG,n=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new h.LatLng(i,n)}},h.Projection.LonLat={project:function(t){return new h.Point(t.lng,t.lat)},unproject:function(t){return new h.LatLng(t.y,t.x)}},h.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return h.point(e,e)}},h.CRS.Simple=h.extend({},h.CRS,{projection:h.Projection.LonLat,transformation:new h.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),h.CRS.EPSG3857=h.extend({},h.CRS,{code:"EPSG:3857",projection:h.Projection.SphericalMercator,transformation:new h.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),h.CRS.EPSG900913=h.extend({},h.CRS.EPSG3857,{code:"EPSG:900913"}),h.CRS.EPSG4326=h.extend({},h.CRS,{code:"EPSG:4326",projection:h.Projection.LonLat,transformation:new h.Transformation(1/360,.5,-1/360,.5)}),h.Map=h.Class.extend({includes:h.Mixin.Events,options:{crs:h.CRS.EPSG3857,fadeAnimation:h.DomUtil.TRANSITION&&!h.Browser.android23,trackResize:!0,markerZoomAnimation:h.DomUtil.TRANSITION&&h.Browser.any3d},initialize:function(t,e){e=h.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=h.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==a&&this.setView(h.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===a?this.getZoom():e,this._resetView(h.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=t instanceof h.Point?t:this.latLngToContainerPoint(t),s=r.subtract(o).multiplyBy(1-1/i),a=this.containerPointToLatLng(o.add(s));return this.setView(a,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():h.latLngBounds(t);var n=h.point(e.paddingTopLeft||e.padding||[0,0]),i=h.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));o=e.maxZoom?Math.min(e.maxZoom,o):o;var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o),l=this.unproject(s.add(a).divideBy(2).add(r),o);return this.setView(l,o,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(h.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=h.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),i=this._limitCenter(n,this._zoom,t);return n.equals(i)?this:this.panTo(i,e)},addLayer:function(t){var e=h.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&h.TileLayer&&t instanceof h.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=h.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&h.TileLayer&&t instanceof h.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?h.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=h.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),r=i.subtract(o);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{
oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=a}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new h.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===a?this._layersMinZoom===a?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===a?this._layersMaxZoom===a?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=h.latLngBounds(t);var i,o=this.getMinZoom()-(e?1:0),r=this.getMaxZoom(),s=this.getSize(),a=t.getNorthWest(),l=t.getSouthEast(),u=!0;n=h.point(n||[0,0]);do o++,i=this.project(l,o).subtract(this.project(a,o)).add(n),u=e?i.x<s.x||i.y<s.y:s.contains(i);while(u&&r>=o);return u&&e?null:e?o:o-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new h.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new h.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===a?this._zoom:e,this.options.crs.latLngToPoint(h.latLng(t),e)},unproject:function(t,e){return e=e===a?this._zoom:e,this.options.crs.pointToLatLng(h.point(t),e)},layerPointToLatLng:function(t){var e=h.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(h.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return h.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return h.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(h.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(h.latLng(t)))},mouseEventToContainerPoint:function(t){return h.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=h.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;h.DomUtil.addClass(t,"leaflet-container"+(h.Browser.touch?" leaflet-touch":"")+(h.Browser.retina?" leaflet-retina":"")+(h.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=h.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(h.DomUtil.addClass(t.markerPane,e),h.DomUtil.addClass(t.shadowPane,e),h.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return h.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?h.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;n>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var o=this._zoom!==e;i||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):h.DomUtil.setPosition(this._mapPane,new h.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var r=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),r&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(o||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){h.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-(1/0),i=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(n=Math.max(n,o.options.maxZoom))}t===a?this._layersMaxZoom=this._layersMinZoom=a:(this._layersMaxZoom=n,this._layersMinZoom=e),i!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(h.DomEvent){t=t||"on",h.DomEvent[t](this._container,"click",this._onMouseClick,this);var e,n,i=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(e=0,n=i.length;n>e;e++)h.DomEvent[t](this._container,i[e],this._fireMouseEvent,this);this.options.trackResize&&h.DomEvent[t](r,"resize",this._onResize,this)}},_onResize:function(){h.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=h.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||h.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!h.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&h.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(n),o=this.layerPointToLatLng(i);this.fire(e,{latlng:o,layerPoint:i,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return h.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new h.Bounds(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new h.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),o=this.project(e.getSouthEast(),n).subtract(t.max),r=this._rebound(i.x,-o.x),s=this._rebound(i.y,-o.y);return new h.Point(r,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),h.map=function(t,e){return new h.Map(t,e)},h.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=h.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=this.R_MAJOR,r=this.R_MINOR,s=t.lng*e*o,a=i*e,l=r/o,u=Math.sqrt(1-l*l),c=u*Math.sin(a);c=Math.pow((1-c)/(1+c),.5*u);var p=Math.tan(.5*(.5*Math.PI-a))/c;return a=-o*Math.log(p),new h.Point(s,a)},unproject:function(t){for(var e,n=h.LatLng.RAD_TO_DEG,i=this.R_MAJOR,o=this.R_MINOR,r=t.x*n/i,s=o/i,a=Math.sqrt(1-s*s),l=Math.exp(-t.y/i),u=Math.PI/2-2*Math.atan(l),c=15,p=1e-7,d=c,f=.1;Math.abs(f)>p&&--d>0;)e=a*Math.sin(u),f=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*a))-u,u+=f;return new h.LatLng(u*n,r)}},h.CRS.EPSG3395=h.extend({},h.CRS,{code:"EPSG:3395",projection:h.Projection.Mercator,transformation:function(){var t=h.Projection.Mercator,e=t.R_MAJOR,n=.5/(Math.PI*e);return new h.Transformation(n,.5,-n,.5)}()}),h.TileLayer=h.Class.extend({includes:h.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:h.Browser.mobile,updateWhenIdle:h.Browser.mobile},initialize:function(t,e){e=h.setOptions(this,e),e.detectRetina&&h.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=h.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=h.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==a&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,i,o,r=t.children,s=-e(1/0,-(1/0));for(i=0,o=r.length;o>i;i++)r[i]!==this._container&&(n=parseInt(r[i].style.zIndex,10),isNaN(n)||(s=e(s,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(s)?s:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(h.Browser.ielt9)for(t in e)h.DomUtil.setOpacity(e[t],this.options.opacity);else h.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=h.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=h.DomUtil.create("div",e,this._container),this._tileContainer=h.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,i=this.options.tileSize;return n&&e>n&&(i=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*i)),i},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),i=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var o=h.bounds(e.min.divideBy(i)._floor(),e.max.divideBy(i)._floor());this._addTilesFromCenterOut(o),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(o)}}},_addTilesFromCenterOut:function(t){var e,n,i,o=[],r=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(n=t.min.x;n<=t.max.x;n++)i=new h.Point(n,e),this._tileShouldBeLoaded(i)&&o.push(i);var a=o.length;if(0!==a){o.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)});var l=s.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=a,n=0;a>n;n++)this._addTile(o[n],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var i=this._getTileSize(),o=t.multiplyBy(i),r=o.add([i,i]),s=this._map.unproject(o),a=this._map.unproject(r);if(e.continuousWorld||e.noWrap||(s=s.wrap(),a=a.wrap()),!e.bounds.intersects([s,a]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i,o;for(o in this._tiles)e=o.split(":"),n=parseInt(e[0],10),i=parseInt(e[1],10),(n<t.min.x||n>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(o)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(h.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),h.Browser.android||(e.onload=null,e.src=h.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();h.DomUtil.setPosition(i,n,h.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return h.Util.template(this._url,h.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=h.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=h.Util.falseFn,h.Browser.ielt9&&this.options.opacity!==a&&h.DomUtil.setOpacity(t,this.options.opacity),h.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&h.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(h.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==h.Util.emptyImageUrl&&(h.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),h.tileLayer=function(t,e){return new h.TileLayer(t,e)},h.TileLayer.WMS=h.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=h.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&h.Browser.retina?n.width=n.height=2*i:n.width=n.height=i;for(var o in e)this.options.hasOwnProperty(o)||"crs"===o||(n[o]=e[o]);this.wmsParams=n,h.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,h.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),o=i.add([n,n]),r=this._crs.project(e.unproject(i,t.z)),s=this._crs.project(e.unproject(o,t.z)),a=this._wmsVersion>=1.3&&this._crs===h.CRS.EPSG4326?[s.y,r.x,r.y,s.x].join(","):[r.x,s.y,s.x,r.y].join(","),l=h.Util.template(this._url,{s:this._getSubdomain(t)});return l+h.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+a},setParams:function(t,e){return h.extend(this.wmsParams,t),e||this.redraw(),this}}),h.tileLayer.wms=function(t,e){return new h.TileLayer.WMS(t,e)},h.TileLayer.Canvas=h.TileLayer.extend({options:{async:!1},initialize:function(t){h.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=h.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=h.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),h.tileLayer.canvas=function(t){return new h.TileLayer.Canvas(t)},h.ImageOverlay=h.Class.extend({includes:h.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=h.latLngBounds(e),h.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&h.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=h.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&h.Browser.any3d?h.DomUtil.addClass(this._image,"leaflet-zoom-animated"):h.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),h.extend(this._image,{galleryimg:"no",onselectstart:h.Util.falseFn,onmousemove:h.Util.falseFn,onload:h.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),o=this._bounds.getNorthWest(),r=this._bounds.getSouthEast(),s=e._latLngToNewLayerPoint(o,t.zoom,t.center),a=e._latLngToNewLayerPoint(r,t.zoom,t.center)._subtract(s),l=s._add(a._multiplyBy(.5*(1-1/i)));n.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(l)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);h.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){h.DomUtil.setOpacity(this._image,this.options.opacity)}}),h.imageOverlay=function(t,e,n){return new h.ImageOverlay(t,e,n)},h.Icon=h.Class.extend({options:{className:""},initialize:function(t){h.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,i=this.options,o=h.point(i[e+"Size"]);n="shadow"===e?h.point(i.shadowAnchor||i.iconAnchor):h.point(i.iconAnchor),!n&&o&&(n=o.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||s.createElement("img"),e.src=t,e},_getIconUrl:function(t){return h.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),h.icon=function(t){return new h.Icon(t)},h.Icon.Default=h.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];h.Browser.retina&&"icon"===t&&(t+="-2x");var n=h.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),h.Icon.Default.imagePath=function(){var t,e,n,i,o,r=s.getElementsByTagName("script"),a=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=r.length;e>t;t++)if(n=r[t].src,i=n.match(a))return o=n.split(a)[0],(o?o+"/":"")+"images"}(),h.Marker=h.Class.extend({includes:h.Mixin.Events,options:{icon:new h.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){h.setOptions(this,e),this._latlng=h.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=h.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=n?"leaflet-zoom-animated":"leaflet-zoom-hide",o=t.icon.createIcon(this._icon),r=!1;o!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(o.title=t.title),t.alt&&(o.alt=t.alt)),h.DomUtil.addClass(o,i),t.keyboard&&(o.tabIndex="0"),this._icon=o,this._initInteraction(),t.riseOnHover&&h.DomEvent.on(o,"mouseover",this._bringToFront,this).on(o,"mouseout",this._resetZIndex,this);var s=t.icon.createShadow(this._shadow),a=!1;s!==this._shadow&&(this._removeShadow(),a=!0),s&&h.DomUtil.addClass(s,i),this._shadow=s,t.opacity<1&&this._updateOpacity();var l=this._map._panes;r&&l.markerPane.appendChild(this._icon),s&&a&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&h.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){h.DomUtil.setPosition(this._icon,t),this._shadow&&h.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];h.DomUtil.addClass(t,"leaflet-clickable"),h.DomEvent.on(t,"click",this._onMouseClick,this),h.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)h.DomEvent.on(t,e[n],this._fireMouseEvent,this);h.Handler.MarkerDrag&&(this.dragging=new h.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&h.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&h.DomEvent.preventDefault(t),"mousedown"!==t.type?h.DomEvent.stopPropagation(t):h.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){h.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&h.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),h.marker=function(t,e){return new h.Marker(t,e)},h.DivIcon=h.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:s.createElement("div"),n=this.options;return n.html!==!1?e.innerHTML=n.html:e.innerHTML="",n.bgPos&&(e.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),h.divIcon=function(t){return new h.DivIcon(t)},h.Map.mergeOptions({closePopupOnClick:!0}),h.Popup=h.Class.extend({includes:h.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){h.setOptions(this,t),this._source=e,this._animated=h.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&h.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&h.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),h.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&h.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=h.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=h.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=h.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",h.DomEvent.disableClickPropagation(t),h.DomEvent.on(t,"click",this._onCloseButtonClick,this));var o=this._wrapper=h.DomUtil.create("div",e+"-content-wrapper",i);h.DomEvent.disableClickPropagation(o),this._contentNode=h.DomUtil.create("div",e+"-content",o),h.DomEvent.disableScrollPropagation(this._contentNode),h.DomEvent.on(o,"contextmenu",h.DomEvent.stopPropagation),this._tipContainer=h.DomUtil.create("div",e+"-tip-container",i),this._tip=h.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",h.DomUtil.addClass(t,r)):h.DomUtil.removeClass(t,r),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=h.point(this.options.offset);e&&h.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",
this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);h.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new h.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(h.DomUtil.getPosition(this._container));var o=t.layerPointToContainerPoint(i),r=h.point(this.options.autoPanPadding),s=h.point(this.options.autoPanPaddingTopLeft||r),a=h.point(this.options.autoPanPaddingBottomRight||r),l=t.getSize(),u=0,c=0;o.x+n+a.x>l.x&&(u=o.x+n-l.x+a.x),o.x-u-s.x<0&&(u=o.x-s.x),o.y+e+a.y>l.y&&(c=o.y+e-l.y+a.y),o.y-c-s.y<0&&(c=o.y-s.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),h.DomEvent.stop(t)}}),h.popup=function(t,e){return new h.Popup(t,e)},h.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof h.Popup)){var i=t;t=new h.Popup(n).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),h.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=h.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(h.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=h.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof h.Popup?(h.setOptions(t,e),this._popup=t,t._source=this):this._popup=new h.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),h.LayerGroup=h.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;n>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return h.stamp(t)}}),h.layerGroup=function(t){return new h.LayerGroup(t)},h.FeatureGroup=h.LayerGroup.extend({includes:h.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(h.FeatureGroup.EVENTS,this._propagateEvent,this),h.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(h.FeatureGroup.EVENTS,this._propagateEvent,this),h.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new h.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof h.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=h.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),h.featureGroup=function(t){return new h.FeatureGroup(t)},h.Path=h.Class.extend({includes:[h.Mixin.Events],statics:{CLIP_PADDING:function(){var t=h.Browser.mobile?1280:2e3,e=(t/Math.max(r.outerWidth,r.outerHeight)-1)/2;return Math.max(0,Math.min(.5,e))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){h.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,h.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return h.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),h.Map.include({_updatePathViewport:function(){var t=h.Path.CLIP_PADDING,e=this.getSize(),n=h.DomUtil.getPosition(this._mapPane),i=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),o=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new h.Bounds(i,o)}}),h.Path.SVG_NS="http://www.w3.org/2000/svg",h.Browser.svg=!(!s.createElementNS||!s.createElementNS(h.Path.SVG_NS,"svg").createSVGRect),h.Path=h.Path.extend({statics:{SVG:h.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return s.createElementNS(h.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&h.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(h.Browser.svg||!h.Browser.vml)&&h.DomUtil.addClass(this._path,"leaflet-clickable"),h.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)h.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(n),o=e.layerPointToLatLng(i);this.fire(t.type,{latlng:o,layerPoint:i,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&h.DomEvent.preventDefault(t),"mousemove"!==t.type&&h.DomEvent.stopPropagation(t)}}}),h.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=h.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&h.Browser.any3d?(h.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):h.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[h.DomUtil.TRANSFORM]=h.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,i=n.x-e.x,o=n.y-e.y,r=this._pathRoot,s=this._panes.overlayPane;h.Browser.mobileWebkit&&s.removeChild(r),h.DomUtil.setPosition(r,e),r.setAttribute("width",i),r.setAttribute("height",o),r.setAttribute("viewBox",[e.x,e.y,i,o].join(" ")),h.Browser.mobileWebkit&&s.appendChild(r)}}}),h.Path.include({bindPopup:function(t,e){return t instanceof h.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new h.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),h.Browser.vml=!h.Browser.svg&&function(){try{var t=s.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(n){return!1}}(),h.Path=h.Browser.svg||!h.Browser.vml?h.Path:h.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return s.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return s.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return s.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");h.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&h.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=h.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),h.Map.include(h.Browser.svg||!h.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=s.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),h.Browser.canvas=function(){return!!s.createElement("canvas").getContext}(),h.Path=h.Path.SVG&&!r.L_PREFER_CANVAS||!h.Browser.canvas?h.Path:h.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return h.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!h.Path._updateRequest&&(h.Path._updateRequest=h.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){h.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,n,i,o,r;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,i=this._parts[t].length;i>e;e++)o=this._parts[t][e],r=(0===e?"move":"line")+"To",this._ctx[r](o.x,o.y);this instanceof h.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),h.Map.include(h.Path.SVG&&!r.L_PREFER_CANVAS||!h.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=s.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),i=this._pathRoot;h.DomUtil.setPosition(i,e),i.width=n.x,i.height=n.y,i.getContext("2d").translate(-e.x,-e.y)}}}),h.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,i=typeof Uint8Array!=a+""?Uint8Array:Array,o=new i(n);o[0]=o[n-1]=1,this._simplifyDPStep(t,o,e,0,n-1);var r,s=[];for(r=0;n>r;r++)o[r]&&s.push(t[r]);return s},_simplifyDPStep:function(t,e,n,i,o){var r,s,a,l=0;for(s=i+1;o-1>=s;s++)a=this._sqClosestPointOnSegment(t[s],t[i],t[o],!0),a>l&&(r=s,l=a);l>n&&(e[r]=1,this._simplifyDPStep(t,e,n,i,r),this._simplifyDPStep(t,e,n,r,o))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;r>i;i++)this._sqDist(t[i],t[o])>e&&(n.push(t[i]),o=i);return r-1>o&&n.push(t[r-1]),n},clipSegment:function(t,e,n,i){var o,r,s,a=i?this._lastCode:this._getBitCode(t,n),l=this._getBitCode(e,n);for(this._lastCode=l;;){if(!(a|l))return[t,e];if(a&l)return!1;o=a||l,r=this._getEdgeIntersection(t,e,o,n),s=this._getBitCode(r,n),o===a?(t=r,a=s):(e=r,l=s)}},_getEdgeIntersection:function(t,e,n,i){var o=e.x-t.x,r=e.y-t.y,s=i.min,a=i.max;return 8&n?new h.Point(t.x+o*(a.y-t.y)/r,a.y):4&n?new h.Point(t.x+o*(s.y-t.y)/r,s.y):2&n?new h.Point(a.x,t.y+r*(a.x-t.x)/o):1&n?new h.Point(s.x,t.y+r*(s.x-t.x)/o):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,l=n.y-s,u=a*a+l*l;return u>0&&(o=((t.x-r)*a+(t.y-s)*l)/u,o>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=l*o)),a=t.x-r,l=t.y-s,i?a*a+l*l:new h.Point(r,s)}},h.Polyline=h.Path.extend({initialize:function(t,e){h.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";e>t;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(h.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,i=1/0,o=this._parts,r=null,s=0,a=o.length;a>s;s++)for(var l=o[s],u=1,c=l.length;c>u;u++){e=l[u-1],n=l[u];var p=h.LineUtil._sqClosestPointOnSegment(t,e,n,!0);i>p&&(i=p,r=h.LineUtil._sqClosestPointOnSegment(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getBounds:function(){return new h.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,i,o=e?t:[];for(n=0,i=t.length;i>n;n++){if(h.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;o[n]=h.latLng(t[n])}return o},_initEvents:function(){h.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=h.Path.VML,i=0,o=t.length,r="";o>i;i++)e=t[i],n&&e._round(),r+=(i?"L":"M")+e.x+" "+e.y;return r},_clipPoints:function(){var t,e,n,i=this._originalPoints,o=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var r=this._parts,s=this._map._pathViewport,a=h.LineUtil;for(t=0,e=0;o-1>t;t++)n=a.clipSegment(i[t],i[t+1],s,t),n&&(r[e]=r[e]||[],r[e].push(n[0]),(n[1]!==i[t+1]||t===o-2)&&(r[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=h.LineUtil,n=0,i=t.length;i>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),h.Path.prototype._updatePath.call(this))}}),h.polyline=function(t,e){return new h.Polyline(t,e)},h.PolyUtil={},h.PolyUtil.clipPolygon=function(t,e){var n,i,o,r,s,a,l,u,c,p=[1,4,2,8],d=h.LineUtil;for(i=0,l=t.length;l>i;i++)t[i]._code=d._getBitCode(t[i],e);for(r=0;4>r;r++){for(u=p[r],n=[],i=0,l=t.length,o=l-1;l>i;o=i++)s=t[i],a=t[o],s._code&u?a._code&u||(c=d._getEdgeIntersection(a,s,u,e),c._code=d._getBitCode(c,e),n.push(c)):(a._code&u&&(c=d._getEdgeIntersection(a,s,u,e),c._code=d._getBitCode(c,e),n.push(c)),n.push(s));t=n}return t},h.Polygon=h.Polyline.extend({options:{fill:!0},initialize:function(t,e){h.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,i;if(t&&h.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;n>e;e++)i=this._holes[e]=this._convertLatLngs(this._holes[e]),i[0].equals(i[i.length-1])&&i.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(h.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,i;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;i>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&h.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):h.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;i>n;n++){var o=h.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);o.length&&e.push(o)}this._parts=e}},_getPathPartStr:function(t){var e=h.Polyline.prototype._getPathPartStr.call(this,t);return e+(h.Browser.svg?"z":"x")}}),h.polygon=function(t,e){return new h.Polygon(t,e)},function(){function t(t){return h.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){i>n?t.setLatLngs(e[n++]):this.removeLayer(t)},this);i>n;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}h.MultiPolyline=t(h.Polyline),h.MultiPolygon=t(h.Polygon),h.multiPolyline=function(t,e){return new h.MultiPolyline(t,e)},h.multiPolygon=function(t,e){return new h.MultiPolygon(t,e)}}(),h.Rectangle=h.Polygon.extend({initialize:function(t,e){h.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=h.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),h.rectangle=function(t,e){return new h.Rectangle(t,e)},h.Circle=h.Path.extend({initialize:function(t,e,n){h.Path.prototype.initialize.call(this,n),this._latlng=h.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=h.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new h.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":h.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(h.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),h.circle=function(t,e,n){return new h.Circle(t,e,n)},h.CircleMarker=h.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){h.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){h.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return h.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),h.circleMarker=function(t,e){return new h.CircleMarker(t,e)},h.Polyline.include(h.Path.CANVAS?{_containsPoint:function(t,e){var n,i,o,r,s,a,l,u=this.options.weight/2;for(h.Browser.touch&&(u+=10),n=0,r=this._parts.length;r>n;n++)for(l=this._parts[n],i=0,s=l.length,o=s-1;s>i;o=i++)if((e||0!==i)&&(a=h.LineUtil.pointToSegmentDistance(t,l[o],l[i]),u>=a))return!0;return!1}}:{}),h.Polygon.include(h.Path.CANVAS?{_containsPoint:function(t){var e,n,i,o,r,s,a,l,u=!1;if(h.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(o=0,a=this._parts.length;a>o;o++)for(e=this._parts[o],r=0,l=e.length,s=l-1;l>r;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u}}:{}),h.Circle.include(h.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),h.CircleMarker.include(h.Path.CANVAS?{_updateStyle:function(){h.Path.prototype._updateStyle.call(this)}}:{}),h.GeoJSON=h.FeatureGroup.extend({initialize:function(t,e){h.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=h.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;n>e;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(o[e]);return this}var r=this.options;if(!r.filter||r.filter(t)){var s=h.GeoJSON.geometryToLayer(t,r.pointToLayer,r.coordsToLatLng,r);return s.feature=h.GeoJSON.asFeature(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)}},resetStyle:function(t){var e=this.options.style;e&&(h.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),h.extend(h.GeoJSON,{geometryToLayer:function(t,e,n,i){var o,r,s,a,l="Feature"===t.type?t.geometry:t,u=l.coordinates,c=[];switch(n=n||this.coordsToLatLng,l.type){case"Point":return o=n(u),e?e(t,o):new h.Marker(o);case"MultiPoint":for(s=0,a=u.length;a>s;s++)o=n(u[s]),c.push(e?e(t,o):new h.Marker(o));return new h.FeatureGroup(c);case"LineString":return r=this.coordsToLatLngs(u,0,n),new h.Polyline(r,i);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return r=this.coordsToLatLngs(u,1,n),new h.Polygon(r,i);case"MultiLineString":return r=this.coordsToLatLngs(u,1,n),new h.MultiPolyline(r,i);case"MultiPolygon":return r=this.coordsToLatLngs(u,2,n),new h.MultiPolygon(r,i);case"GeometryCollection":for(s=0,a=l.geometries.length;a>s;s++)c.push(this.geometryToLayer({geometry:l.geometries[s],type:"Feature",properties:t.properties},e,n,i));return new h.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new h.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){var i,o,r,s=[];for(o=0,r=t.length;r>o;o++)i=e?this.coordsToLatLngs(t[o],e-1,n):(n||this.coordsToLatLng)(t[o]),s.push(i);return s},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==a&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(h.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?h.extend({},t.feature,{geometry:e}):h.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var c={toGeoJSON:function(){return h.GeoJSON.getFeature(this,{type:"Point",coordinates:h.GeoJSON.latLngToCoords(this.getLatLng())})}};h.Marker.include(c),h.Circle.include(c),h.CircleMarker.include(c),h.Polyline.include({toGeoJSON:function(){return h.GeoJSON.getFeature(this,{type:"LineString",coordinates:h.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),h.Polygon.include({toGeoJSON:function(){var t,e,n,i=[h.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)n=h.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),i.push(n);return h.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),h.GeoJSON.getFeature(this,{type:t,coordinates:e})}}h.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),h.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),h.LayerGroup.include({toGeoJSON:function(){var e,n=this.feature&&this.feature.geometry,i=[];if(n&&"MultiPoint"===n.type)return t("MultiPoint").call(this);var o=n&&"GeometryCollection"===n.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),i.push(o?e.geometry:h.GeoJSON.asFeature(e)))}),o?h.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}(),h.geoJson=function(t,e){return new h.GeoJSON(t,e)},h.DomEvent={addListener:function(t,e,n,i){var o,r,s,a=h.stamp(n),l="_leaflet_"+e+a;return t[l]?this:(o=function(e){return n.call(i||t,e||h.DomEvent._getEvent())},h.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,o,a):(h.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,o,a),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",o,!1),t.addEventListener(e,o,!1)):"mouseenter"===e||"mouseleave"===e?(r=o,s="mouseenter"===e?"mouseover":"mouseout",o=function(e){return h.DomEvent._checkMouse(t,e)?r(e):void 0},t.addEventListener(s,o,!1)):"click"===e&&h.Browser.android?(r=o,o=function(t){return h.DomEvent._filterClick(t,r)},t.addEventListener(e,o,!1)):t.addEventListener(e,o,!1):"attachEvent"in t&&t.attachEvent("on"+e,o),t[l]=o,this))},removeListener:function(t,e,n){var i=h.stamp(n),o="_leaflet_"+e+i,r=t[o];return r?(h.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):h.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",r,!1),t.removeEventListener(e,r,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1):t.removeEventListener(e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,h.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=h.DomEvent.stopPropagation;return h.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=h.DomEvent.stopPropagation,n=h.Draggable.START.length-1;n>=0;n--)h.DomEvent.on(t,h.Draggable.START[n],e);
return h.DomEvent.on(t,"click",h.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return h.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new h.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new h.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){h.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_getEvent:function(){var t=r.event;if(!t)for(var e=arguments.callee.caller;e&&(t=e.arguments[0],!t||r.Event!==t.constructor);)e=e.caller;return t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=h.DomEvent._lastClick&&n-h.DomEvent._lastClick;return i&&i>100&&500>i||t.target._simulatedClick&&!t._simulated?void h.DomEvent.stop(t):(h.DomEvent._lastClick=n,e(t))}},h.DomEvent.on=h.DomEvent.addListener,h.DomEvent.off=h.DomEvent.removeListener,h.Draggable=h.Class.extend({includes:h.Mixin.Events,statics:{START:h.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=h.Draggable.START.length-1;t>=0;t--)h.DomEvent.on(this._dragStartTarget,h.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=h.Draggable.START.length-1;t>=0;t--)h.DomEvent.off(this._dragStartTarget,h.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(h.DomEvent.stopPropagation(t),!h.Draggable._disabled&&(h.DomUtil.disableImageDrag(),h.DomUtil.disableTextSelection(),!this._moving))){var e=t.touches?t.touches[0]:t;this._startPoint=new h.Point(e.clientX,e.clientY),this._startPos=this._newPos=h.DomUtil.getPosition(this._element),h.DomEvent.on(s,h.Draggable.MOVE[t.type],this._onMove,this).on(s,h.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new h.Point(e.clientX,e.clientY),i=n.subtract(this._startPoint);(i.x||i.y)&&(h.Browser.touch&&Math.abs(i.x)+Math.abs(i.y)<3||(h.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=h.DomUtil.getPosition(this._element).subtract(i),h.DomUtil.addClass(s.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,h.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,h.Util.cancelAnimFrame(this._animRequest),this._animRequest=h.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),h.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){h.DomUtil.removeClass(s.body,"leaflet-dragging"),this._lastTarget&&(h.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in h.Draggable.MOVE)h.DomEvent.off(s,h.Draggable.MOVE[t],this._onMove).off(s,h.Draggable.END[t],this._onUp);h.DomUtil.enableImageDrag(),h.DomUtil.enableTextSelection(),this._moved&&this._moving&&(h.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),h.Handler=h.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),h.Map.mergeOptions({dragging:!0,inertia:!h.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:h.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),h.Map.Drag=h.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new h.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=+new Date-this._lastTime,o=!n.inertia||i>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),o)e.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),s=(this._lastTime+i-this._times[0])/1e3,a=n.easeLinearity,l=r.multiplyBy(a/s),u=l.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),p=l.multiplyBy(c/u),d=c/(n.inertiaDeceleration*a),f=p.multiplyBy(-d/2).round();f.x&&f.y?(f=e._limitOffset(f,e.options.maxBounds),h.Util.requestAnimFrame(function(){e.panBy(f,{duration:d,easeLinearity:a,noMoveStart:!0})})):e.fire("moveend")}}}),h.Map.addInitHook("addHandler","dragging",h.Map.Drag),h.Map.mergeOptions({doubleClickZoom:!0}),h.Map.DoubleClickZoom=h.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),h.Map.addInitHook("addHandler","doubleClickZoom",h.Map.DoubleClickZoom),h.Map.mergeOptions({scrollWheelZoom:!0}),h.Map.ScrollWheelZoom=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),h.DomEvent.on(this._map._container,"MozMousePixelScroll",h.DomEvent.preventDefault),this._delta=0},removeHooks:function(){h.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),h.DomEvent.off(this._map._container,"MozMousePixelScroll",h.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=h.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h.bind(this._performZoom,this),n),h.DomEvent.preventDefault(t),h.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),h.Map.addInitHook("addHandler","scrollWheelZoom",h.Map.ScrollWheelZoom),h.extend(h.DomEvent,{_touchstart:h.Browser.msPointer?"MSPointerDown":h.Browser.pointer?"pointerdown":"touchstart",_touchend:h.Browser.msPointer?"MSPointerUp":h.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,n){function i(t){var e;if(h.Browser.pointer?(f.push(t.pointerId),e=f.length):e=t.touches.length,!(e>1)){var n=Date.now(),i=n-(r||n);a=t.touches?t.touches[0]:t,l=i>0&&u>=i,r=n}}function o(t){if(h.Browser.pointer){var n=f.indexOf(t.pointerId);if(-1===n)return;f.splice(n,1)}if(l){if(h.Browser.pointer){var i,o={};for(var s in a)i=a[s],"function"==typeof i?o[s]=i.bind(a):o[s]=i;a=o}a.type="dblclick",e(a),r=null}}var r,a,l=!1,u=250,c="_leaflet_",p=this._touchstart,d=this._touchend,f=[];t[c+p+n]=i,t[c+d+n]=o;var m=h.Browser.pointer?s.documentElement:t;return t.addEventListener(p,i,!1),m.addEventListener(d,o,!1),h.Browser.pointer&&m.addEventListener(h.DomEvent.POINTER_CANCEL,o,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_";return t.removeEventListener(this._touchstart,t[n+this._touchstart+e],!1),(h.Browser.pointer?s.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+e],!1),h.Browser.pointer&&s.documentElement.removeEventListener(h.DomEvent.POINTER_CANCEL,t[n+this._touchend+e],!1),this}}),h.extend(h.DomEvent,{POINTER_DOWN:h.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:h.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:h.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:h.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,i);case"touchend":return this.addPointerListenerEnd(t,e,n,i);case"touchmove":return this.addPointerListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,e,n,i){var o="_leaflet_",r=this._pointers,a=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&h.DomEvent.preventDefault(t);for(var e=!1,i=0;i<r.length;i++)if(r[i].pointerId===t.pointerId){e=!0;break}e||r.push(t),t.touches=r.slice(),t.changedTouches=[t],n(t)};if(t[o+"touchstart"+i]=a,t.addEventListener(this.POINTER_DOWN,a,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}};s.documentElement.addEventListener(this.POINTER_UP,l,!1),s.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,n,i){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s[e]=t;break}t.touches=s.slice(),t.changedTouches=[t],n(t)}}var r="_leaflet_",s=this._pointers;return t[r+"touchmove"+i]=o,t.addEventListener(this.POINTER_MOVE,o,!1),this},addPointerListenerEnd:function(t,e,n,i){var o="_leaflet_",r=this._pointers,s=function(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}t.touches=r.slice(),t.changedTouches=[t],n(t)};return t[o+"touchend"+i]=s,t.addEventListener(this.POINTER_UP,s,!1),t.addEventListener(this.POINTER_CANCEL,s,!1),this},removePointerListener:function(t,e,n){var i="_leaflet_",o=t[i+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,o,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,o,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,o,!1),t.removeEventListener(this.POINTER_CANCEL,o,!1)}return this}}),h.Map.mergeOptions({touchZoom:h.Browser.touch&&!h.Browser.android23,bounceAtZoomLimits:!0}),h.Map.TouchZoom=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){h.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]),o=e._getCenterLayerPoint();this._startCenter=n.add(i)._divideBy(2),this._startDist=n.distanceTo(i),this._moved=!1,this._zooming=!0,this._centerOffset=o.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),h.DomEvent.on(s,"touchmove",this._onTouchMove,this).on(s,"touchend",this._onTouchEnd,this),h.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(i)/this._startDist,this._delta=n._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(h.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),h.Util.cancelAnimFrame(this._animRequest),this._animRequest=h.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),h.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(n,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,h.DomUtil.removeClass(t._mapPane,"leaflet-touching"),h.Util.cancelAnimFrame(this._animRequest),h.DomEvent.off(s,"touchmove",this._onTouchMove).off(s,"touchend",this._onTouchEnd);var e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getZoom(),o=t.getScaleZoom(this._scale)-i,r=o>0?Math.ceil(o):Math.floor(o),a=t._limitZoom(i+r),l=t.getZoomScale(a)/this._scale;t._animateZoom(n,a,e,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),h.Map.addInitHook("addHandler","touchZoom",h.Map.TouchZoom),h.Map.mergeOptions({tap:!0,tapTolerance:15}),h.Map.Tap=h.Handler.extend({addHooks:function(){h.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){h.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(h.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new h.Point(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&h.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(h.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),h.DomEvent.on(s,"touchmove",this._onMove,this).on(s,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),h.DomEvent.off(s,"touchmove",this._onMove,this).off(s,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&h.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new h.Point(e.clientX,e.clientY)},_simulateEvent:function(t,e){var n=s.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,r,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}),h.Browser.touch&&!h.Browser.pointer&&h.Map.addInitHook("addHandler","tap",h.Map.Tap),h.Map.mergeOptions({boxZoom:!0}),h.Map.BoxZoom=h.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){h.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){h.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(h.DomUtil.disableTextSelection(),h.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void h.DomEvent.on(s,"mousemove",this._onMouseMove,this).on(s,"mouseup",this._onMouseUp,this).on(s,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=h.DomUtil.create("div","leaflet-zoom-box",this._pane),h.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),o=i.subtract(e),r=new h.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));h.DomUtil.setPosition(n,r),this._moved=!0,n.style.width=Math.max(0,Math.abs(o.x)-4)+"px",n.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),h.DomUtil.enableTextSelection(),h.DomUtil.enableImageDrag(),h.DomEvent.off(s,"mousemove",this._onMouseMove).off(s,"mouseup",this._onMouseUp).off(s,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var i=new h.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),h.Map.addInitHook("addHandler","boxZoom",h.Map.BoxZoom),h.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),h.Map.Keyboard=h.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),h.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;h.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var t=s.body,e=s.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),r.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;n>e;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;n>e;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;n>e;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;n>e;e++)i[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;n>e;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;n>e;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){h.DomEvent.on(s,"keydown",this._onKeyDown,this)},_removeHooks:function(){h.DomEvent.off(s,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}h.DomEvent.stop(t)}}),h.Map.addInitHook("addHandler","keyboard",h.Map.Keyboard),h.Handler.MarkerDrag=h.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new h.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),h.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),h.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=h.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&h.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),h.Control=h.Class.extend({options:{position:"topright"},initialize:function(t){h.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return h.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),h.control=function(t){return new h.Control(t)},h.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,o){var r=n+t+" "+n+o;e[t+o]=h.DomUtil.create("div",r,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=h.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),h.Control.Zoom=h.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=h.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,o,r){var s=h.DomUtil.create("a",n,i);s.innerHTML=t,s.href="#",s.title=e;var a=h.DomEvent.stopPropagation;return h.DomEvent.on(s,"click",a).on(s,"mousedown",a).on(s,"dblclick",a).on(s,"click",h.DomEvent.preventDefault).on(s,"click",o,r).on(s,"click",this._refocusOnMap,r),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";h.DomUtil.removeClass(this._zoomInButton,e),h.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&h.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&h.DomUtil.addClass(this._zoomInButton,e)}}),h.Map.mergeOptions({zoomControl:!0}),h.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new h.Control.Zoom,this.addControl(this.zoomControl))}),h.control.zoom=function(t){return new h.Control.Zoom(t)},h.Control.Attribution=h.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){h.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=h.DomUtil.create("div","leaflet-control-attribution"),h.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),h.Map.mergeOptions({attributionControl:!0}),h.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new h.Control.Attribution).addTo(this))}),h.control.attribution=function(t){return new h.Control.Attribution(t)},h.Control.Scale=h.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=h.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=h.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=h.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),i=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),r=this.options,s=0;o.x>0&&(s=i*(r.maxWidth/o.x)),this._updateScales(r,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,i,o=3.2808399*t,r=this._iScale;o>5280?(e=o/5280,n=this._getRoundNum(e),r.style.width=this._getScaleWidth(n/e)+"px",r.innerHTML=n+" mi"):(i=this._getRoundNum(o),r.style.width=this._getScaleWidth(i/o)+"px",r.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),h.control.scale=function(t){return new h.Control.Scale(t)},h.Control.Layers=h.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){h.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=h.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=h.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),h.Browser.touch?h.DomEvent.on(e,"click",h.DomEvent.stopPropagation):h.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=h.DomUtil.create("form",t+"-list");if(this.options.collapsed){h.Browser.android||h.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=h.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",h.Browser.touch?h.DomEvent.on(i,"click",h.DomEvent.stop).on(i,"click",this._expand,this):h.DomEvent.on(i,"focus",this._expand,this),h.DomEvent.on(n,"click",function(){setTimeout(h.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=h.DomUtil.create("div",t+"-base",n),this._separator=h.DomUtil.create("div",t+"-separator",n),this._overlaysList=h.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var i=h.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[h.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)}},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(n+=' checked="checked"'),n+="/>";var i=s.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=s.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?(e=s.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),e.layerId=h.stamp(t.layer),h.DomEvent.on(e,"click",this._onInputClick,this);var o=s.createElement("span");o.innerHTML=" "+t.name,n.appendChild(e),n.appendChild(o);var r=t.overlay?this._overlaysList:this._baseLayersList;return r.appendChild(n),n},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),o=i.length;for(this._handlingClick=!0,t=0;o>t;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){h.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),h.control.layers=function(t,e,n){return new h.Control.Layers(t,e,n)},h.PosAnimation=h.Class.extend({includes:h.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[h.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",h.DomEvent.on(t,h.DomUtil.TRANSITION_END,this._onTransitionEnd,this),h.DomUtil.setPosition(t,e),h.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(h.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(h.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),h.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var t,e,n,i=this._el,o=r.getComputedStyle(i);if(h.Browser.any3d){if(n=o[h.DomUtil.TRANSFORM].match(this._transformRe),!n)return;t=parseFloat(n[1]),e=parseFloat(n[2])}else t=parseFloat(o.left),e=parseFloat(o.top);return new h.Point(t,e,!0)},_onTransitionEnd:function(){h.DomEvent.off(this._el,h.DomUtil.TRANSITION_END,this._onTransitionEnd,this),
this._inProgress&&(this._inProgress=!1,this._el.style[h.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),h.Map.include({setView:function(t,e,n){if(e=e===a?this._zoom:this._limitZoom(e),t=this._limitCenter(h.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==a&&(n.zoom=h.extend({animate:n.animate},n.zoom),n.pan=h.extend({animate:n.animate},n.pan));var i=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(i)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=h.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new h.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){h.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){h.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(n)?(this.panBy(n,e),!0):!1}}),h.PosAnimation=h.DomUtil.TRANSITION?h.PosAnimation:h.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=h.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=h.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));h.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){h.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),h.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),h.DomUtil.TRANSITION&&h.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&h.DomUtil.TRANSITION&&h.Browser.any3d&&!h.Browser.android23&&!h.Browser.mobileOpera,this._zoomAnimated&&h.DomEvent.on(this._mapPane,h.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),h.Map.include(h.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i),r=this._getCenterLayerPoint()._add(o);return n.animate===!0||this.getSize().contains(o)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,r,i,null,!0),!0):!1},_animateZoom:function(t,e,n,i,o,r,s){s||(this._animatingZoom=!0),h.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,h.Draggable&&(h.Draggable._disabled=!0),h.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:o,backwards:r}),setTimeout(h.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,h.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),h.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),h.Draggable&&(h.Draggable._disabled=!1)},this))}}:{}),h.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=h.DomUtil.TRANSFORM,i=t.delta?h.DomUtil.getTranslateString(t.delta):e.style[n],o=h.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?o+" "+i:i+" "+o},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),h.Util.falseFn(e.offsetWidth);var n=this._map.getZoom();(n>this.options.maxZoom||n<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[h.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&n>.5&&.5>i?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[h.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,i=t.getElementsByTagName("img"),o=0;for(e=0,n=i.length;n>e;e++)i[e].complete&&o++;return o/n},_stopLoadingImages:function(t){var e,n,i,o=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=o.length;n>e;e++)i=o[e],i.complete||(i.onload=h.Util.falseFn,i.onerror=h.Util.falseFn,i.src=h.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),h.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=h.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=h.bind(this._handleGeolocationResponse,this),n=h.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new h.LatLng(e,n),o=180*t.coords.accuracy/40075017,r=o/Math.cos(h.LatLng.DEG_TO_RAD*e),s=h.latLngBounds([e-o,n-r],[e+o,n+r]),a=this._locateOptions;if(a.setView){var l=Math.min(this.getBoundsZoom(s),a.maxZoom);this.setView(i,l)}var u={latlng:i,bounds:s,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(u[c]=t.coords[c]);this.fire("locationfound",u)}})}(window,document)},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var i={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(t){o.forEach(function(e){i[n(e,t)]=i[t]})});var r={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:r};t.exports=s},function(t,e,n){(function(e){"use strict";function i(t,e,n){var i=n>=t.childNodes.length?null:t.childNodes.item(n);t.insertBefore(e,i)}var o=n(133),r=n(79),s=n(8),a=n(36),l=n(53),h=n(2),u={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(t,n){for(var s,u=null,c=null,p=0;p<t.length;p++)if(s=t[p],s.type===r.MOVE_EXISTING||s.type===r.REMOVE_NODE){var d=s.fromIndex,f=s.parentNode.childNodes[d],m=s.parentID;f?void 0:"production"!==e.env.NODE_ENV?h(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",d,m):h(!1),u=u||{},u[m]=u[m]||[],u[m][d]=f,c=c||[],c.push(f)}var g;if(g=n.length&&"string"==typeof n[0]?o.dangerouslyRenderMarkup(n):n,c)for(var v=0;v<c.length;v++)c[v].parentNode.removeChild(c[v]);for(var _=0;_<t.length;_++)switch(s=t[_],s.type){case r.INSERT_MARKUP:i(s.parentNode,g[s.markupIndex],s.toIndex);break;case r.MOVE_EXISTING:i(s.parentNode,u[s.parentID][s.fromIndex],s.toIndex);break;case r.SET_MARKUP:a(s.parentNode,s.content);break;case r.TEXT_CONTENT:l(s.parentNode,s.content);break;case r.REMOVE_NODE:}}};s.measureMethods(u,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=u}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(){if(a)for(var t in l){var n=l[t],i=a.indexOf(t);if(i>-1?void 0:"production"!==e.env.NODE_ENV?s(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",t):s(!1),!h.plugins[i]){n.extractEvents?void 0:"production"!==e.env.NODE_ENV?s(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",t):s(!1),h.plugins[i]=n;var r=n.eventTypes;for(var u in r)o(r[u],n,u)?void 0:"production"!==e.env.NODE_ENV?s(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",u,t):s(!1)}}}function o(t,n,i){h.eventNameDispatchConfigs.hasOwnProperty(i)?"production"!==e.env.NODE_ENV?s(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i):s(!1):void 0,h.eventNameDispatchConfigs[i]=t;var o=t.phasedRegistrationNames;if(o){for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];r(l,n,i)}return!0}return t.registrationName?(r(t.registrationName,n,i),!0):!1}function r(t,n,i){h.registrationNameModules[t]?"production"!==e.env.NODE_ENV?s(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",t):s(!1):void 0,h.registrationNameModules[t]=n,h.registrationNameDependencies[t]=n.eventTypes[i].dependencies}var s=n(2),a=null,l={},h={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){a?"production"!==e.env.NODE_ENV?s(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):s(!1):void 0,a=Array.prototype.slice.call(t),i()},injectEventPluginsByName:function(t){var n=!1;for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];l.hasOwnProperty(o)&&l[o]===r||(l[o]?"production"!==e.env.NODE_ENV?s(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",o):s(!1):void 0,l[o]=r,n=!0)}n&&i()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return h.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var i=h.registrationNameModules[e.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){a=null;for(var t in l)l.hasOwnProperty(t)&&delete l[t];h.plugins.length=0;var e=h.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var i=h.registrationNameModules;for(var o in i)i.hasOwnProperty(o)&&delete i[o]}};t.exports=h}).call(e,n(1))},function(t,e,n){"use strict";function i(t){return(""+t).replace(b,"//")}function o(t,e){this.func=t,this.context=e,this.count=0}function r(t,e,n){var i=t.func,o=t.context;i.call(o,e,t.count++)}function s(t,e,n){if(null==t)return t;var i=o.getPooled(e,n);v(t,r,i),o.release(i)}function a(t,e,n,i){this.result=t,this.keyPrefix=e,this.func=n,this.context=i,this.count=0}function l(t,e,n){var o=t.result,r=t.keyPrefix,s=t.func,a=t.context,l=s.call(a,e,t.count++);Array.isArray(l)?h(l,o,n,g.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,r+(l!==e?i(l.key||"")+"/":"")+n)),o.push(l))}function h(t,e,n,o,r){var s="";null!=n&&(s=i(n)+"/");var h=a.getPooled(e,s,o,r);v(t,l,h),a.release(h)}function u(t,e,n){if(null==t)return t;var i=[];return h(t,i,null,e,n),i}function c(t,e,n){return null}function p(t,e){return v(t,c,null)}function d(t){var e=[];return h(t,e,null,g.thatReturnsArgument),e}var f=n(14),m=n(7),g=n(10),v=n(55),_=f.twoArgumentPooler,y=f.fourArgumentPooler,b=/\/(?!\/)/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(o,_),a.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(a,y);var M={forEach:s,map:u,mapIntoWithKeyPrefixInternal:h,count:p,toArray:d};t.exports=M},function(t,e,n){(function(e){"use strict";function i(){N||(N=!0,"production"!==e.env.NODE_ENV?w(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."):void 0)}function o(t,n,i){for(var o in n)n.hasOwnProperty(o)&&("production"!==e.env.NODE_ENV?w("function"==typeof n[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactClass",g[i],o):void 0)}function r(t,n){var i=P.hasOwnProperty(n)?P[n]:null;D.hasOwnProperty(n)&&(i!==C.OVERRIDE_BASE?"production"!==e.env.NODE_ENV?b(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n):b(!1):void 0),t.hasOwnProperty(n)&&(i!==C.DEFINE_MANY&&i!==C.DEFINE_MANY_MERGED?"production"!==e.env.NODE_ENV?b(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):b(!1):void 0)}function s(t,n){if(n){"function"==typeof n?"production"!==e.env.NODE_ENV?b(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):b(!1):void 0,f.isValidElement(n)?"production"!==e.env.NODE_ENV?b(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):b(!1):void 0;var i=t.prototype;n.hasOwnProperty(E)&&S.mixins(t,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==E){var s=n[o];if(r(i,o),S.hasOwnProperty(o))S[o](t,s);else{var a=P.hasOwnProperty(o),l=i.hasOwnProperty(o),c="function"==typeof s,p=c&&!a&&!l&&n.autobind!==!1;if(p)i.__reactAutoBindMap||(i.__reactAutoBindMap={}),i.__reactAutoBindMap[o]=s,i[o]=s;else if(l){var d=P[o];!a||d!==C.DEFINE_MANY_MERGED&&d!==C.DEFINE_MANY?"production"!==e.env.NODE_ENV?b(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",d,o):b(!1):void 0,d===C.DEFINE_MANY_MERGED?i[o]=h(i[o],s):d===C.DEFINE_MANY&&(i[o]=u(i[o],s))}else i[o]=s,"production"!==e.env.NODE_ENV&&"function"==typeof s&&n.displayName&&(i[o].displayName=n.displayName+"_"+o)}}}}function a(t,n){if(n)for(var i in n){var o=n[i];if(n.hasOwnProperty(i)){var r=i in S;r?"production"!==e.env.NODE_ENV?b(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',i):b(!1):void 0;var s=i in t;s?"production"!==e.env.NODE_ENV?b(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i):b(!1):void 0,t[i]=o}}}function l(t,n){t&&n&&"object"==typeof t&&"object"==typeof n?void 0:"production"!==e.env.NODE_ENV?b(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):b(!1);for(var i in n)n.hasOwnProperty(i)&&(void 0!==t[i]?"production"!==e.env.NODE_ENV?b(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",i):b(!1):void 0,t[i]=n[i]);return t}function h(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var o={};return l(o,n),l(o,i),o}}function u(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,n){var i=n.bind(t);if("production"!==e.env.NODE_ENV){i.__reactBoundContext=t,i.__reactBoundMethod=n,i.__reactBoundArguments=null;var o=t.constructor.displayName,r=i.bind;i.bind=function(s){for(var a=arguments.length,l=Array(a>1?a-1:0),h=1;a>h;h++)l[h-1]=arguments[h];if(s!==t&&null!==s)"production"!==e.env.NODE_ENV?w(!1,"bind(): React component methods may only be bound to the component instance. See %s",o):void 0;else if(!l.length)return"production"!==e.env.NODE_ENV?w(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",o):void 0,i;var u=r.apply(i,arguments);return u.__reactBoundContext=t,u.__reactBoundMethod=n,u.__reactBoundArguments=l,u}}return i}function p(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=c(t,n)}}var d=n(66),f=n(7),m=n(31),g=n(30),v=n(81),_=n(3),y=n(27),b=n(2),M=n(37),x=n(15),w=n(4),E=x({mixins:null}),C=M({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),L=[],N=!1,P={mixins:C.DEFINE_MANY,statics:C.DEFINE_MANY,propTypes:C.DEFINE_MANY,contextTypes:C.DEFINE_MANY,childContextTypes:C.DEFINE_MANY,getDefaultProps:C.DEFINE_MANY_MERGED,getInitialState:C.DEFINE_MANY_MERGED,getChildContext:C.DEFINE_MANY_MERGED,render:C.DEFINE_ONCE,componentWillMount:C.DEFINE_MANY,componentDidMount:C.DEFINE_MANY,componentWillReceiveProps:C.DEFINE_MANY,shouldComponentUpdate:C.DEFINE_ONCE,componentWillUpdate:C.DEFINE_MANY,componentDidUpdate:C.DEFINE_MANY,componentWillUnmount:C.DEFINE_MANY,updateComponent:C.OVERRIDE_BASE},S={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)s(t,e[n])},childContextTypes:function(t,n){"production"!==e.env.NODE_ENV&&o(t,n,m.childContext),t.childContextTypes=_({},t.childContextTypes,n)},contextTypes:function(t,n){"production"!==e.env.NODE_ENV&&o(t,n,m.context),t.contextTypes=_({},t.contextTypes,n)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=h(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,n){"production"!==e.env.NODE_ENV&&o(t,n,m.prop),t.propTypes=_({},t.propTypes,n)},statics:function(t,e){a(t,e)},autobind:function(){}},D={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(t,n){"production"!==e.env.NODE_ENV&&i(),this.updater.enqueueSetProps(this,t),n&&this.updater.enqueueCallback(this,n)},replaceProps:function(t,n){"production"!==e.env.NODE_ENV&&i(),this.updater.enqueueReplaceProps(this,t),n&&this.updater.enqueueCallback(this,n)}},k=function(){};_(k.prototype,d.prototype,D);var O={createClass:function(t){var n=function(t,i,o){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?w(this instanceof n,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):void 0),this.__reactAutoBindMap&&p(this),this.props=t,this.context=i,this.refs=y,this.updater=o||v,this.state=null;var r=this.getInitialState?this.getInitialState():null;"production"!==e.env.NODE_ENV&&"undefined"==typeof r&&this.getInitialState._isMockFunction&&(r=null),"object"!=typeof r||Array.isArray(r)?"production"!==e.env.NODE_ENV?b(!1,"%s.getInitialState(): must return an object or null",n.displayName||"ReactCompositeComponent"):b(!1):void 0,this.state=r};n.prototype=new k,n.prototype.constructor=n,L.forEach(s.bind(null,n)),s(n,t),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==e.env.NODE_ENV&&(n.getDefaultProps&&(n.getDefaultProps.isReactClassApproved={}),n.prototype.getInitialState&&(n.prototype.getInitialState.isReactClassApproved={})),n.prototype.render?void 0:"production"!==e.env.NODE_ENV?b(!1,"createClass(...): Class specification must implement a `render` method."):b(!1),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?w(!n.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",t.displayName||"A component"):void 0,"production"!==e.env.NODE_ENV?w(!n.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",t.displayName||"A component"):void 0);for(var i in P)n.prototype[i]||(n.prototype[i]=null);return n},injection:{injectMixin:function(t){L.push(t)}}};t.exports=O}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t,e,n){this.props=t,this.context=e,this.refs=s,this.updater=n||o}var o=n(81),r=n(34),s=n(27),a=n(2),l=n(4);if(i.prototype.isReactComponent={},i.prototype.setState=function(t,n){"object"!=typeof t&&"function"!=typeof t&&null!=t?"production"!==e.env.NODE_ENV?a(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):a(!1):void 0,"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?l(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):void 0),this.updater.enqueueSetState(this,t),n&&this.updater.enqueueCallback(this,n)},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t)},"production"!==e.env.NODE_ENV){var h={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},u=function(t,n){r&&Object.defineProperty(i.prototype,t,{get:function(){"production"!==e.env.NODE_ENV?l(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",n[0],n[1]):void 0}})};for(var c in h)h.hasOwnProperty(c)&&u(c,h[c])}t.exports=i}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var i=n(13),o=n(70),r=n(72),s=n(19),a=n(6),l=n(8),h=n(17),u=n(9),c=n(45),p=n(46),d=n(184),f=n(4);r.inject();var m=l.measure("React","render",a.render),g={findDOMNode:p,render:m,unmountComponentAtNode:a.unmountComponentAtNode,version:c,unstable_batchedUpdates:u.batchedUpdates,unstable_renderSubtreeIntoContainer:d};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:i,InstanceHandles:s,Mount:a,Reconciler:h,TextComponent:o}),"production"!==e.env.NODE_ENV){var v=n(5);if(v.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var _=document.documentMode&&document.documentMode<8;"production"!==e.env.NODE_ENV?f(!_,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;for(var y=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],b=0;b<y.length;b++)if(!y[b]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}}t.exports=g}).call(e,n(1))},function(t,e){"use strict";var n={useCreateElement:!1};t.exports=n},function(t,e,n){(function(e){"use strict";function i(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=l.getValue(t);null!=e&&s(this,Boolean(t.multiple),e)}}function o(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(t,n){var i=t._currentElement._owner;l.checkPropTypes("select",n,i);for(var r=0;r<f.length;r++){var s=f[r];null!=n[s]&&(n.multiple?"production"!==e.env.NODE_ENV?p(Array.isArray(n[s]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",s,o(i)):void 0:"production"!==e.env.NODE_ENV?p(!Array.isArray(n[s]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",s,o(i)):void 0)}}function s(t,e,n){var i,o,r=h.getNode(t._rootNodeID).options;if(e){for(i={},o=0;o<n.length;o++)i[""+n[o]]=!0;for(o=0;o<r.length;o++){var s=i.hasOwnProperty(r[o].value);r[o].selected!==s&&(r[o].selected=s)}}else{for(i=""+n,o=0;o<r.length;o++)if(r[o].value===i)return void(r[o].selected=!0);r.length&&(r[0].selected=!0)}}function a(t){var e=this._currentElement.props,n=l.executeOnChange(e,t);return this._wrapperState.pendingUpdate=!0,u.asap(i,this),n}var l=n(40),h=n(6),u=n(9),c=n(3),p=n(4),d="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),f=["value","defaultValue"],m={valueContextKey:d,getNativeProps:function(t,e,n){return c({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n);var i=l.getValue(n);t._wrapperState={pendingUpdate:!1,initialValue:null!=i?i:n.defaultValue,onChange:a.bind(t),wasMultiple:Boolean(n.multiple)}},processChildContext:function(t,e,n){var i=c({},n);return i[d]=t._wrapperState.initialValue,i},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var i=l.getValue(e);null!=i?(t._wrapperState.pendingUpdate=!1,s(t,Boolean(e.multiple),i)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?s(t,Boolean(e.multiple),e.defaultValue):s(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=m}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var i=n(62),o=n(39),r=n(41),s=n(6),a=n(3),l=n(35),h=n(53),u=n(56),c=function(t){};a(c.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,n,i){if("production"!==e.env.NODE_ENV&&i[u.ancestorInfoContextKey]&&u("span",null,i[u.ancestorInfoContextKey]),this._rootNodeID=t,n.useCreateElement){var r=i[s.ownerDocumentContextKey],a=r.createElement("span");return o.setAttributeForID(a,t),s.getID(a),h(a,this._stringText),a}var c=l(this._stringText);return n.renderToStaticMarkup?c:"<span "+o.createMarkupForID(t)+">"+c+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var o=s.getNode(this._rootNodeID);i.updateTextContent(o,n)}}},unmountComponent:function(){r.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c}).call(e,n(1))},function(t,e,n){"use strict";function i(){this.reinitializeTransaction()}var o=n(9),r=n(33),s=n(3),a=n(10),l={initialize:a,close:function(){p.isBatchingUpdates=!1}},h={initialize:a,close:o.flushBatchedUpdates.bind(o)},u=[h,l];s(i.prototype,r.Mixin,{getTransactionWrappers:function(){return u}});var c=new i,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,i,o,r){var s=p.isBatchingUpdates;p.isBatchingUpdates=!0,s?t(e,n,i,o,r):c.perform(t,null,e,n,i,o,r)}};t.exports=p},function(t,e,n){(function(e){"use strict";function i(){if(!C&&(C=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginHub.injectInstanceHandle(_),v.EventPluginHub.injectMount(y),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:l,ChangeEventPlugin:r,SelectEventPlugin:M,BeforeInputEventPlugin:o}),v.NativeComponent.injectGenericComponentClass(f),v.NativeComponent.injectTextComponentClass(m),v.Class.injectMixin(c),v.DOMProperty.injectDOMPropertyConfig(u),v.DOMProperty.injectDOMPropertyConfig(E),v.EmptyComponent.injectEmptyComponent("noscript"),v.Updates.injectReconcileTransaction(b),v.Updates.injectBatchingStrategy(d),v.RootIndex.injectCreateReactRootIndex(h.canUseDOM?s.createReactRootIndex:x.createReactRootIndex),v.Component.injectEnvironment(p),"production"!==e.env.NODE_ENV)){var t=h.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var i=n(151);i.start()}}}var o=n(129),r=n(131),s=n(132),a=n(134),l=n(135),h=n(5),u=n(138),c=n(140),p=n(41),d=n(71),f=n(144),m=n(70),g=n(154),v=n(155),_=n(19),y=n(6),b=n(159),M=n(165),x=n(166),w=n(167),E=n(164),C=!1;t.exports={inject:i}}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(){if(p.current){var t=p.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(t,n){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;var i=r("uniqueKey",t,n);null!==i&&("production"!==e.env.NODE_ENV?g(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',i.parentOrOwner||"",i.childOwner||"",i.url||""):void 0)}}function r(t,e,n){var o=i();if(!o){var r="string"==typeof n?n:n.displayName||n.name;r&&(o=" Check the top-level render call using <"+r+">.")}var s=v[t]||(v[t]={});if(s[o])return null;s[o]=!0;var a={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return e&&e._owner&&e._owner!==p.current&&(a.childOwner=" It was passed a child from "+e._owner.getName()+"."),a}function s(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];h.isValidElement(i)&&o(i,e)}else if(h.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var r=f(t);if(r&&r!==t.entries)for(var s,a=r.call(t);!(s=a.next()).done;)h.isValidElement(s.value)&&o(s.value,e)}}function a(t,n,o,r){for(var s in n)if(n.hasOwnProperty(s)){var a;try{"function"!=typeof n[s]?"production"!==e.env.NODE_ENV?m(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t||"React class",c[r],s):m(!1):void 0,a=n[s](o,s,t,r)}catch(l){a=l}if("production"!==e.env.NODE_ENV?g(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",t||"React class",c[r],s,typeof a):void 0,a instanceof Error&&!(a.message in _)){_[a.message]=!0;var h=i();"production"!==e.env.NODE_ENV?g(!1,"Failed propType: %s%s",a.message,h):void 0;
}}}function l(t){var n=t.type;if("function"==typeof n){var i=n.displayName||n.name;n.propTypes&&a(i,n.propTypes,t.props,u.prop),"function"==typeof n.getDefaultProps&&("production"!==e.env.NODE_ENV?g(n.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):void 0)}}var h=n(7),u=n(31),c=n(30),p=n(13),d=n(34),f=n(50),m=n(2),g=n(4),v={},_={},y={createElement:function(t,n,o){var r="string"==typeof t||"function"==typeof t;"production"!==e.env.NODE_ENV?g(r,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",i()):void 0;var a=h.createElement.apply(this,arguments);if(null==a)return a;if(r)for(var u=2;u<arguments.length;u++)s(arguments[u],t);return l(a),a},createFactory:function(t){var n=y.createElement.bind(null,t);return n.type=t,"production"!==e.env.NODE_ENV&&d&&Object.defineProperty(n,"type",{enumerable:!1,get:function(){return"production"!==e.env.NODE_ENV?g(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):void 0,Object.defineProperty(this,"type",{value:t}),t}}),n},cloneElement:function(t,e,n){for(var i=h.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)s(arguments[o],i.type);return l(i),i}};t.exports=y}).call(e,n(1))},function(t,e,n){"use strict";var i,o=n(7),r=n(75),s=n(17),a=n(3),l={injectEmptyComponent:function(t){i=o.createElement(t)}},h=function(t){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=t(i)};a(h.prototype,{construct:function(t){},mountComponent:function(t,e,n){return r.registerNullComponentID(t),this._rootNodeID=t,s.mountComponent(this._renderedComponent,t,e,n)},receiveComponent:function(){},unmountComponent:function(t,e,n){s.unmountComponent(this._renderedComponent),r.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),h.injection=l,t.exports=h},function(t,e){"use strict";function n(t){return!!r[t]}function i(t){r[t]=!0}function o(t){delete r[t]}var r={},s={isNullComponentID:n,registerNullComponentID:i,deregisterNullComponentID:o};t.exports=s},function(t,e,n){(function(e){"use strict";function n(t,e,n,o){try{return e(n,o)}catch(r){return void(null===i&&(i=r))}}var i=null,o={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(i){var t=i;throw i=null,t}}};if("production"!==e.env.NODE_ENV&&"undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var r=document.createElement("react");o.invokeGuardedCallback=function(t,e,n,i){var o=e.bind(null,n,i),s="react-"+t;r.addEventListener(s,o,!1);var a=document.createEvent("Event");a.initEvent(s,!1,!1),r.dispatchEvent(a),r.removeEventListener(s,o,!1)}}t.exports=o}).call(e,n(1))},function(t,e,n){"use strict";function i(t){return r(document.documentElement,t)}var o=n(148),r=n(90),s=n(91),a=n(92),l={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:l.hasSelectionCapabilities(t)?l.getSelection(t):null}},restoreSelection:function(t){var e=a(),n=t.focusedElem,o=t.selectionRange;e!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,o),s(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=o.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if("undefined"==typeof i&&(i=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var r=t.createTextRange();r.collapse(!0),r.moveStart("character",n),r.moveEnd("character",i-n),r.select()}else o.setOffsets(t,e)}};t.exports=l},function(t,e,n){"use strict";var i=n(176),o=/\/?>/,r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=i(t);return t.replace(o," "+r.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(r.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=i(t);return o===n}};t.exports=r},function(t,e,n){"use strict";var i=n(37),o=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},function(t,e,n){(function(e){"use strict";function i(t){if("function"==typeof t.type)return t.type;var e=t.type,n=c[e];return null==n&&(c[e]=n=h(e)),n}function o(t){return u?void 0:"production"!==e.env.NODE_ENV?l(!1,"There is no registered component for the tag %s",t.type):l(!1),new u(t.type,t.props)}function r(t){return new p(t)}function s(t){return t instanceof p}var a=n(3),l=n(2),h=null,u=null,c={},p=null,d={injectGenericComponentClass:function(t){u=t},injectTextComponentClass:function(t){p=t},injectComponentClasses:function(t){a(c,t)}},f={getComponentClassForElement:i,createInternalComponent:o,createInstanceForText:r,isTextComponent:s,injection:d};t.exports=f}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t,n){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?o(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",n,n,t.constructor&&t.constructor.displayName||""):void 0)}var o=n(4),r={isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){i(t,"forceUpdate")},enqueueReplaceState:function(t,e){i(t,"replaceState")},enqueueSetState:function(t,e){i(t,"setState")},enqueueSetProps:function(t,e){i(t,"setProps")},enqueueReplaceProps:function(t,e){i(t,"replaceProps")}};t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";function i(t){function e(e,n,i,o,r,s){if(o=o||x,s=s||i,null==n[i]){var a=y[r];return e?new Error("Required "+a+" `"+s+"` was not specified in "+("`"+o+"`.")):null}return t(n,i,o,r,s)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function o(t){function e(e,n,i,o,r){var s=e[n],a=m(s);if(a!==t){var l=y[o],h=g(s);return new Error("Invalid "+l+" `"+r+"` of type "+("`"+h+"` supplied to `"+i+"`, expected ")+("`"+t+"`."))}return null}return i(e)}function r(){return i(b.thatReturns(null))}function s(t){function e(e,n,i,o,r){var s=e[n];if(!Array.isArray(s)){var a=y[o],l=m(s);return new Error("Invalid "+a+" `"+r+"` of type "+("`"+l+"` supplied to `"+i+"`, expected an array."))}for(var h=0;h<s.length;h++){var u=t(s,h,i,o,r+"["+h+"]");if(u instanceof Error)return u}return null}return i(e)}function a(){function t(t,e,n,i,o){if(!_.isValidElement(t[e])){var r=y[i];return new Error("Invalid "+r+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return i(t)}function l(t){function e(e,n,i,o,r){if(!(e[n]instanceof t)){var s=y[o],a=t.name||x,l=v(e[n]);return new Error("Invalid "+s+" `"+r+"` of type "+("`"+l+"` supplied to `"+i+"`, expected ")+("instance of `"+a+"`."))}return null}return i(e)}function h(t){function e(e,n,i,o,r){for(var s=e[n],a=0;a<t.length;a++)if(s===t[a])return null;var l=y[o],h=JSON.stringify(t);return new Error("Invalid "+l+" `"+r+"` of value `"+s+"` "+("supplied to `"+i+"`, expected one of "+h+"."))}return i(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function u(t){function e(e,n,i,o,r){var s=e[n],a=m(s);if("object"!==a){var l=y[o];return new Error("Invalid "+l+" `"+r+"` of type "+("`"+a+"` supplied to `"+i+"`, expected an object."))}for(var h in s)if(s.hasOwnProperty(h)){var u=t(s,h,i,o,r+"."+h);if(u instanceof Error)return u}return null}return i(e)}function c(t){function e(e,n,i,o,r){for(var s=0;s<t.length;s++){var a=t[s];if(null==a(e,n,i,o,r))return null}var l=y[o];return new Error("Invalid "+l+" `"+r+"` supplied to "+("`"+i+"`."))}return i(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function t(t,e,n,i,o){if(!f(t[e])){var r=y[i];return new Error("Invalid "+r+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(t)}function d(t){function e(e,n,i,o,r){var s=e[n],a=m(s);if("object"!==a){var l=y[o];return new Error("Invalid "+l+" `"+r+"` of type `"+a+"` "+("supplied to `"+i+"`, expected `object`."))}for(var h in t){var u=t[h];if(u){var c=u(s,h,i,o,r+"."+h);if(c)return c}}return null}return i(e)}function f(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(null===t||_.isValidElement(t))return!0;var e=M(t);if(!e)return!1;var n,i=e.call(t);if(e!==t.entries){for(;!(n=i.next()).done;)if(!f(n.value))return!1}else for(;!(n=i.next()).done;){var o=n.value;if(o&&!f(o[1]))return!1}return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function g(t){var e=m(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function v(t){return t.constructor&&t.constructor.name?t.constructor.name:"<<anonymous>>"}var _=n(7),y=n(30),b=n(10),M=n(50),x="<<anonymous>>",w={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:r(),arrayOf:s,element:a(),instanceOf:l,node:p(),objectOf:u,oneOf:h,oneOfType:c,shape:d};t.exports=w},function(t,e){"use strict";var n={injectCreateReactRootIndex:function(t){i.createReactRootIndex=t}},i={createReactRootIndex:null,injection:n};t.exports=i},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e,n){(function(e){"use strict";function i(t,n){if(null==n?"production"!==e.env.NODE_ENV?o(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):o(!1):void 0,null==t)return n;var i=Array.isArray(t),r=Array.isArray(n);return i&&r?(t.push.apply(t,n),t):i?(t.push(n),t):r?[t].concat(n):[t,n]}var o=n(2);t.exports=i}).call(e,n(1))},function(t,e){"use strict";var n=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};t.exports=n},function(t,e,n){"use strict";function i(){return!r&&o.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var o=n(5),r=null;t.exports=i},function(t,e){"use strict";function n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&i[t.type]||"textarea"===e)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e,n){(function(e){"use strict";var i=n(10),o={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,n,o){return t.addEventListener?(t.addEventListener(n,o,!0),{remove:function(){t.removeEventListener(n,o,!0)}}):("production"!==e.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:i})},registerDefault:function(){}};t.exports=o}).call(e,n(1))},function(t,e,n){"use strict";function i(t,e){var n=!0;t:for(;n;){var i=t,r=e;if(n=!1,i&&r){if(i===r)return!0;if(o(i))return!1;if(o(r)){t=i,e=r.parentNode,n=!0;continue t}return i.contains?i.contains(r):i.compareDocumentPosition?!!(16&i.compareDocumentPosition(r)):!1}return!1}}var o=n(193);t.exports=i},function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}t.exports=n},function(t,e){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=n},function(t,e,n){(function(e){"use strict";function i(t){return s?void 0:"production"!==e.env.NODE_ENV?r(!1,"Markup wrapping node not initialized"):r(!1),p.hasOwnProperty(t)||(t="*"),a.hasOwnProperty(t)||("*"===t?s.innerHTML="<link />":s.innerHTML="<"+t+"></"+t+">",a[t]=!s.firstChild),a[t]?p[t]:null}var o=n(5),r=n(2),s=o.canUseDOM?document.createElement("div"):null,a={},l=[1,'<select multiple="true">',"</select>"],h=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:h,colgroup:h,tbody:h,tfoot:h,thead:h,td:u,th:u},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(t){p[t]=c,a[t]=!0}),t.exports=i}).call(e,n(1))},function(t,e){"use strict";function n(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var r=i.bind(e),s=0;s<n.length;s++)if(!r(n[s])||t[n[s]]!==e[n[s]])return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(){return{item:f["default"].getItem()}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),s=i(r),a=n(102),l=i(a),h=n(101),u=i(h),c=n(100),p=i(c),d=n(59),f=i(d),m=n(20),g=i(m);e["default"]=s["default"].createClass({displayName:"App",getInitialState:function(){return o()},componentDidMount:function(){f["default"].addChangeListener(this._onChange)},componentWillUnmount:function(){f["default"].removeChangeListener(this._onChange)},render:function(){var t=this.state.item.geoJson,e=this.state.item.inputReferenceSystem,n=this._geoJsonForMapView();return s["default"].createElement("div",null,s["default"].createElement(l["default"],{geoJson:n,inputReferenceSystem:e}),s["default"].createElement(u["default"],null,s["default"].createElement(p["default"],{geoJson:t,inputReferenceSystem:e})))},_geoJsonForMapView:function(){return f["default"].getItem(g["default"].CRS_LONLAT).geoJson},_onChange:function(){this.setState(o())}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){try{JSON.parse(t)}catch(e){return!1}return!0}function r(t,e){return o(t)&&o(e)?JSON.stringify(JSON.parse(t))!==JSON.stringify(JSON.parse(e)):!0}Object.defineProperty(e,"__esModule",{value:!0});var s=n(11),a=i(s),l=n(22),h=i(l),u=n(108),c=i(u);e["default"]=a["default"].createClass({displayName:"CodeMirrorEditor",getInitialState:function(){return{isControlled:null!=this.props.value}},propTypes:{value:a["default"].PropTypes.string,defaultValue:a["default"].PropTypes.string,onChange:a["default"].PropTypes.func},componentDidMount:function(){this.editor=c["default"].fromTextArea(h["default"].findDOMNode(this.refs.editor),{mode:"application/json",matchBrackets:!0,tabSize:2,lineNumbers:!0,smartIndent:!1}),this.editor.on("change",this.handleChange)},componentDidUpdate:function(){this.editor&&(null!=this.props.value||void 0!==this.props.value)&&this.editor.getValue()!==this.props.value&&this.editor.setValue(this.props.value)},handleChange:function(){if(this.editor){var t=this.editor.getValue();r(t,this.props.value)&&this.props.onChange({target:{value:t}})}},render:function(){var t=a["default"].createElement("textarea",{ref:"editor",value:this.props.value,defaultValue:this.props.defaultValue,onChange:this.props.onChange,className:"editor"}),e="editor-container";return this.props.hasError&&(e+=" with-error"),a["default"].createElement("div",{className:e},t)}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=i(o),s=n(98),a=i(s),l=n(106),h=i(l);e["default"]=r["default"].createClass({displayName:"FeatureList",propTypes:{geoJson:r["default"].PropTypes.object.isRequired},getDefaultProps:function(){return{geoJson:{}}},render:function(){var t=h["default"].features(this.props.geoJson);return r["default"].createElement("div",{id:"featureListContainer"},r["default"].createElement("ul",{className:"collection"},t.map(function(t,e){return r["default"].createElement(a["default"],{key:e,feature:t})})))}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){switch(t){case"Point":return"place";case"LineString":return"crop";case"Polygon":return"crop_landscape";default:return"crop_square"}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),s=i(r);e["default"]=s["default"].createClass({displayName:"FeatureRow",propTypes:{feature:s["default"].PropTypes.object},getDefaultProps:function(){return{feature:{}}},render:function(){var t=this.props.feature,e=t.type,n=o(t.type);return s["default"].createElement("li",{className:"collection-item avatar"},s["default"].createElement("i",{className:"circle large material-icons"},n),s["default"].createElement("span",{className:"title"},e),s["default"].createElement("p",null,Object.keys(t.properties).map(function(e,n){return s["default"].createElement("span",{className:"feature-property",key:n},e,": ",t.properties[e],s["default"].createElement("br",null))})))}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){return JSON.stringify(t,null,2)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),s=i(r),a=n(57),l=i(a),h=n(96),u=i(h),c=n(21),p=i(c);e["default"]=s["default"].createClass({displayName:"JsonEditInput",propTypes:{geoJson:s["default"].PropTypes.object.isRequired},getInitialState:function(){return{errors:null}},componentWillReceiveProps:function(t){this.setState({errors:null})},onInputChange:function(t){l["default"].handleStringImport(t.target.value,void 0,this.onError)},onError:function(t){this.setState({errors:t})},render:function(){var t="help",e=!1,n=void 0,i=void 0;if(this.state.errors||(n=o(this.props.geoJson)),this.state.errors){var r=p["default"].errorsToSentence(this.state.errors);t+=" error-message",e=!0,i=s["default"].createElement("div",{id:"editErrors",ref:"errors",className:"error"},s["default"].createElement("p",{className:t},r))}return s["default"].createElement("div",{id:"jsonContainer",className:"input-field"},s["default"].createElement(u["default"],{value:n,onChange:this.onInputChange,hasError:e}),i)}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(99),r=i(o),s=n(97),a=i(s),l=n(28),h=i(l),u=n(20),c=i(u),p=n(11),d=i(p),f="https://github.com/rob-murray/gb-geojson#what-is-the-difference-between-lon-lat-and-os-national-grid";e["default"]=d["default"].createClass({displayName:"ManualEditPanel",getDefaultProps:function(){return{inputReferenceSystem:c["default"].CRS_LONLAT}},onFormatChange:function(t){var e=t.currentTarget.checked,n=e?c["default"].CRS_BNG:c["default"].CRS_LONLAT;h["default"].referenceSystemChanged(n)},render:function(){var t=this._inputReferenceSystemMapping();return d["default"].createElement("div",{id:"tabContent"},d["default"].createElement("div",{id:"edit",className:"tab-item col s12 active"},d["default"].createElement(r["default"],{geoJson:this.props.geoJson})),d["default"].createElement("div",{id:"list",className:"tab-item col s12"},d["default"].createElement(a["default"],{geoJson:this.props.geoJson})),d["default"].createElement("div",{className:"switch"},d["default"].createElement("label",null,"Lon, Lat",d["default"].createElement("input",{ref:"inputReferenceSystem",type:"checkbox",value:t,onChange:this.onFormatChange,className:"z-depth-1"}),d["default"].createElement("span",{className:"lever"}),"OS National Grid"),d["default"].createElement("i",{className:"material-icons tiny right"},"open_in_new"),d["default"].createElement("a",{href:f,title:"Explain the difference between coordinate reference systems",className:"pink-text right"},"What is this?")))},_inputReferenceSystemMapping:function(){return this.props.inputReferenceSystem===c["default"].CRS_BNG}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=i(o),s=n(22),a=i(s),l=n(103),h=i(l),u=n(28),c=i(u),p=n(57),d=i(p),f=n(104),m=i(f);e["default"]=r["default"].createClass({displayName:"MenuPanel",getInitialState:function(){return{tabSelectedIndex:0,pinned:!1}},switchTab:function(t){},render:function(){var t="map-panel grey lighten-4 z-depth-2",e="arrow_drop_up",n="Hide edit panel",i="panel-container grey-text darken-3-text";return this.state.pinned&&(t+=" pinned",e="arrow_drop_down",i+=" hideme",n="Display edit panel"),r["default"].createElement("div",{id:"menu-panel",className:t},r["default"].createElement("ul",{id:"dropdown-menu",className:"dropdown-content"},r["default"].createElement("li",null,r["default"].createElement("a",{href:"https://github.com/rob-murray/gb-geojson",title:"What is this all about?"},"About"))),r["default"].createElement("nav",null,r["default"].createElement("div",{className:"nav-wrapper pink"},r["default"].createElement("a",{href:"#",className:"brand-logo"},"GB-GeoJson"),r["default"].createElement("ul",{className:"right"},r["default"].createElement("li",null,r["default"].createElement("a",{onClick:this._load,href:"#load",title:"Upload local file"},r["default"].createElement("i",{className:"material-icons"},"folder_open")),r["default"].createElement("input",{ref:"importInput",type:"file",className:"hideme",onChange:d["default"].handleFileImport})),r["default"].createElement("li",null,r["default"].createElement("a",{onClick:this._save,href:"#save",title:"Download GeoJson to local file"},r["default"].createElement("i",{className:"material-icons"},"save")),r["default"].createElement("a",{ref:"downloadLink",className:"hideme"})),r["default"].createElement("li",null,r["default"].createElement("a",{onClick:this._clearMap,href:"#clearMap",title:"Clear map"},r["default"].createElement("i",{className:"material-icons"},"clear"))),r["default"].createElement("li",null,r["default"].createElement("a",{onClick:this._pinPanel,href:"#pinPanel",title:n},r["default"].createElement("i",{className:"material-icons"},e)))))),r["default"].createElement("div",{className:i},r["default"].createElement(h["default"],{onTabClick:this.switchTab}),this.props.children))},_load:function(t){t.preventDefault(),a["default"].findDOMNode(this.refs.importInput).click()},_save:function(t){t.preventDefault(),m["default"].exportAsFile(this.refs.downloadLink)},_pinPanel:function(t){t.preventDefault(),this.setState({pinned:!this.state.pinned})},_clearMap:function(t){t.preventDefault(),c["default"].destroy()}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=[];return t.eachLayer(function(t){"toGeoJSON"in t&&e.push(t.toGeoJSON())}),d["default"].featureCollection(e)}function r(t){var e=JSON.stringify(t.toGeoJSON().properties);t.bindPopup(L.popup({maxWidth:600,maxHeight:450},t).setContent(e))}function s(t,e){e.clearLayers(),L.geoJson(t,{}).eachLayer(function(t){r(t),t.addTo(e)})}Object.defineProperty(e,"__esModule",{value:!0});var a=n(123),l=(i(a),n(28)),h=i(l),u=n(20),c=i(u),p=n(21),d=i(p),f=n(120),m=(i(f),n(11)),g=i(m),v=n(22),_=i(v);L.Icon.Default.imagePath="http://cdn.leafletjs.com/leaflet-0.7.3/images";var y="topright",b=500;e["default"]=g["default"].createClass({displayName:"OSMap",propTypes:{geoJson:g["default"].PropTypes.object},getDefaultProps:function(){return{mapCentre:[51.505,-.09],mapZoom:13,geoJson:{}}},componentDidMount:function(){this.map=this._createMap(_["default"].findDOMNode(this)),this.setupMap()},componentWillUnmount:function(){this.map=null},componentWillUpdate:function(t,e){s(t.geoJson,this.editableLayer),this.editableLayer.getBounds().isValid()&&this.map.fitBounds(this.editableLayer.getBounds(),{paddingTopLeft:[b,0]})},setupMap:function(){this.map.setView(this.props.mapCentre,this.props.mapZoom),s(this.props.geoJson,this.editableLayer),this._enableEditControl()},render:function(){return g["default"].createElement("div",{className:"map"})},_createMap:function(t){var e=new L.Map(t,{crs:L.OSOpenSpace.getCRS(),continuousWorld:!0,worldCopyJump:!1,minZoom:0,maxZoom:L.OSOpenSpace.RESOLUTIONS.length-1,zoomControl:!1});return e.addLayer(L.tileLayer.OSOpenSpace("EC9EDE7DAD732ABAE0430C6CA40AB812",{})),new L.Control.Zoom({position:y}).addTo(e),this.editableLayer=L.featureGroup().addTo(e),e},_clearMap:function(){this.editableLayer&&this.editableLayer.clearLayers()},_enableEditControl:function(){this._drawControl||(this.map.on("draw:edited",this._update),this.map.on("draw:deleted",this._update),this.map.on("draw:created",this._created)),this._drawControl=new L.Control.Draw({position:y,edit:{featureGroup:this.editableLayer},draw:{circle:!1}}),this.map.addControl(this._drawControl)},_created:function(t){this.editableLayer.addLayer(t.layer),this._update()},_update:function(){s(this.editableLayer.toGeoJSON(),this.editableLayer),this._publish()},_publish:function(){h["default"].create(o(this.editableLayer),c["default"].CRS_LONLAT)}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=i(o),s=0,a=1;e["default"]=r["default"].createClass({displayName:"TabSwitcher",onClick:function(t){this.props.onTabClick(t)},render:function(){return r["default"].createElement("ul",{className:"tabs"},r["default"].createElement("li",{className:"tab col s3"},r["default"].createElement("a",{href:"#edit",onClick:this.onClick.bind(this,s),className:"blue-text accent-2"},r["default"].createElement("i",{className:"small material-icons"},"mode_edit "))),r["default"].createElement("li",{className:"tab col s3"},r["default"].createElement("a",{href:"#list",onClick:this.onClick.bind(this,a),className:"blue-text accent-2"},r["default"].createElement("i",{className:"small material-icons"},"view_list"))))}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(){return JSON.stringify(c["default"].getItem().geoJson)}function r(t,e){if(!window.Blob)return void e(new Error("Sorry, your browser does not support file operations."));window.URL=window.URL||window.webkitURL;var n=new Blob([t],{type:f});return window.URL.createObjectURL(n)}function s(t){t.dataset.disabled=!0,setTimeout(function(){window.URL.revokeObjectURL(t.href)},1500)}function a(t){alert(d["default"].errorsToSentence(t))}Object.defineProperty(e,"__esModule",{value:!0});var l=n(22),h=i(l),u=n(59),c=i(u),p=n(21),d=i(p),f="application/json",m="gb-geojson.json";e["default"]={exportAsFile:function(t,e,n){var i=o(),l=h["default"].findDOMNode(t);void 0===n&&(n=a);var u=r(i,n);l.href=u,l.download=m,l.textContent=m,l.dataset.downloadurl=[f,m,u].join(":"),l.onclick=function(t){s(this)},l.click(),e&&e()}}},function(t,e){"use strict";t.exports=function(t){t&&(!function(t,e,n,i,o,r,s){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,r=e.createElement(n),s=e.getElementsByTagName(n)[0],r.async=1,r.src=i,s.parentNode.insertBefore(r,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-6817780-5","auto"),ga("send","pageview"))}},function(t,e){"use strict";function n(t){return{properties:t.properties,type:t.geometry.type}}function i(t){return t.features&&t.features.length}function o(t){return t&&t.geometry}function r(t){return o(t)||i(t)?"Feature"===t.type?[n(t)]:t.features.map(n):[]}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={features:r}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(115),r=i(o);e["default"]={toOSGB36:function(t){return r["default"].toOSGB36(t)},toWGS84:function(t){return r["default"].toWGS84(t)}}},function(t,e,n){!function(e){t.exports=e()}(function(){"use strict";function t(n,i){if(!(this instanceof t))return new t(n,i);this.options=i=i?zo(i):{},zo($r,i,!1),d(i);var o=i.value;"string"==typeof o&&(o=new ws(o,i.mode,null,i.lineSeparator)),this.doc=o;var r=new t.inputStyles[i.inputStyle](this),s=this.display=new e(n,o,r);s.wrapper.CodeMirror=this,h(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Sr&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ko,keySeq:null,specialChars:null};var l=this;yr&&11>br&&setTimeout(function(){l.display.input.reset(!0)},20),Fe(this),Yo(),be(this),this.curOp.forceUpdate=!0,Yi(this,o),i.autofocus&&!Sr||l.hasFocus()?setTimeout(jo(vn,this),20):_n(this);for(var u in ts)ts.hasOwnProperty(u)&&ts[u](this,i[u],es);x(this),i.finishInit&&i.finishInit(this);for(var c=0;c<rs.length;++c)rs[c](this);xe(this),Mr&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function e(t,e,n){var i=this;this.input=n,i.scrollbarFiller=Wo("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Wo("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Wo("div",null,"CodeMirror-code"),i.selectionDiv=Wo("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Wo("div",null,"CodeMirror-cursors"),i.measure=Wo("div",null,"CodeMirror-measure"),i.lineMeasure=Wo("div",null,"CodeMirror-measure"),i.lineSpace=Wo("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Wo("div",[Wo("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Wo("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Wo("div",null,null,"position: absolute; height: "+Is+"px; width: 1px;"),i.gutters=Wo("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Wo("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Wo("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),yr&&8>br&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),Mr||gr&&Sr||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),i(e)}function i(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,jt(t,100),t.state.modeGen++,t.curOp&&Ae(t)}function o(t){t.options.lineWrapping?(Xs(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Ys(t.display.wrapper,"CodeMirror-wrap"),
p(t)),s(t),Ae(t),ae(t),setTimeout(function(){_(t)},100)}function r(t){var e=_e(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/ye(t.display)-3);return function(o){if(xi(t.doc,o))return 0;var r=0;if(o.widgets)for(var s=0;s<o.widgets.length;s++)o.widgets[s].height&&(r+=o.widgets[s].height);return n?r+(Math.ceil(o.text.length/i)||1)*e:r+e}}function s(t){var e=t.doc,n=r(t);e.iter(function(t){var e=n(t);e!=t.height&&to(t,e)})}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ae(t)}function l(t){h(t),Ae(t),setTimeout(function(){M(t)},20)}function h(t){var e=t.display.gutters,n=t.options.gutters;Go(e);for(var i=0;i<n.length;++i){var o=n[i],r=e.appendChild(Wo("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(t.display.lineGutter=r,r.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none",u(t)}function u(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function c(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=mi(i);){var o=e.find(0,!0);i=o.from.line,n+=o.from.ch-o.to.ch}for(i=t;e=gi(i);){var o=e.find(0,!0);n-=i.text.length-o.from.ch,i=o.to.line,n+=i.text.length-o.to.ch}return n}function p(t){var e=t.display,n=t.doc;e.maxLine=Xi(n,n.first),e.maxLineLength=c(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=c(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function d(t){var e=Io(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function f(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Gt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+qt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function m(t,e,n){this.cm=n;var i=this.vert=Wo("div",[Wo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=Wo("div",[Wo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(i),t(o),Ss(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),Ss(o,"scroll",function(){o.clientWidth&&e(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,yr&&8>br&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ys(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ss(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?rn(e,t):on(e,t)},e),e.display.scrollbars.addClass&&Xs(e.display.wrapper,e.display.scrollbars.addClass)}function _(t,e){e||(e=f(t));var n=t.display.barWidth,i=t.display.barHeight;y(t,e);for(var o=0;4>o&&n!=t.display.barWidth||i!=t.display.barHeight;o++)n!=t.display.barWidth&&t.options.lineWrapping&&k(t),y(t,f(t)),n=t.display.barWidth,i=t.display.barHeight}function y(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function b(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-Wt(t));var o=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,r=no(e,i),s=no(e,o);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;r>a?(r=a,s=no(e,io(Xi(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(r=no(e,io(Xi(e,l))-t.wrapper.clientHeight),s=l)}return{from:r,to:Math.max(s,r+1)}}function M(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=E(e)-e.scroller.scrollLeft+t.doc.scrollLeft,o=e.gutters.offsetWidth,r=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=r);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=r}t.options.fixedGutter&&(e.gutters.style.left=i+o+"px")}}function x(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=w(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(Wo("div",[Wo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=o.firstChild.offsetWidth,s=o.offsetWidth-r;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(r,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(t),!0}return!1}function w(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function E(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function C(t,e,n){var i=t.display;this.viewport=e,this.visible=b(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Zt(t),this.force=n,this.dims=T(t),this.events=[]}function L(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=qt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=qt(t)+"px",e.scrollbarsClipped=!0)}function N(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return Ue(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ve(t))return!1;x(t)&&(Ue(t),e.dims=T(t));var o=i.first+i.size,r=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(o,e.visible.to+t.options.viewportMargin);n.viewFrom<r&&r-n.viewFrom<20&&(r=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(o,n.viewTo)),Rr&&(r=bi(t.doc,r),s=Mi(t.doc,s));var a=r!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;Be(t,r,s),n.viewOffset=io(Xi(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=Ve(t);if(!a&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var h=qo();return l>4&&(n.lineDiv.style.display="none"),I(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,h&&qo()!=h&&h.offsetHeight&&h.focus(),Go(n.cursorDiv),Go(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,jt(t,400)),n.updateLineNumbers=null,!0}function P(t,e){for(var n=e.viewport,i=!0;(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Zt(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Gt(t.display)-Kt(t),n.top)}),e.visible=b(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&N(t,e);i=!1){k(t);var o=f(t);It(t),D(t,o),_(t,o)}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function S(t,e){var n=new C(t,e);if(N(t,n)){k(t),P(t,n);var i=f(t);It(t),D(t,i),_(t,i),n.finish()}}function D(t,e){t.display.sizer.style.minHeight=e.docHeight+"px";var n=e.docHeight+t.display.barHeight;t.display.heightForcer.style.top=n+"px",t.display.gutters.style.height=Math.max(n+qt(t),e.clientHeight)+"px"}function k(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var o,r=e.view[i];if(!r.hidden){if(yr&&8>br){var s=r.node.offsetTop+r.node.offsetHeight;o=s-n,n=s}else{var a=r.node.getBoundingClientRect();o=a.bottom-a.top}var l=r.line.height-o;if(2>o&&(o=_e(e)),(l>.001||-.001>l)&&(to(r.line,o),O(r.line),r.rest))for(var h=0;h<r.rest.length;h++)O(r.rest[h])}}}function O(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function T(t){for(var e=t.display,n={},i={},o=e.gutters.clientLeft,r=e.gutters.firstChild,s=0;r;r=r.nextSibling,++s)n[t.options.gutters[s]]=r.offsetLeft+r.clientLeft+o,i[t.options.gutters[s]]=r.clientWidth;return{fixedPos:E(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function I(t,e,n){function i(e){var n=e.nextSibling;return Mr&&Dr&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var o=t.display,r=t.options.lineNumbers,s=o.lineDiv,a=s.firstChild,l=o.view,h=o.viewFrom,u=0;u<l.length;u++){var c=l[u];if(c.hidden);else if(c.node&&c.node.parentNode==s){for(;a!=c.node;)a=i(a);var p=r&&null!=e&&h>=e&&c.lineNumber;c.changes&&(Io(c.changes,"gutter")>-1&&(p=!1),A(t,c,h,n)),p&&(Go(c.lineNumber),c.lineNumber.appendChild(document.createTextNode(w(t.options,h)))),a=c.node.nextSibling}else{var d=W(t,c,h,n);s.insertBefore(d,a)}h+=c.size}for(;a;)a=i(a)}function A(t,e,n,i){for(var o=0;o<e.changes.length;o++){var r=e.changes[o];"text"==r?j(t,e):"gutter"==r?V(t,e,n,i):"class"==r?B(e):"widget"==r&&F(t,e,i)}e.changes=null}function R(t){return t.node==t.text&&(t.node=Wo("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),yr&&8>br&&(t.node.style.zIndex=2)),t.node}function U(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=R(t);t.background=n.insertBefore(Wo("div",null,e),n.firstChild)}}function z(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):zi(t,e)}function j(t,e){var n=e.text.className,i=z(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,B(e)):n&&(e.text.className=n)}function B(t){U(t),t.line.wrapClass?R(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function V(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=R(e);e.gutterBackground=Wo("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),o.insertBefore(e.gutterBackground,e.text)}var r=e.line.gutterMarkers;if(t.options.lineNumbers||r){var o=R(e),s=e.gutter=Wo("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),o.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(Wo("div",w(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],h=r.hasOwnProperty(l)&&r[l];h&&s.appendChild(Wo("div",[h],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function F(t,e,n){e.alignable&&(e.alignable=null);for(var i,o=e.node.firstChild;o;o=i){var i=o.nextSibling;"CodeMirror-linewidget"==o.className&&e.node.removeChild(o)}G(t,e,n)}function W(t,e,n,i){var o=z(t,e);return e.text=e.node=o.pre,o.bgClass&&(e.bgClass=o.bgClass),o.textClass&&(e.textClass=o.textClass),B(e),V(t,e,n,i),G(t,e,i),e.node}function G(t,e,n){if(H(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)H(t,e.rest[i],e,n,!1)}function H(t,e,n,i,o){if(e.widgets)for(var r=R(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],h=Wo("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||h.setAttribute("cm-ignore-events","true"),q(l,h,n,i),t.display.input.setUneditable(h),o&&l.above?r.insertBefore(h,n.gutter||n.text):r.appendChild(h),Co(l,"redraw")}}function q(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var o=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(o-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=o+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function Z(t){return Ur(t.line,t.ch)}function K(t,e){return zr(t,e)<0?e:t}function J(t,e){return zr(t,e)<0?t:e}function Y(t){t.state.focused||(t.display.input.focus(),vn(t))}function X(t,e,n,i,o){var r=t.doc;t.display.shift=!1,i||(i=r.sel);var s=t.state.pasteIncoming||"paste"==o,a=r.splitLines(e),l=null;if(s&&i.ranges.length>1)if(jr&&jr.join("\n")==e){if(i.ranges.length%jr.length==0){l=[];for(var h=0;h<jr.length;h++)l.push(r.splitLines(jr[h]))}}else a.length==i.ranges.length&&(l=Ao(a,function(t){return[t]}));for(var h=i.ranges.length-1;h>=0;h--){var u=i.ranges[h],c=u.from(),p=u.to();u.empty()&&(n&&n>0?c=Ur(c.line,c.ch-n):t.state.overwrite&&!s&&(p=Ur(p.line,Math.min(Xi(r,p.line).text.length,p.ch+To(a).length))));var d=t.curOp.updateInput,f={from:c,to:p,text:l?l[h%l.length]:a,origin:o||(s?"paste":t.state.cutIncoming?"cut":"+input")};Ln(t.doc,f),Co(t,"inputRead",t,f)}e&&!s&&$(t,e),zn(t),t.curOp.updateInput=d,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Q(t,e){var n=t.clipboardData&&t.clipboardData.getData("text/plain");return n?(t.preventDefault(),e.isReadOnly()||e.options.disableInput||Se(e,function(){X(e,n,0,null,"paste")}),!0):void 0}function $(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var o=n.ranges[i];if(!(o.head.ch>100||i&&n.ranges[i-1].head.line==o.head.line)){var r=t.getModeAt(o.head),s=!1;if(r.electricChars){for(var a=0;a<r.electricChars.length;a++)if(e.indexOf(r.electricChars.charAt(a))>-1){s=Bn(t,o.head.line,"smart");break}}else r.electricInput&&r.electricInput.test(Xi(t.doc,o.head.line).text.slice(0,o.head.ch))&&(s=Bn(t,o.head.line,"smart"));s&&Co(t,"electricInput",t,o.head.line)}}}function tt(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var o=t.doc.sel.ranges[i].head.line,r={anchor:Ur(o,0),head:Ur(o+1,0)};n.push(r),e.push(t.getRange(r.anchor,r.head))}return{text:e,ranges:n}}function et(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function nt(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new ko,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function it(){var t=Wo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Wo("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Mr?t.style.width="1000px":t.setAttribute("wrap","off"),Pr&&(t.style.border="1px solid black"),et(t),e}function ot(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ko,this.gracePeriod=!1}function rt(t,e){var n=$t(t,e.line);if(!n||n.hidden)return null;var i=Xi(t.doc,e.line),o=Yt(n,i,e.line),r=oo(i),s="left";if(r){var a=ur(r,e.ch);s=a%2?"right":"left"}var l=ne(o.map,e.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function st(t,e){return e&&(t.bad=!0),t}function at(t,e,n){var i;if(e==t.display.lineDiv){if(i=t.display.lineDiv.childNodes[n],!i)return st(t.clipPos(Ur(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var o=0;o<t.display.view.length;o++){var r=t.display.view[o];if(r.node==i)return lt(r,e,n)}}function lt(t,e,n){function i(e,n,i){for(var o=-1;o<(u?u.length:0);o++)for(var r=0>o?h.map:u[o],s=0;s<r.length;s+=3){var a=r[s+2];if(a==e||a==n){var l=eo(0>o?t.line:t.rest[o]),c=r[s]+i;return(0>i||a!=e)&&(c=r[s+(i?1:0)]),Ur(l,c)}}}var o=t.text.firstChild,r=!1;if(!e||!Zs(o,e))return st(Ur(eo(t.line),0),!0);if(e==o&&(r=!0,e=o.childNodes[n],n=0,!e)){var s=t.rest?To(t.rest):t.line;return st(Ur(eo(s),s.text.length),r)}var a=3==e.nodeType?e:null,l=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=o;)l=l.parentNode;var h=t.measure,u=h.maps,c=i(a,l,n);if(c)return st(c,r);for(var p=l.nextSibling,d=a?a.nodeValue.length-n:0;p;p=p.nextSibling){if(c=i(p,p.firstChild,0))return st(Ur(c.line,c.ch-d),r);d+=p.textContent.length}for(var f=l.previousSibling,d=n;f;f=f.previousSibling){if(c=i(f,f.firstChild,-1))return st(Ur(c.line,c.ch+d),r);d+=p.textContent.length}}function ht(t,e,n,i,o){function r(t){return function(e){return e.id==t}}function s(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(null!=n)return""==n&&(n=e.textContent.replace(/\u200b/g,"")),void(a+=n);var u,c=e.getAttribute("cm-marker");if(c){var p=t.findMarks(Ur(i,0),Ur(o+1,0),r(+c));return void(p.length&&(u=p[0].find())&&(a+=Qi(t.doc,u.from,u.to).join(h)))}if("false"==e.getAttribute("contenteditable"))return;for(var d=0;d<e.childNodes.length;d++)s(e.childNodes[d]);/^(pre|div|p)$/i.test(e.nodeName)&&(l=!0)}else if(3==e.nodeType){var f=e.nodeValue;if(!f)return;l&&(a+=h,l=!1),a+=f}}for(var a="",l=!1,h=t.doc.lineSeparator();s(e),e!=n;)e=e.nextSibling;return a}function ut(t,e){this.ranges=t,this.primIndex=e}function ct(t,e){this.anchor=t,this.head=e}function pt(t,e){var n=t[e];t.sort(function(t,e){return zr(t.from(),e.from())}),e=Io(t,n);for(var i=1;i<t.length;i++){var o=t[i],r=t[i-1];if(zr(r.to(),o.from())>=0){var s=J(r.from(),o.from()),a=K(r.to(),o.to()),l=r.empty()?o.from()==o.head:r.from()==r.head;e>=i&&--e,t.splice(--i,2,new ct(l?a:s,l?s:a))}}return new ut(t,e)}function dt(t,e){return new ut([new ct(t,e||t)],0)}function ft(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function mt(t,e){if(e.line<t.first)return Ur(t.first,0);var n=t.first+t.size-1;return e.line>n?Ur(n,Xi(t,n).text.length):gt(e,Xi(t,e.line).text.length)}function gt(t,e){var n=t.ch;return null==n||n>e?Ur(t.line,e):0>n?Ur(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function _t(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=mt(t,e[i]);return n}function yt(t,e,n,i){if(t.cm&&t.cm.display.shift||t.extend){var o=e.anchor;if(i){var r=zr(n,o)<0;r!=zr(i,o)<0?(o=n,n=i):r!=zr(n,i)<0&&(n=i)}return new ct(o,n)}return new ct(i||n,n)}function bt(t,e,n,i){Lt(t,new ut([yt(t,t.sel.primary(),e,n)],0),i)}function Mt(t,e,n){for(var i=[],o=0;o<t.sel.ranges.length;o++)i[o]=yt(t,t.sel.ranges[o],e[o],null);var r=pt(i,t.sel.primIndex);Lt(t,r,n)}function xt(t,e,n,i){var o=t.sel.ranges.slice(0);o[e]=n,Lt(t,pt(o,t.sel.primIndex),i)}function wt(t,e,n,i){Lt(t,dt(e,n),i)}function Et(t,e,n){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new ct(mt(t,e[n].anchor),mt(t,e[n].head))},origin:n&&n.origin};return Os(t,"beforeSelectionChange",t,i),t.cm&&Os(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?pt(i.ranges,i.ranges.length-1):e}function Ct(t,e,n){var i=t.history.done,o=To(i);o&&o.ranges?(i[i.length-1]=e,Nt(t,e,n)):Lt(t,e,n)}function Lt(t,e,n){Nt(t,e,n),co(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Nt(t,e,n){(So(t,"beforeSelectionChange")||t.cm&&So(t.cm,"beforeSelectionChange"))&&(e=Et(t,e,n));var i=n&&n.bias||(zr(e.primary().head,t.sel.primary().head)<0?-1:1);Pt(t,Dt(t,e,i,!0)),n&&n.scroll===!1||!t.cm||zn(t.cm)}function Pt(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Po(t.cm)),Co(t,"cursorActivity",t))}function St(t){Pt(t,Dt(t,t.sel,null,!1),Rs)}function Dt(t,e,n,i){for(var o,r=0;r<e.ranges.length;r++){var s=e.ranges[r],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[r],l=Ot(t,s.anchor,a&&a.anchor,n,i),h=Ot(t,s.head,a&&a.head,n,i);(o||l!=s.anchor||h!=s.head)&&(o||(o=e.ranges.slice(0,r)),o[r]=new ct(l,h))}return o?pt(o,e.primIndex):e}function kt(t,e,n,i,o){var r=Xi(t,e.line);if(r.markedSpans)for(var s=0;s<r.markedSpans.length;++s){var a=r.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(o&&(Os(l,"beforeCursorEnter"),l.explicitlyCleared)){if(r.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var h,u=l.find(0>i?1:-1);if((0>i?l.inclusiveRight:l.inclusiveLeft)&&(u=Tt(t,u,-i,r)),u&&u.line==e.line&&(h=zr(u,n))&&(0>i?0>h:h>0))return kt(t,u,e,i,o)}var c=l.find(0>i?-1:1);return(0>i?l.inclusiveLeft:l.inclusiveRight)&&(c=Tt(t,c,i,r)),c?kt(t,c,e,i,o):null}}return e}function Ot(t,e,n,i,o){var r=i||1,s=kt(t,e,n,r,o)||!o&&kt(t,e,n,r,!0)||kt(t,e,n,-r,o)||!o&&kt(t,e,n,-r,!0);return s?s:(t.cantEdit=!0,Ur(t.first,0))}function Tt(t,e,n,i){return 0>n&&0==e.ch?e.line>t.first?mt(t,Ur(e.line-1)):null:n>0&&e.ch==(i||Xi(t,e.line)).text.length?e.line<t.first+t.size-1?Ur(e.line+1,0):null:new Ur(e.line,e.ch+n)}function It(t){t.display.input.showSelection(t.display.input.prepareSelection())}function At(t,e){for(var n=t.doc,i={},o=i.cursors=document.createDocumentFragment(),r=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(e!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s],l=a.empty();(l||t.options.showCursorWhenSelecting)&&Rt(t,a.head,o),l||Ut(t,a,r)}return i}function Rt(t,e,n){var i=de(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=n.appendChild(Wo("div","","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var r=n.appendChild(Wo("div","","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=i.other.left+"px",r.style.top=i.other.top+"px",r.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Ut(t,e,n){function i(t,e,n,i){0>e&&(e=0),e=Math.round(e),i=Math.round(i),a.appendChild(Wo("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?u-t:n)+"px; height: "+(i-e)+"px"))}function o(e,n,o){function r(n,i){return pe(t,Ur(e,n),"div",c,i)}var a,l,c=Xi(s,e),p=c.text.length;return er(oo(c),n||0,null==o?p:o,function(t,e,s){var c,d,f,m=r(t,"left");if(t==e)c=m,d=f=m.left;else{if(c=r(e-1,"right"),"rtl"==s){var g=m;m=c,c=g}d=m.left,f=c.right}null==n&&0==t&&(d=h),c.top-m.top>3&&(i(d,m.top,null,m.bottom),d=h,m.bottom<c.top&&i(d,m.bottom,null,c.top)),null==o&&e==p&&(f=u),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||c.bottom>l.bottom||c.bottom==l.bottom&&c.right>l.right)&&(l=c),h+1>d&&(d=h),i(d,c.top,f-d,c.bottom)}),{start:a,end:l}}var r=t.display,s=t.doc,a=document.createDocumentFragment(),l=Ht(t.display),h=l.left,u=Math.max(r.sizerWidth,Zt(t)-r.sizer.offsetLeft)-l.right,c=e.from(),p=e.to();if(c.line==p.line)o(c.line,c.ch,p.ch);else{var d=Xi(s,c.line),f=Xi(s,p.line),m=_i(d)==_i(f),g=o(c.line,c.ch,m?d.text.length+1:null).end,v=o(p.line,m?0:null,p.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(h,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(h,g.bottom,null,v.top)}n.appendChild(a)}function zt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function jt(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,jo(Bt,t))}function Bt(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=as(e.mode,Ft(t,e.frontier)),o=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(r){if(e.frontier>=t.display.viewFrom){var s=r.styles,a=r.text.length>t.options.maxHighlightLength,l=Ii(t,r,a?as(e.mode,i):i,!0);r.styles=l.styles;var h=r.styleClasses,u=l.classes;u?r.styleClasses=u:h&&(r.styleClasses=null);for(var c=!s||s.length!=r.styles.length||h!=u&&(!h||!u||h.bgClass!=u.bgClass||h.textClass!=u.textClass),p=0;!c&&p<s.length;++p)c=s[p]!=r.styles[p];c&&o.push(e.frontier),r.stateAfter=a?i:as(e.mode,i)}else r.text.length<=t.options.maxHighlightLength&&Ri(t,r.text,i),r.stateAfter=e.frontier%5==0?as(e.mode,i):null;return++e.frontier,+new Date>n?(jt(t,t.options.workDelay),!0):void 0}),o.length&&Se(t,function(){for(var e=0;e<o.length;e++)Re(t,o[e],"text")})}}function Vt(t,e,n){for(var i,o,r=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=r.first)return r.first;var l=Xi(r,a-1);if(l.stateAfter&&(!n||a<=r.frontier))return a;var h=js(l.text,null,t.options.tabSize);(null==o||i>h)&&(o=a-1,i=h)}return o}function Ft(t,e,n){var i=t.doc,o=t.display;if(!i.mode.startState)return!0;var r=Vt(t,e,n),s=r>i.first&&Xi(i,r-1).stateAfter;return s=s?as(i.mode,s):ls(i.mode),i.iter(r,e,function(n){Ri(t,n.text,s);var a=r==e-1||r%5==0||r>=o.viewFrom&&r<o.viewTo;n.stateAfter=a?as(i.mode,s):null,++r}),n&&(i.frontier=r),s}function Wt(t){return t.lineSpace.offsetTop}function Gt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ht(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Ho(t.measure,Wo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function qt(t){return Is-t.display.nativeBarWidth}function Zt(t){return t.display.scroller.clientWidth-qt(t)-t.display.barWidth}function Kt(t){return t.display.scroller.clientHeight-qt(t)-t.display.barHeight}function Jt(t,e,n){var i=t.options.lineWrapping,o=i&&Zt(t);if(!e.measure.heights||i&&e.measure.width!=o){var r=e.measure.heights=[];if(i){e.measure.width=o;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],h=s[a+1];Math.abs(l.bottom-h.bottom)>2&&r.push((l.bottom+h.top)/2-n.top)}}r.push(n.bottom-n.top)}}function Yt(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var i=0;i<t.rest.length;i++)if(eo(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Xt(t,e){e=_i(e);var n=eo(e),i=t.display.externalMeasured=new Te(t.doc,e,n);i.lineN=n;var o=i.built=zi(t,i);return i.text=o.pre,Ho(t.display.lineMeasure,o.pre),i}function Qt(t,e,n,i){return ee(t,te(t,e),n,i)}function $t(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[ze(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function te(t,e){var n=eo(e),i=$t(t,n);i&&!i.text?i=null:i&&i.changes&&(A(t,i,n,T(t)),t.curOp.forceUpdate=!0),i||(i=Xt(t,e));var o=Yt(i,e,n);return{line:e,view:i,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function ee(t,e,n,i,o){e.before&&(n=-1);var r,s=n+(i||"");return e.cache.hasOwnProperty(s)?r=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Jt(t,e.view,e.rect),e.hasHeights=!0),r=ie(t,e,n,i),r.bogus||(e.cache[s]=r)),{left:r.left,right:r.right,top:o?r.rtop:r.top,bottom:o?r.rbottom:r.bottom}}function ne(t,e,n){for(var i,o,r,s,a=0;a<t.length;a+=3){var l=t[a],h=t[a+1];if(l>e?(o=0,r=1,s="left"):h>e?(o=e-l,r=o+1):(a==t.length-3||e==h&&t[a+3]>e)&&(r=h-l,o=r-1,e>=h&&(s="right")),null!=o){if(i=t[a+2],l==h&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==o)for(;a&&t[a-2]==t[a-3]&&t[a-1].insertLeft;)i=t[(a-=3)+2],s="left";if("right"==n&&o==h-l)for(;a<t.length-3&&t[a+3]==t[a+4]&&!t[a+5].insertLeft;)i=t[(a+=3)+2],s="right";break}}return{node:i,start:o,end:r,collapse:s,coverStart:l,coverEnd:h}}function ie(t,e,n,i){var o,r=ne(e.map,n,i),s=r.node,a=r.start,l=r.end,h=r.collapse;if(3==s.nodeType){for(var u=0;4>u;u++){for(;a&&Fo(e.line.text.charAt(r.coverStart+a));)--a;for(;r.coverStart+l<r.coverEnd&&Fo(e.line.text.charAt(r.coverStart+l));)++l;if(yr&&9>br&&0==a&&l==r.coverEnd-r.coverStart)o=s.parentNode.getBoundingClientRect();else if(yr&&t.options.lineWrapping){var c=Ws(s,a,l).getClientRects();o=c.length?c["right"==i?c.length-1:0]:Wr}else o=Ws(s,a,l).getBoundingClientRect()||Wr;if(o.left||o.right||0==a)break;l=a,a-=1,h="right"}yr&&11>br&&(o=oe(t.display.measure,o))}else{a>0&&(h=i="right");var c;o=t.options.lineWrapping&&(c=s.getClientRects()).length>1?c["right"==i?c.length-1:0]:s.getBoundingClientRect()}if(yr&&9>br&&!a&&(!o||!o.left&&!o.right)){var p=s.parentNode.getClientRects()[0];o=p?{left:p.left,right:p.left+ye(t.display),top:p.top,bottom:p.bottom}:Wr}for(var d=o.top-e.rect.top,f=o.bottom-e.rect.top,m=(d+f)/2,g=e.view.measure.heights,u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,_=g[u],y={left:("right"==h?o.right:o.left)-e.rect.left,right:("left"==h?o.left:o.right)-e.rect.left,top:v,bottom:_};return o.left||o.right||(y.bogus=!0),t.options.singleCursorHeightPerLine||(y.rtop=d,y.rbottom=f),y}function oe(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!tr(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}function re(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function se(t){t.display.externalMeasure=null,Go(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)re(t.display.view[e])}function ae(t){se(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function le(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function he(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ue(t,e,n,i){if(e.widgets)for(var o=0;o<e.widgets.length;++o)if(e.widgets[o].above){var r=Ci(e.widgets[o]);n.top+=r,n.bottom+=r}if("line"==i)return n;i||(i="local");var s=io(e);if("local"==i?s+=Wt(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:he());var l=a.left+("window"==i?0:le());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function ce(t,e,n){if("div"==n)return e;var i=e.left,o=e.top;if("page"==n)i-=le(),o-=he();else if("local"==n||!n){var r=t.display.sizer.getBoundingClientRect();i+=r.left,o+=r.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:o-s.top}}function pe(t,e,n,i,o){return i||(i=Xi(t.doc,e.line)),ue(t,i,Qt(t,i,e.ch,o),n)}function de(t,e,n,i,o,r){function s(e,s){var a=ee(t,o,e,s?"right":"left",r);return s?a.left=a.right:a.right=a.left,ue(t,i,a,n)}function a(t,e){var n=l[e],i=n.level%2;return t==nr(n)&&e&&n.level<l[e-1].level?(n=l[--e],t=ir(n)-(n.level%2?0:1),i=!0):t==ir(n)&&e<l.length-1&&n.level<l[e+1].level&&(n=l[++e],t=nr(n)-n.level%2,i=!1),i&&t==n.to&&t>n.from?s(t-1):s(t,i)}i=i||Xi(t.doc,e.line),o||(o=te(t,i));var l=oo(i),h=e.ch;if(!l)return s(h);var u=ur(l,h),c=a(h,u);return null!=ra&&(c.other=a(h,ra)),c}function fe(t,e){var n=0,e=mt(t.doc,e);t.options.lineWrapping||(n=ye(t.display)*e.ch);
var i=Xi(t.doc,e.line),o=io(i)+Wt(t.display);return{left:n,right:n,top:o,bottom:o+i.height}}function me(t,e,n,i){var o=Ur(t,e);return o.xRel=i,n&&(o.outside=!0),o}function ge(t,e,n){var i=t.doc;if(n+=t.display.viewOffset,0>n)return me(i.first,0,!0,-1);var o=no(i,n),r=i.first+i.size-1;if(o>r)return me(i.first+i.size-1,Xi(i,r).text.length,!0,1);0>e&&(e=0);for(var s=Xi(i,o);;){var a=ve(t,s,o,e,n),l=gi(s),h=l&&l.find(0,!0);if(!l||!(a.ch>h.from.ch||a.ch==h.from.ch&&a.xRel>0))return a;o=eo(s=h.to.line)}}function ve(t,e,n,i,o){function r(i){var o=de(t,Ur(n,i),"line",e,h);return a=!0,s>o.bottom?o.left-l:s<o.top?o.left+l:(a=!1,o.left)}var s=o-io(e),a=!1,l=2*t.display.wrapper.clientWidth,h=te(t,e),u=oo(e),c=e.text.length,p=or(e),d=rr(e),f=r(p),m=a,g=r(d),v=a;if(i>g)return me(n,d,v,1);for(;;){if(u?d==p||d==pr(e,p,1):1>=d-p){for(var _=f>i||g-i>=i-f?p:d,y=i-(_==p?f:g);Fo(e.text.charAt(_));)++_;var b=me(n,_,_==p?m:v,-1>y?-1:y>1?1:0);return b}var M=Math.ceil(c/2),x=p+M;if(u){x=p;for(var w=0;M>w;++w)x=pr(e,x,1)}var E=r(x);E>i?(d=x,g=E,(v=a)&&(g+=1e3),c=M):(p=x,f=E,m=a,c-=M)}}function _e(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Br){Br=Wo("pre");for(var e=0;49>e;++e)Br.appendChild(document.createTextNode("x")),Br.appendChild(Wo("br"));Br.appendChild(document.createTextNode("x"))}Ho(t.measure,Br);var n=Br.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),Go(t.measure),n||1}function ye(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Wo("span","xxxxxxxxxx"),n=Wo("pre",[e]);Ho(t.measure,n);var i=e.getBoundingClientRect(),o=(i.right-i.left)/10;return o>2&&(t.cachedCharWidth=o),o||10}function be(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Hr},Gr?Gr.ops.push(t.curOp):t.curOp.ownsGroup=Gr={ops:[t.curOp],delayedCallbacks:[]}}function Me(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var o=t.ops[i];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<e.length)}function xe(t){var e=t.curOp,n=e.ownsGroup;if(n)try{Me(n)}finally{Gr=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;we(n)}}function we(t){for(var e=t.ops,n=0;n<e.length;n++)Ee(e[n]);for(var n=0;n<e.length;n++)Ce(e[n]);for(var n=0;n<e.length;n++)Le(e[n]);for(var n=0;n<e.length;n++)Ne(e[n]);for(var n=0;n<e.length;n++)Pe(e[n])}function Ee(t){var e=t.cm,n=e.display;L(e),t.updateMaxLine&&p(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new C(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Ce(t){t.updatedDisplay=t.mustUpdate&&N(t.cm,t.update)}function Le(t){var e=t.cm,n=e.display;t.updatedDisplay&&k(e),t.barMeasure=f(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Qt(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+qt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Zt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Ne(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&rn(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1),t.preparedSelection&&e.display.input.showSelection(t.preparedSelection),t.updatedDisplay&&D(e,t.barMeasure),(t.updatedDisplay||t.startHeight!=e.doc.height)&&_(e,t.barMeasure),t.selectionChanged&&zt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),!t.focus||t.focus!=qo()||document.hasFocus&&!document.hasFocus()||Y(t.cm)}function Pe(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&P(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Zt(e),t.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,M(e)),t.scrollToPos){var o=In(e,mt(i,t.scrollToPos.from),mt(i,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Tn(e,o)}var r=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(r)for(var a=0;a<r.length;++a)r[a].lines.length||Os(r[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Os(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Os(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Se(t,e){if(t.curOp)return e();be(t);try{return e()}finally{xe(t)}}function De(t,e){return function(){if(t.curOp)return e.apply(t,arguments);be(t);try{return e.apply(t,arguments)}finally{xe(t)}}}function ke(t){return function(){if(this.curOp)return t.apply(this,arguments);be(this);try{return t.apply(this,arguments)}finally{xe(this)}}}function Oe(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);be(e);try{return t.apply(this,arguments)}finally{xe(e)}}}function Te(t,e,n){this.line=e,this.rest=yi(e),this.size=this.rest?eo(To(this.rest))-n+1:1,this.node=this.text=null,this.hidden=xi(t,e)}function Ie(t,e,n){for(var i,o=[],r=e;n>r;r=i){var s=new Te(t.doc,Xi(t.doc,r),r);i=r+s.size,o.push(s)}return o}function Ae(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var o=t.display;if(i&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>e)&&(o.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=o.viewTo)Rr&&bi(t.doc,e)<o.viewTo&&Ue(t);else if(n<=o.viewFrom)Rr&&Mi(t.doc,n+i)>o.viewFrom?Ue(t):(o.viewFrom+=i,o.viewTo+=i);else if(e<=o.viewFrom&&n>=o.viewTo)Ue(t);else if(e<=o.viewFrom){var r=je(t,n,n+i,1);r?(o.view=o.view.slice(r.index),o.viewFrom=r.lineN,o.viewTo+=i):Ue(t)}else if(n>=o.viewTo){var r=je(t,e,e,-1);r?(o.view=o.view.slice(0,r.index),o.viewTo=r.lineN):Ue(t)}else{var s=je(t,e,e,-1),a=je(t,n,n+i,1);s&&a?(o.view=o.view.slice(0,s.index).concat(Ie(t,s.lineN,a.lineN)).concat(o.view.slice(a.index)),o.viewTo+=i):Ue(t)}var l=o.externalMeasured;l&&(n<l.lineN?l.lineN+=i:e<l.lineN+l.size&&(o.externalMeasured=null))}function Re(t,e,n){t.curOp.viewChanged=!0;var i=t.display,o=t.display.externalMeasured;if(o&&e>=o.lineN&&e<o.lineN+o.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var r=i.view[ze(t,e)];if(null!=r.node){var s=r.changes||(r.changes=[]);-1==Io(s,n)&&s.push(n)}}}function Ue(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function ze(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,0>e)return null;for(var n=t.display.view,i=0;i<n.length;i++)if(e-=n[i].size,0>e)return i}function je(t,e,n,i){var o,r=ze(t,e),s=t.display.view;if(!Rr||n==t.doc.first+t.doc.size)return{index:r,lineN:n};for(var a=0,l=t.display.viewFrom;r>a;a++)l+=s[a].size;if(l!=e){if(i>0){if(r==s.length-1)return null;o=l+s[r].size-e,r++}else o=l-e;e+=o,n+=o}for(;bi(t.doc,n)!=n;){if(r==(0>i?0:s.length-1))return null;n+=i*s[r-(0>i?1:0)].size,r+=i}return{index:r,lineN:n}}function Be(t,e,n){var i=t.display,o=i.view;0==o.length||e>=i.viewTo||n<=i.viewFrom?(i.view=Ie(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=Ie(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(ze(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(Ie(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,ze(t,n)))),i.viewTo=n}function Ve(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var o=e[i];o.hidden||o.node&&!o.changes||++n}return n}function Fe(t){function e(){o.activeTouch&&(r=setTimeout(function(){o.activeTouch=null},1e3),s=o.activeTouch,s.end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function i(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return n*n+i*i>400}var o=t.display;Ss(o.scroller,"mousedown",De(t,Ze)),yr&&11>br?Ss(o.scroller,"dblclick",De(t,function(e){if(!No(t,e)){var n=qe(t,e);if(n&&!Qe(t,e)&&!He(t.display,e)){Ls(e);var i=t.findWordAt(n);bt(t.doc,i.anchor,i.head)}}})):Ss(o.scroller,"dblclick",function(e){No(t,e)||Ls(e)}),Ir||Ss(o.scroller,"contextmenu",function(e){yn(t,e)});var r,s={end:0};Ss(o.scroller,"touchstart",function(e){if(!No(t,e)&&!n(e)){clearTimeout(r);var i=+new Date;o.activeTouch={start:i,moved:!1,prev:i-s.end<=300?s:null},1==e.touches.length&&(o.activeTouch.left=e.touches[0].pageX,o.activeTouch.top=e.touches[0].pageY)}}),Ss(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),Ss(o.scroller,"touchend",function(n){var r=o.activeTouch;if(r&&!He(o,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var s,a=t.coordsChar(o.activeTouch,"page");s=!r.prev||i(r,r.prev)?new ct(a,a):!r.prev.prev||i(r,r.prev.prev)?t.findWordAt(a):new ct(Ur(a.line,0),mt(t.doc,Ur(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),Ls(n)}e()}),Ss(o.scroller,"touchcancel",e),Ss(o.scroller,"scroll",function(){o.scroller.clientHeight&&(on(t,o.scroller.scrollTop),rn(t,o.scroller.scrollLeft,!0),Os(t,"scroll",t))}),Ss(o.scroller,"mousewheel",function(e){sn(t,e)}),Ss(o.scroller,"DOMMouseScroll",function(e){sn(t,e)}),Ss(o.wrapper,"scroll",function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(e){No(t,e)||Ps(e)},over:function(e){No(t,e)||(en(t,e),Ps(e))},start:function(e){tn(t,e)},drop:De(t,$e),leave:function(){nn(t)}};var a=o.input.getField();Ss(a,"keyup",function(e){fn.call(t,e)}),Ss(a,"keydown",De(t,pn)),Ss(a,"keypress",De(t,mn)),Ss(a,"focus",jo(vn,t)),Ss(a,"blur",jo(_n,t))}function We(e,n,i){var o=i&&i!=t.Init;if(!n!=!o){var r=e.display.dragFunctions,s=n?Ss:ks;s(e.display.scroller,"dragstart",r.start),s(e.display.scroller,"dragenter",r.enter),s(e.display.scroller,"dragover",r.over),s(e.display.scroller,"dragleave",r.leave),s(e.display.scroller,"drop",r.drop)}}function Ge(t){var e=t.display;(e.lastWrapHeight!=e.wrapper.clientHeight||e.lastWrapWidth!=e.wrapper.clientWidth)&&(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function He(t,e){for(var n=xo(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function qe(t,e,n,i){var o=t.display;if(!n&&"true"==xo(e).getAttribute("cm-not-content"))return null;var r,s,a=o.lineSpace.getBoundingClientRect();try{r=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,h=ge(t,r,s);if(i&&1==h.xRel&&(l=Xi(t.doc,h.line).text).length==h.ch){var u=js(l,l.length,t.options.tabSize)-l.length;h=Ur(h.line,Math.max(0,Math.round((r-Ht(t.display).left)/ye(t.display))-u))}return h}function Ze(t){var e=this,n=e.display;if(!(No(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=t.shiftKey,He(n,t))return void(Mr||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Qe(e,t)){var i=qe(e,t);switch(window.focus(),wo(t)){case 1:e.state.selectingText?e.state.selectingText(t):i?Ke(e,t,i):xo(t)==n.scroller&&Ls(t);break;case 2:Mr&&(e.state.lastMiddleDown=+new Date),i&&bt(e.doc,i),setTimeout(function(){n.input.focus()},20),Ls(t);break;case 3:Ir?yn(e,t):gn(e)}}}}function Ke(t,e,n){yr?setTimeout(jo(Y,t),0):t.curOp.focus=qo();var i,o=+new Date;Fr&&Fr.time>o-400&&0==zr(Fr.pos,n)?i="triple":Vr&&Vr.time>o-400&&0==zr(Vr.pos,n)?(i="double",Fr={time:o,pos:n}):(i="single",Vr={time:o,pos:n});var r,s=t.doc.sel,a=Dr?e.metaKey:e.ctrlKey;t.options.dragDrop&&$s&&!t.isReadOnly()&&"single"==i&&(r=s.contains(n))>-1&&(zr((r=s.ranges[r]).from(),n)<0||n.xRel>0)&&(zr(r.to(),n)>0||n.xRel<0)?Je(t,e,n,a):Ye(t,e,n,i,a)}function Je(t,e,n,i){var o=t.display,r=+new Date,s=De(t,function(a){Mr&&(o.scroller.draggable=!1),t.state.draggingText=!1,ks(document,"mouseup",s),ks(o.scroller,"drop",s),Math.abs(e.clientX-a.clientX)+Math.abs(e.clientY-a.clientY)<10&&(Ls(a),!i&&+new Date-200<r&&bt(t.doc,n),Mr||yr&&9==br?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())});Mr&&(o.scroller.draggable=!0),t.state.draggingText=s,o.scroller.dragDrop&&o.scroller.dragDrop(),Ss(document,"mouseup",s),Ss(o.scroller,"drop",s)}function Ye(t,e,n,i,o){function r(e){if(0!=zr(g,e))if(g=e,"rect"==i){for(var o=[],r=t.options.tabSize,s=js(Xi(h,n.line).text,n.ch,r),a=js(Xi(h,e.line).text,e.ch,r),l=Math.min(s,a),d=Math.max(s,a),f=Math.min(n.line,e.line),m=Math.min(t.lastLine(),Math.max(n.line,e.line));m>=f;f++){var v=Xi(h,f).text,_=Bs(v,l,r);l==d?o.push(new ct(Ur(f,_),Ur(f,_))):v.length>_&&o.push(new ct(Ur(f,_),Ur(f,Bs(v,d,r))))}o.length||o.push(new ct(n,n)),Lt(h,pt(p.ranges.slice(0,c).concat(o),c),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var y=u,b=y.anchor,M=e;if("single"!=i){if("double"==i)var x=t.findWordAt(e);else var x=new ct(Ur(e.line,0),mt(h,Ur(e.line+1,0)));zr(x.anchor,b)>0?(M=x.head,b=J(y.from(),x.anchor)):(M=x.anchor,b=K(y.to(),x.head))}var o=p.ranges.slice(0);o[c]=new ct(mt(h,b),M),Lt(h,pt(o,c),Us)}}function s(e){var n=++_,o=qe(t,e,!0,"rect"==i);if(o)if(0!=zr(o,g)){t.curOp.focus=qo(),r(o);var a=b(l,h);(o.line>=a.to||o.line<a.from)&&setTimeout(De(t,function(){_==n&&s(e)}),150)}else{var u=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;u&&setTimeout(De(t,function(){_==n&&(l.scroller.scrollTop+=u,s(e))}),50)}}function a(e){t.state.selectingText=!1,_=1/0,Ls(e),l.input.focus(),ks(document,"mousemove",y),ks(document,"mouseup",M),h.history.lastSelOrigin=null}var l=t.display,h=t.doc;Ls(e);var u,c,p=h.sel,d=p.ranges;if(o&&!e.shiftKey?(c=h.sel.contains(n),u=c>-1?d[c]:new ct(n,n)):(u=h.sel.primary(),c=h.sel.primIndex),e.altKey)i="rect",o||(u=new ct(n,n)),n=qe(t,e,!0,!0),c=-1;else if("double"==i){var f=t.findWordAt(n);u=t.display.shift||h.extend?yt(h,u,f.anchor,f.head):f}else if("triple"==i){var m=new ct(Ur(n.line,0),mt(h,Ur(n.line+1,0)));u=t.display.shift||h.extend?yt(h,u,m.anchor,m.head):m}else u=yt(h,u,n);o?-1==c?(c=d.length,Lt(h,pt(d.concat([u]),c),{scroll:!1,origin:"*mouse"})):d.length>1&&d[c].empty()&&"single"==i&&!e.shiftKey?(Lt(h,pt(d.slice(0,c).concat(d.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),p=h.sel):xt(h,c,u,Us):(c=0,Lt(h,new ut([u],0),Us),p=h.sel);var g=n,v=l.wrapper.getBoundingClientRect(),_=0,y=De(t,function(t){wo(t)?s(t):a(t)}),M=De(t,a);t.state.selectingText=M,Ss(document,"mousemove",y),Ss(document,"mouseup",M)}function Xe(t,e,n,i){try{var o=e.clientX,r=e.clientY}catch(e){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&Ls(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(r>a.bottom||!So(t,n))return Mo(e);r-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var h=s.gutters.childNodes[l];if(h&&h.getBoundingClientRect().right>=o){var u=no(t.doc,r),c=t.options.gutters[l];return Os(t,n,t,u,c,e),Mo(e)}}}function Qe(t,e){return Xe(t,e,"gutterClick",!0)}function $e(t){var e=this;if(nn(e),!No(e,t)&&!He(e.display,t)){Ls(t),yr&&(qr=+new Date);var n=qe(e,t,!0),i=t.dataTransfer.files;if(n&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var o=i.length,r=Array(o),s=0,a=function(t,i){if(!e.options.allowDropFileTypes||-1!=Io(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=De(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),r[i]=t,++s==o){n=mt(e.doc,n);var l={from:n,to:n,text:e.doc.splitLines(r.join(e.doc.lineSeparator())),origin:"paste"};Ln(e.doc,l),Ct(e.doc,dt(n,Qr(l)))}}),a.readAsText(t)}},l=0;o>l;++l)a(i[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var r=t.dataTransfer.getData("Text");if(r){if(e.state.draggingText&&!(Dr?t.altKey:t.ctrlKey))var h=e.listSelections();if(Nt(e.doc,dt(n,n)),h)for(var l=0;l<h.length;++l)On(e.doc,"",h[l].anchor,h[l].head,"drag");e.replaceSelection(r,"around","paste"),e.display.input.focus()}}catch(t){}}}}function tn(t,e){if(yr&&(!t.state.draggingText||+new Date-qr<100))return void Ps(e);if(!No(t,e)&&!He(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.setDragImage&&!Cr)){var n=Wo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Er&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Er&&n.parentNode.removeChild(n)}}function en(t,e){var n=qe(t,e);if(n){var i=document.createDocumentFragment();Rt(t,n,i),t.display.dragCursor||(t.display.dragCursor=Wo("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Ho(t.display.dragCursor,i)}}function nn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function on(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,gr||S(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),gr&&S(t),jt(t,100))}function rn(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,M(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function sn(t,e){var n=Jr(e),i=n.x,o=n.y,r=t.display,s=r.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&a||o&&l){if(o&&Dr&&Mr)t:for(var h=e.target,u=r.view;h!=s;h=h.parentNode)for(var c=0;c<u.length;c++)if(u[c].node==h){t.display.currentWheelTarget=h;break t}if(i&&!gr&&!Er&&null!=Kr)return o&&l&&on(t,Math.max(0,Math.min(s.scrollTop+o*Kr,s.scrollHeight-s.clientHeight))),rn(t,Math.max(0,Math.min(s.scrollLeft+i*Kr,s.scrollWidth-s.clientWidth))),(!o||o&&l)&&Ls(e),void(r.wheelStartX=null);if(o&&null!=Kr){var p=o*Kr,d=t.doc.scrollTop,f=d+r.wrapper.clientHeight;0>p?d=Math.max(0,d+p-50):f=Math.min(t.doc.height,f+p+50),S(t,{top:d,bottom:f})}20>Zr&&(null==r.wheelStartX?(r.wheelStartX=s.scrollLeft,r.wheelStartY=s.scrollTop,r.wheelDX=i,r.wheelDY=o,setTimeout(function(){if(null!=r.wheelStartX){var t=s.scrollLeft-r.wheelStartX,e=s.scrollTop-r.wheelStartY,n=e&&r.wheelDY&&e/r.wheelDY||t&&r.wheelDX&&t/r.wheelDX;r.wheelStartX=r.wheelStartY=null,n&&(Kr=(Kr*Zr+n)/(Zr+1),++Zr)}},200)):(r.wheelDX+=i,r.wheelDY+=o))}}function an(t,e,n){if("string"==typeof e&&(e=hs[e],!e))return!1;t.display.input.ensurePolled();var i=t.display.shift,o=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),o=e(t)!=As}finally{t.display.shift=i,t.state.suppressEdits=!1}return o}function ln(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var o=cs(e,t.state.keyMaps[i],n,t);if(o)return o}return t.options.extraKeys&&cs(e,t.options.extraKeys,n,t)||cs(e,t.options.keyMap,n,t)}function hn(t,e,n,i){var o=t.state.keySeq;if(o){if(ps(e))return"handled";Yr.set(50,function(){t.state.keySeq==o&&(t.state.keySeq=null,t.display.input.reset())}),e=o+" "+e}var r=ln(t,e,i);return"multi"==r&&(t.state.keySeq=e),"handled"==r&&Co(t,"keyHandled",t,e,n),("handled"==r||"multi"==r)&&(Ls(n),zt(t)),o&&!r&&/\'$/.test(e)?(Ls(n),!0):!!r}function un(t,e){var n=ds(e,!0);return n?e.shiftKey&&!t.state.keySeq?hn(t,"Shift-"+n,e,function(e){return an(t,e,!0)})||hn(t,n,e,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?an(t,e):void 0}):hn(t,n,e,function(e){return an(t,e)}):!1}function cn(t,e,n){return hn(t,"'"+n+"'",e,function(e){return an(t,e,!0)})}function pn(t){var e=this;if(e.curOp.focus=qo(),!No(e,t)){yr&&11>br&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=un(e,t);Er&&(Xr=i?n:null,!i&&88==n&&!na&&(Dr?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||dn(e)}}function dn(t){function e(t){18!=t.keyCode&&t.altKey||(Ys(n,"CodeMirror-crosshair"),ks(document,"keyup",e),ks(document,"mouseover",e))}var n=t.display.lineDiv;Xs(n,"CodeMirror-crosshair"),Ss(document,"keyup",e),Ss(document,"mouseover",e)}function fn(t){16==t.keyCode&&(this.doc.sel.shift=!1),No(this,t)}function mn(t){var e=this;if(!(He(e.display,t)||No(e,t)||t.ctrlKey&&!t.altKey||Dr&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(Er&&n==Xr)return Xr=null,void Ls(t);if(!Er||t.which&&!(t.which<10)||!un(e,t)){var o=String.fromCharCode(null==i?n:i);cn(e,t,o)||e.display.input.onKeyPress(t)}}}function gn(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,_n(t))},100)}function vn(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Os(t,"focus",t),t.state.focused=!0,Xs(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),Mr&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),zt(t))}function _n(t){t.state.delayingBlurEvent||(t.state.focused&&(Os(t,"blur",t),t.state.focused=!1,Ys(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function yn(t,e){He(t.display,e)||bn(t,e)||No(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function bn(t,e){return So(t,"gutterContextMenu")?Xe(t,e,"gutterContextMenu",!1):!1}function Mn(t,e){if(zr(t,e.from)<0)return t;if(zr(t,e.to)<=0)return Qr(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=Qr(e).ch-e.to.ch),Ur(n,i)}function xn(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var o=t.sel.ranges[i];n.push(new ct(Mn(o.anchor,e),Mn(o.head,e)))}return pt(n,t.sel.primIndex)}function wn(t,e,n){return t.line==e.line?Ur(n.line,t.ch-e.ch+n.ch):Ur(n.line+(t.line-e.line),t.ch)}function En(t,e,n){for(var i=[],o=Ur(t.first,0),r=o,s=0;s<e.length;s++){var a=e[s],l=wn(a.from,o,r),h=wn(Qr(a),o,r);if(o=a.to,r=h,"around"==n){var u=t.sel.ranges[s],c=zr(u.head,u.anchor)<0;i[s]=new ct(c?h:l,c?l:h)}else i[s]=new ct(l,l)}return new ut(i,t.sel.primIndex)}function Cn(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(e,n,i,o){e&&(this.from=mt(t,e)),n&&(this.to=mt(t,n)),i&&(this.text=i),void 0!==o&&(this.origin=o)}),Os(t,"beforeChange",t,i),t.cm&&Os(t.cm,"beforeChange",t.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Ln(t,e,n){if(t.cm){if(!t.cm.curOp)return De(t.cm,Ln)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(So(t,"beforeChange")||t.cm&&So(t.cm,"beforeChange"))||(e=Cn(t,e,!0))){var i=Ar&&!n&&li(t,e.from,e.to);if(i)for(var o=i.length-1;o>=0;--o)Nn(t,{from:i[o].from,to:i[o].to,text:o?[""]:e.text});else Nn(t,e)}}function Nn(t,e){if(1!=e.text.length||""!=e.text[0]||0!=zr(e.from,e.to)){var n=xn(t,e);ho(t,e,n,t.cm?t.cm.curOp.id:NaN),Dn(t,e,n,ri(t,e));var i=[];Ji(t,function(t,n){n||-1!=Io(i,t.history)||(bo(t.history,e),i.push(t.history)),Dn(t,e,null,ri(t,e))})}}function Pn(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var i,o=t.history,r=t.sel,s="undo"==e?o.done:o.undone,a="undo"==e?o.undone:o.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;i=s.pop(),i.ranges;){if(po(i,a),n&&!i.equals(t.sel))return void Lt(t,i,{clearRedo:!1});r=i}var h=[];po(r,a),a.push({changes:h,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var u=So(t,"beforeChange")||t.cm&&So(t.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var c=i.changes[l];if(c.origin=e,u&&!Cn(t,c,!1))return void(s.length=0);h.push(so(t,c));var p=l?xn(t,c):To(s);Dn(t,c,p,ai(t,c)),!l&&t.cm&&t.cm.scrollIntoView({from:c.from,to:Qr(c)});var d=[];Ji(t,function(t,e){e||-1!=Io(d,t.history)||(bo(t.history,c),d.push(t.history)),Dn(t,c,null,ai(t,c))})}}}}function Sn(t,e){if(0!=e&&(t.first+=e,t.sel=new ut(Ao(t.sel.ranges,function(t){return new ct(Ur(t.anchor.line+e,t.anchor.ch),Ur(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Ae(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)Re(t.cm,i,"gutter")}}function Dn(t,e,n,i){if(t.cm&&!t.cm.curOp)return De(t.cm,Dn)(t,e,n,i);if(e.to.line<t.first)return void Sn(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var o=e.text.length-1-(t.first-e.from.line);Sn(t,o),e={from:Ur(t.first,0),to:Ur(e.to.line+o,e.to.ch),text:[To(e.text)],origin:e.origin}}var r=t.lastLine();e.to.line>r&&(e={from:e.from,to:Ur(r,Xi(t,r).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qi(t,e.from,e.to),n||(n=xn(t,e)),t.cm?kn(t.cm,e,i):qi(t,e,i),Nt(t,n,Rs)}}function kn(t,e,n){var i=t.doc,o=t.display,s=e.from,a=e.to,l=!1,h=s.line;t.options.lineWrapping||(h=eo(_i(Xi(i,s.line))),i.iter(h,a.line+1,function(t){return t==o.maxLine?(l=!0,!0):void 0})),i.sel.contains(e.from,e.to)>-1&&Po(t),qi(i,e,n,r(t)),t.options.lineWrapping||(i.iter(h,s.line+e.text.length,function(t){var e=c(t);e>o.maxLineLength&&(o.maxLine=t,o.maxLineLength=e,o.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),jt(t,400);var u=e.text.length-(a.line-s.line)-1;e.full?Ae(t):s.line!=a.line||1!=e.text.length||Hi(t.doc,e)?Ae(t,s.line,a.line+1,u):Re(t,s.line,"text");var p=So(t,"changes"),d=So(t,"change");if(d||p){var f={from:s,to:a,text:e.text,removed:e.removed,origin:e.origin};d&&Co(t,"change",t,f),p&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}function On(t,e,n,i,o){if(i||(i=n),zr(i,n)<0){var r=i;i=n,n=r}"string"==typeof e&&(e=t.splitLines(e)),Ln(t,{from:n,to:i,text:e,origin:o})}function Tn(t,e){if(!No(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),o=null;if(e.top+i.top<0?o=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Nr){var r=Wo("div","",null,"position: absolute; top: "+(e.top-n.viewOffset-Wt(t.display))+"px; height: "+(e.bottom-e.top+qt(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(r),r.scrollIntoView(o),t.display.lineSpace.removeChild(r)}}}function In(t,e,n,i){null==i&&(i=0);for(var o=0;5>o;o++){var r=!1,s=de(t,e),a=n&&n!=e?de(t,n):s,l=Rn(t,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),h=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=l.scrollTop&&(on(t,l.scrollTop),Math.abs(t.doc.scrollTop-h)>1&&(r=!0)),null!=l.scrollLeft&&(rn(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(r=!0)),!r)break}return s}function An(t,e,n,i,o){var r=Rn(t,e,n,i,o);null!=r.scrollTop&&on(t,r.scrollTop),null!=r.scrollLeft&&rn(t,r.scrollLeft)}function Rn(t,e,n,i,o){var r=t.display,s=_e(t.display);0>n&&(n=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:r.scroller.scrollTop,l=Kt(t),h={};o-n>l&&(o=n+l);var u=t.doc.height+Gt(r),c=s>n,p=o>u-s;if(a>n)h.scrollTop=c?0:n;else if(o>a+l){var d=Math.min(n,(p?u:o)-l);d!=a&&(h.scrollTop=d)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:r.scroller.scrollLeft,m=Zt(t)-(t.options.fixedGutter?r.gutters.offsetWidth:0),g=i-e>m;return g&&(i=e+m),10>e?h.scrollLeft=0:f>e?h.scrollLeft=Math.max(0,e-(g?0:10)):i>m+f-3&&(h.scrollLeft=i+(g?0:10)-m),h}function Un(t,e,n){(null!=e||null!=n)&&jn(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function zn(t){jn(t);var e=t.getCursor(),n=e,i=e;t.options.lineWrapping||(n=e.ch?Ur(e.line,e.ch-1):e,i=Ur(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:i,margin:t.options.cursorScrollMargin,isCursor:!0}}function jn(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=fe(t,e.from),i=fe(t,e.to),o=Rn(t,Math.min(n.left,i.left),Math.min(n.top,i.top)-e.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+e.margin);t.scrollTo(o.scrollLeft,o.scrollTop)}}function Bn(t,e,n,i){var o,r=t.doc;null==n&&(n="add"),"smart"==n&&(r.mode.indent?o=Ft(t,e):n="prev");var s=t.options.tabSize,a=Xi(r,e),l=js(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var h,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(h=r.mode.indent(o,a.text.slice(u.length),a.text),h==As||h>150)){if(!i)return;n="prev"}}else h=0,n="not";"prev"==n?h=e>r.first?js(Xi(r,e-1).text,null,s):0:"add"==n?h=l+t.options.indentUnit:"subtract"==n?h=l-t.options.indentUnit:"number"==typeof n&&(h=l+n),h=Math.max(0,h);var c="",p=0;if(t.options.indentWithTabs)for(var d=Math.floor(h/s);d;--d)p+=s,c+="	";if(h>p&&(c+=Oo(h-p)),c!=u)return On(r,c,Ur(e,0),Ur(e,u.length),"+input"),a.stateAfter=null,!0;for(var d=0;d<r.sel.ranges.length;d++){var f=r.sel.ranges[d];if(f.head.line==e&&f.head.ch<u.length){var p=Ur(e,u.length);xt(r,d,new ct(p,p));break}}}function Vn(t,e,n,i){var o=e,r=e;return"number"==typeof e?r=Xi(t,ft(t,e)):o=eo(e),null==o?null:(i(r,o)&&t.cm&&Re(t.cm,o,n),r)}function Fn(t,e){for(var n=t.doc.sel.ranges,i=[],o=0;o<n.length;o++){for(var r=e(n[o]);i.length&&zr(r.from,To(i).to)<=0;){var s=i.pop();if(zr(s.from,r.from)<0){r.from=s.from;break}}i.push(r)}Se(t,function(){for(var e=i.length-1;e>=0;e--)On(t.doc,"",i[e].from,i[e].to,"+delete");zn(t)})}function Wn(t,e,n,i,o){function r(){var e=a+n;return e<t.first||e>=t.first+t.size?!1:(a=e,u=Xi(t,e))}function s(t){var e=(o?pr:dr)(u,l,n,!0);if(null==e){if(t||!r())return!1;l=o?(0>n?rr:or)(u):0>n?u.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,h=n,u=Xi(t,a);if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var c=null,p="group"==i,d=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(0>n)||s(!f);f=!1){var m=u.text.charAt(l)||"\n",g=Bo(m,d)?"w":p&&"\n"==m?"n":!p||/\s/.test(m)?null:"p";if(!p||f||g||(g="s"),c&&c!=g){0>n&&(n=1,s());break}if(g&&(c=g),n>0&&!s(!f))break}var v=Ot(t,Ur(a,l),e,h,!0);return zr(e,v)||(v.hitSide=!0),v}function Gn(t,e,n,i){var o,r=t.doc,s=e.left;if("page"==i){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=e.top+n*(a-(0>n?1.5:.5)*_e(t.display))}else"line"==i&&(o=n>0?e.bottom+3:e.top-3);for(;;){var l=ge(t,s,o);if(!l.outside)break;if(0>n?0>=o:o>=r.height){l.hitSide=!0;break}o+=5*n}return l}function Hn(e,n,i,o){t.defaults[e]=n,i&&(ts[e]=o?function(t,e,n){n!=es&&i(t,e,n)}:i)}function qn(t){for(var e,n,i,o,r=t.split(/-(?!$)/),t=r[r.length-1],s=0;s<r.length-1;s++){var a=r[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Zn(t){return"string"==typeof t?us[t]:t}function Kn(t,e,n,i,o){if(i&&i.shared)return Jn(t,e,n,i,o);if(t.cm&&!t.cm.curOp)return De(t.cm,Kn)(t,e,n,i,o);var r=new gs(t,o),s=zr(e,n);if(i&&zo(i,r,!1),s>0||0==s&&r.clearWhenEmpty!==!1)return r;if(r.replacedWith&&(r.collapsed=!0,r.widgetNode=Wo("span",[r.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||r.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(r.widgetNode.insertLeft=!0)),r.collapsed){if(vi(t,e.line,e,n,r)||e.line!=n.line&&vi(t,n.line,e,n,r))throw new Error("Inserting collapsed marker partially overlapping an existing one");Rr=!0}r.addToHistory&&ho(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,h=t.cm;if(t.iter(l,n.line+1,function(t){h&&r.collapsed&&!h.options.lineWrapping&&_i(t)==h.display.maxLine&&(a=!0),
r.collapsed&&l!=e.line&&to(t,0),ni(t,new $n(r,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),r.collapsed&&t.iter(e.line,n.line+1,function(e){xi(t,e)&&to(e,0)}),r.clearOnEnter&&Ss(r,"beforeCursorEnter",function(){r.clear()}),r.readOnly&&(Ar=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),r.collapsed&&(r.id=++ms,r.atomic=!0),h){if(a&&(h.curOp.updateMaxLine=!0),r.collapsed)Ae(h,e.line,n.line+1);else if(r.className||r.title||r.startStyle||r.endStyle||r.css)for(var u=e.line;u<=n.line;u++)Re(h,u,"text");r.atomic&&St(h.doc),Co(h,"markerAdded",h,r)}return r}function Jn(t,e,n,i,o){i=zo(i),i.shared=!1;var r=[Kn(t,e,n,i,o)],s=r[0],a=i.widgetNode;return Ji(t,function(t){a&&(i.widgetNode=a.cloneNode(!0)),r.push(Kn(t,mt(t,e),mt(t,n),i,o));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=To(r)}),new vs(r,s)}function Yn(t){return t.findMarks(Ur(t.first,0),t.clipPos(Ur(t.lastLine())),function(t){return t.parent})}function Xn(t,e){for(var n=0;n<e.length;n++){var i=e[n],o=i.find(),r=t.clipPos(o.from),s=t.clipPos(o.to);if(zr(r,s)){var a=Kn(t,r,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Qn(t){for(var e=0;e<t.length;e++){var n=t[e],i=[n.primary.doc];Ji(n.primary.doc,function(t){i.push(t)});for(var o=0;o<n.markers.length;o++){var r=n.markers[o];-1==Io(i,r.doc)&&(r.parent=null,n.markers.splice(o--,1))}}}function $n(t,e,n){this.marker=t,this.from=e,this.to=n}function ti(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function ei(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function ni(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function ii(t,e,n){if(t)for(var i,o=0;o<t.length;++o){var r=t[o],s=r.marker,a=null==r.from||(s.inclusiveLeft?r.from<=e:r.from<e);if(a||r.from==e&&"bookmark"==s.type&&(!n||!r.marker.insertLeft)){var l=null==r.to||(s.inclusiveRight?r.to>=e:r.to>e);(i||(i=[])).push(new $n(s,r.from,l?null:r.to))}}return i}function oi(t,e,n){if(t)for(var i,o=0;o<t.length;++o){var r=t[o],s=r.marker,a=null==r.to||(s.inclusiveRight?r.to>=e:r.to>e);if(a||r.from==e&&"bookmark"==s.type&&(!n||r.marker.insertLeft)){var l=null==r.from||(s.inclusiveLeft?r.from<=e:r.from<e);(i||(i=[])).push(new $n(s,l?null:r.from-e,null==r.to?null:r.to-e))}}return i}function ri(t,e){if(e.full)return null;var n=vt(t,e.from.line)&&Xi(t,e.from.line).markedSpans,i=vt(t,e.to.line)&&Xi(t,e.to.line).markedSpans;if(!n&&!i)return null;var o=e.from.ch,r=e.to.ch,s=0==zr(e.from,e.to),a=ii(n,o,s),l=oi(i,r,s),h=1==e.text.length,u=To(e.text).length+(h?o:0);if(a)for(var c=0;c<a.length;++c){var p=a[c];if(null==p.to){var d=ti(l,p.marker);d?h&&(p.to=null==d.to?null:d.to+u):p.to=o}}if(l)for(var c=0;c<l.length;++c){var p=l[c];if(null!=p.to&&(p.to+=u),null==p.from){var d=ti(a,p.marker);d||(p.from=u,h&&(a||(a=[])).push(p))}else p.from+=u,h&&(a||(a=[])).push(p)}a&&(a=si(a)),l&&l!=a&&(l=si(l));var f=[a];if(!h){var m,g=e.text.length-2;if(g>0&&a)for(var c=0;c<a.length;++c)null==a[c].to&&(m||(m=[])).push(new $n(a[c].marker,null,null));for(var c=0;g>c;++c)f.push(m);f.push(l)}return f}function si(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function ai(t,e){var n=go(t,e),i=ri(t,e);if(!n)return i;if(!i)return n;for(var o=0;o<n.length;++o){var r=n[o],s=i[o];if(r&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],h=0;h<r.length;++h)if(r[h].marker==l.marker)continue t;r.push(l)}else s&&(n[o]=s)}return n}function li(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=Io(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var o=[{from:e,to:n}],r=0;r<i.length;++r)for(var s=i[r],a=s.find(0),l=0;l<o.length;++l){var h=o[l];if(!(zr(h.to,a.from)<0||zr(h.from,a.to)>0)){var u=[l,1],c=zr(h.from,a.from),p=zr(h.to,a.to);(0>c||!s.inclusiveLeft&&!c)&&u.push({from:h.from,to:a.from}),(p>0||!s.inclusiveRight&&!p)&&u.push({from:a.to,to:h.to}),o.splice.apply(o,u),l+=u.length-1}}return o}function hi(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function ui(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function ci(t){return t.inclusiveLeft?-1:0}function pi(t){return t.inclusiveRight?1:0}function di(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),o=e.find(),r=zr(i.from,o.from)||ci(t)-ci(e);if(r)return-r;var s=zr(i.to,o.to)||pi(t)-pi(e);return s?s:e.id-t.id}function fi(t,e){var n,i=Rr&&t.markedSpans;if(i)for(var o,r=0;r<i.length;++r)o=i[r],o.marker.collapsed&&null==(e?o.from:o.to)&&(!n||di(n,o.marker)<0)&&(n=o.marker);return n}function mi(t){return fi(t,!0)}function gi(t){return fi(t,!1)}function vi(t,e,n,i,o){var r=Xi(t,e),s=Rr&&r.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var h=l.marker.find(0),u=zr(h.from,n)||ci(l.marker)-ci(o),c=zr(h.to,i)||pi(l.marker)-pi(o);if(!(u>=0&&0>=c||0>=u&&c>=0)&&(0>=u&&(zr(h.to,n)>0||l.marker.inclusiveRight&&o.inclusiveLeft)||u>=0&&(zr(h.from,i)<0||l.marker.inclusiveLeft&&o.inclusiveRight)))return!0}}}function _i(t){for(var e;e=mi(t);)t=e.find(-1,!0).line;return t}function yi(t){for(var e,n;e=gi(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function bi(t,e){var n=Xi(t,e),i=_i(n);return n==i?e:eo(i)}function Mi(t,e){if(e>t.lastLine())return e;var n,i=Xi(t,e);if(!xi(t,i))return e;for(;n=gi(i);)i=n.find(1,!0).line;return eo(i)+1}function xi(t,e){var n=Rr&&e.markedSpans;if(n)for(var i,o=0;o<n.length;++o)if(i=n[o],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&wi(t,e,i))return!0}}function wi(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return wi(t,i.line,ti(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var o,r=0;r<e.markedSpans.length;++r)if(o=e.markedSpans[r],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&wi(t,e,o))return!0}function Ei(t,e,n){io(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Un(t,null,n)}function Ci(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Zs(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),Ho(e.display.measure,Wo("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Li(t,e,n,i){var o=new _s(t,n,i),r=t.cm;return r&&o.noHScroll&&(r.display.alignWidgets=!0),Vn(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,r&&!xi(t,e)){var i=io(e)<t.scrollTop;to(e,e.height+Ci(o)),i&&Un(r,null,o.height),r.curOp.forceUpdate=!0}return!0}),o}function Ni(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),hi(t),ui(t,n);var o=i?i(t):1;o!=t.height&&to(t,o)}function Pi(t){t.parent=null,hi(t)}function Si(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}return t}function Di(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var i=t.innerMode(e,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function ki(e,n,i,o){for(var r=0;10>r;r++){o&&(o[0]=t.innerMode(e,i).mode);var s=e.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}function Oi(t,e,n,i){function o(t){return{start:c.start,end:c.pos,string:c.current(),type:r||null,state:t?as(s.mode,u):u}}var r,s=t.doc,a=s.mode;e=mt(s,e);var l,h=Xi(s,e.line),u=Ft(t,e.line,n),c=new fs(h.text,t.options.tabSize);for(i&&(l=[]);(i||c.pos<e.ch)&&!c.eol();)c.start=c.pos,r=ki(a,c,u),i&&l.push(o(!0));return i?l:o()}function Ti(t,e,n,i,o,r,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,h=0,u=null,c=new fs(e,t.options.tabSize),p=t.options.addModeClass&&[null];for(""==e&&Si(Di(n,i),r);!c.eol();){if(c.pos>t.options.maxHighlightLength?(a=!1,s&&Ri(t,e,i,c.pos),c.pos=e.length,l=null):l=Si(ki(n,c,i,p),r),p){var d=p[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||u!=l){for(;h<c.start;)h=Math.min(c.start,h+5e4),o(h,u);u=l}c.start=c.pos}for(;h<c.pos;){var f=Math.min(c.pos,h+5e4);o(f,u),h=f}}function Ii(t,e,n,i){var o=[t.state.modeGen],r={};Ti(t,e.text,t.doc.mode,n,function(t,e){o.push(t,e)},r,i);for(var s=0;s<t.state.overlays.length;++s){var a=t.state.overlays[s],l=1,h=0;Ti(t,e.text,a.mode,!0,function(t,e){for(var n=l;t>h;){var i=o[l];i>t&&o.splice(l,1,t,o[l+1],i),l+=2,h=Math.min(t,i)}if(e)if(a.opaque)o.splice(n,l-n,t,"cm-overlay "+e),l=n+2;else for(;l>n;n+=2){var r=o[n+1];o[n+1]=(r?r+" ":"")+"cm-overlay "+e}},r)}return{styles:o,classes:r.bgClass||r.textClass?r:null}}function Ai(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=Ft(t,eo(e)),o=Ii(t,e,e.text.length>t.options.maxHighlightLength?as(t.doc.mode,i):i);e.stateAfter=i,e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function Ri(t,e,n,i){var o=t.doc.mode,r=new fs(e,t.options.tabSize);for(r.start=r.pos=i||0,""==e&&Di(o,n);!r.eol();)ki(o,r,n),r.start=r.pos}function Ui(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ms:bs;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function zi(t,e){var n=Wo("span",null,null,Mr?"padding-right: .1px":null),i={pre:Wo("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,splitSpaces:(yr||Mr)&&t.getOption("lineWrapping")};e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var r,s=o?e.rest[o-1]:e.line;i.pos=0,i.addToken=Bi,$o(t.display.measure)&&(r=oo(s))&&(i.addToken=Fi(i.addToken,r)),i.map=[];var a=e!=t.display.externalMeasured&&eo(s);Gi(s,i,Ai(t,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=Ko(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=Ko(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Qo(t.display.measure))),0==o?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}return Mr&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),Os(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=Ko(i.pre.className,i.textClass||"")),i}function ji(t){var e=Wo("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Bi(t,e,n,i,o,r,s){if(e){var a=t.splitSpaces?e.replace(/ {3,}/g,Vi):e,l=t.cm.state.specialChars,h=!1;if(l.test(e))for(var u=document.createDocumentFragment(),c=0;;){l.lastIndex=c;var p=l.exec(e),d=p?p.index-c:e.length-c;if(d){var f=document.createTextNode(a.slice(c,c+d));yr&&9>br?u.appendChild(Wo("span",[f])):u.appendChild(f),t.map.push(t.pos,t.pos+d,f),t.col+=d,t.pos+=d}if(!p)break;if(c+=d+1,"	"==p[0]){var m=t.cm.options.tabSize,g=m-t.col%m,f=u.appendChild(Wo("span",Oo(g),"cm-tab"));f.setAttribute("role","presentation"),f.setAttribute("cm-text","	"),t.col+=g}else if("\r"==p[0]||"\n"==p[0]){var f=u.appendChild(Wo("span","\r"==p[0]?"":"","cm-invalidchar"));f.setAttribute("cm-text",p[0]),t.col+=1}else{var f=t.cm.options.specialCharPlaceholder(p[0]);f.setAttribute("cm-text",p[0]),yr&&9>br?u.appendChild(Wo("span",[f])):u.appendChild(f),t.col+=1}t.map.push(t.pos,t.pos+1,f),t.pos++}else{t.col+=e.length;var u=document.createTextNode(a);t.map.push(t.pos,t.pos+e.length,u),yr&&9>br&&(h=!0),t.pos+=e.length}if(n||i||o||h||s){var v=n||"";i&&(v+=i),o&&(v+=o);var _=Wo("span",[u],v,s);return r&&(_.title=r),t.content.appendChild(_)}t.content.appendChild(u)}}function Vi(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":"";return e+=" "}function Fi(t,e){return function(n,i,o,r,s,a,l){o=o?o+" cm-force-border":"cm-force-border";for(var h=n.pos,u=h+i.length;;){for(var c=0;c<e.length;c++){var p=e[c];if(p.to>h&&p.from<=h)break}if(p.to>=u)return t(n,i,o,r,s,a,l);t(n,i.slice(0,p.to-h),o,r,null,a,l),r=null,i=i.slice(p.to-h),h=p.to}}}function Wi(t,e,n,i){var o=!i&&n.widgetNode;o&&t.map.push(t.pos,t.pos+e,o),!i&&t.cm.display.input.needsContentAttribute&&(o||(o=t.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(t.cm.display.input.setUneditable(o),t.content.appendChild(o)),t.pos+=e}function Gi(t,e,n){var i=t.markedSpans,o=t.text,r=0;if(i)for(var s,a,l,h,u,c,p,d=o.length,f=0,m=1,g="",v=0;;){if(v==f){l=h=u=c=a="",p=null,v=1/0;for(var _,y=[],b=0;b<i.length;++b){var M=i[b],x=M.marker;"bookmark"==x.type&&M.from==f&&x.widgetNode?y.push(x):M.from<=f&&(null==M.to||M.to>f||x.collapsed&&M.to==f&&M.from==f)?(null!=M.to&&M.to!=f&&v>M.to&&(v=M.to,h=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&M.from==f&&(u+=" "+x.startStyle),x.endStyle&&M.to==v&&(_||(_=[])).push(x.endStyle,M.to),x.title&&!c&&(c=x.title),x.collapsed&&(!p||di(p.marker,x)<0)&&(p=M)):M.from>f&&v>M.from&&(v=M.from)}if(_)for(var b=0;b<_.length;b+=2)_[b+1]==v&&(h+=" "+_[b]);if(!p||p.from==f)for(var b=0;b<y.length;++b)Wi(e,0,y[b]);if(p&&(p.from||0)==f){if(Wi(e,(null==p.to?d+1:p.to)-f,p.marker,null==p.from),null==p.to)return;p.to==f&&(p=!1)}}if(f>=d)break;for(var w=Math.min(d,v);;){if(g){var E=f+g.length;if(!p){var C=E>w?g.slice(0,w-f):g;e.addToken(e,C,s?s+l:l,u,f+C.length==v?h:"",c,a)}if(E>=w){g=g.slice(w-f),f=w;break}f=E,u=""}g=o.slice(r,r=n[m++]),s=Ui(n[m++],e.cm.options)}}else for(var m=1;m<n.length;m+=2)e.addToken(e,o.slice(r,r=n[m]),Ui(n[m+1],e.cm.options))}function Hi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==To(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function qi(t,e,n,i){function o(t){return n?n[t]:null}function r(t,n,o){Ni(t,n,o,i),Co(t,"change",t,e)}function s(t,e){for(var n=t,r=[];e>n;++n)r.push(new ys(h[n],o(n),i));return r}var a=e.from,l=e.to,h=e.text,u=Xi(t,a.line),c=Xi(t,l.line),p=To(h),d=o(h.length-1),f=l.line-a.line;if(e.full)t.insert(0,s(0,h.length)),t.remove(h.length,t.size-h.length);else if(Hi(t,e)){var m=s(0,h.length-1);r(c,c.text,d),f&&t.remove(a.line,f),m.length&&t.insert(a.line,m)}else if(u==c)if(1==h.length)r(u,u.text.slice(0,a.ch)+p+u.text.slice(l.ch),d);else{var m=s(1,h.length-1);m.push(new ys(p+u.text.slice(l.ch),d,i)),r(u,u.text.slice(0,a.ch)+h[0],o(0)),t.insert(a.line+1,m)}else if(1==h.length)r(u,u.text.slice(0,a.ch)+h[0]+c.text.slice(l.ch),o(0)),t.remove(a.line+1,f);else{r(u,u.text.slice(0,a.ch)+h[0],o(0)),r(c,p+c.text.slice(l.ch),d);var m=s(1,h.length-1);f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,m)}Co(t,"change",t,e)}function Zi(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Ki(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var o=t[i];e+=o.chunkSize(),n+=o.height,o.parent=this}this.size=e,this.height=n,this.parent=null}function Ji(t,e,n){function i(t,o,r){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=o){var l=r&&a.sharedHist;(!n||l)&&(e(a.doc,l),i(a.doc,t,l))}}}i(t,null,!0)}function Yi(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,s(t),n(t),t.options.lineWrapping||p(t),t.options.mode=e.modeOption,Ae(t)}function Xi(t,e){if(e-=t.first,0>e||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var o=n.children[i],r=o.chunkSize();if(r>e){n=o;break}e-=r}return n.lines[e]}function Qi(t,e,n){var i=[],o=e.line;return t.iter(e.line,n.line+1,function(t){var r=t.text;o==n.line&&(r=r.slice(0,n.ch)),o==e.line&&(r=r.slice(e.ch)),i.push(r),++o}),i}function $i(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function to(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function eo(t){if(null==t.parent)return null;for(var e=t.parent,n=Io(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var o=0;i.children[o]!=e;++o)n+=i.children[o].chunkSize();return n+e.first}function no(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var o=t.children[i],r=o.height;if(r>e){t=o;continue t}e-=r,n+=o.chunkSize()}return n}while(!t.lines);for(var i=0;i<t.lines.length;++i){var s=t.lines[i],a=s.height;if(a>e)break;e-=a}return n+i}function io(t){t=_i(t);for(var e=0,n=t.parent,i=0;i<n.lines.length;++i){var o=n.lines[i];if(o==t)break;e+=o.height}for(var r=n.parent;r;n=r,r=n.parent)for(var i=0;i<r.children.length;++i){var s=r.children[i];if(s==n)break;e+=s.height}return e}function oo(t){var e=t.order;return null==e&&(e=t.order=sa(t.text)),e}function ro(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function so(t,e){var n={from:Z(e.from),to:Qr(e),text:Qi(t,e.from,e.to)};return fo(t,n,e.from.line,e.to.line+1),Ji(t,function(t){fo(t,n,e.from.line,e.to.line+1)},!0),n}function ao(t){for(;t.length;){var e=To(t);if(!e.ranges)break;t.pop()}}function lo(t,e){return e?(ao(t.done),To(t.done)):t.done.length&&!To(t.done).ranges?To(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),To(t.done)):void 0}function ho(t,e,n,i){var o=t.history;o.undone.length=0;var r,s=+new Date;if((o.lastOp==i||o.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&o.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(r=lo(o,o.lastOp==i))){var a=To(r.changes);0==zr(e.from,e.to)&&0==zr(e.from,a.to)?a.to=Qr(e):r.changes.push(so(t,e))}else{var l=To(o.done);for(l&&l.ranges||po(t.sel,o.done),r={changes:[so(t,e)],generation:o.generation},o.done.push(r);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=i,o.lastOrigin=o.lastSelOrigin=e.origin,a||Os(t,"historyAdded")}function uo(t,e,n,i){var o=e.charAt(0);return"*"==o||"+"==o&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function co(t,e,n,i){var o=t.history,r=i&&i.origin;n==o.lastSelOp||r&&o.lastSelOrigin==r&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==r||uo(t,r,To(o.done),e))?o.done[o.done.length-1]=e:po(e,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=r,o.lastSelOp=n,i&&i.clearRedo!==!1&&ao(o.undone)}function po(t,e){var n=To(e);n&&n.ranges&&n.equals(t)||e.push(t)}function fo(t,e,n,i){var o=e["spans_"+t.id],r=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(n){n.markedSpans&&((o||(o=e["spans_"+t.id]={}))[r]=n.markedSpans),++r})}function mo(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function go(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=0,o=[];i<e.text.length;++i)o.push(mo(n[i]));return o}function vo(t,e,n){for(var i=0,o=[];i<t.length;++i){var r=t[i];if(r.ranges)o.push(n?ut.prototype.deepCopy.call(r):r);else{var s=r.changes,a=[];o.push({changes:a});for(var l=0;l<s.length;++l){var h,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var c in u)(h=c.match(/^spans_(\d+)$/))&&Io(e,Number(h[1]))>-1&&(To(a)[c]=u[c],delete u[c])}}}return o}function _o(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function yo(t,e,n,i){for(var o=0;o<t.length;++o){var r=t[o],s=!0;if(r.ranges){r.copied||(r=t[o]=r.deepCopy(),r.copied=!0);for(var a=0;a<r.ranges.length;a++)_o(r.ranges[a].anchor,e,n,i),_o(r.ranges[a].head,e,n,i)}else{for(var a=0;a<r.changes.length;++a){var l=r.changes[a];if(n<l.from.line)l.from=Ur(l.from.line+i,l.from.ch),l.to=Ur(l.to.line+i,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,o+1),o=0)}}}function bo(t,e){var n=e.from.line,i=e.to.line,o=e.text.length-(i-n)-1;yo(t.done,n,i,o),yo(t.undone,n,i,o)}function Mo(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function xo(t){return t.target||t.srcElement}function wo(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Dr&&t.ctrlKey&&1==e&&(e=3),e}function Eo(t,e,n){var i=t._handlers&&t._handlers[e];return n?i&&i.length>0?i.slice():Ds:i||Ds}function Co(t,e){function n(t){return function(){t.apply(null,r)}}var i=Eo(t,e,!1);if(i.length){var o,r=Array.prototype.slice.call(arguments,2);Gr?o=Gr.delayedCallbacks:Ts?o=Ts:(o=Ts=[],setTimeout(Lo,0));for(var s=0;s<i.length;++s)o.push(n(i[s]))}}function Lo(){var t=Ts;Ts=null;for(var e=0;e<t.length;++e)t[e]()}function No(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Os(t,n||e.type,t,e),Mo(e)||e.codemirrorIgnore}function Po(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==Io(n,e[i])&&n.push(e[i])}function So(t,e){return Eo(t,e).length>0}function Do(t){t.prototype.on=function(t,e){Ss(this,t,e)},t.prototype.off=function(t,e){ks(this,t,e)}}function ko(){this.id=null}function Oo(t){for(;Vs.length<=t;)Vs.push(To(Vs)+" ");return Vs[t]}function To(t){return t[t.length-1]}function Io(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function Ao(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Ro(){}function Uo(t,e){var n;return Object.create?n=Object.create(t):(Ro.prototype=t,n=new Ro),e&&zo(e,n),n}function zo(t,e,n){e||(e={});for(var i in t)!t.hasOwnProperty(i)||n===!1&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function jo(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Bo(t,e){return e?e.source.indexOf("\\w")>-1&&Hs(t)?!0:e.test(t):Hs(t)}function Vo(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Fo(t){return t.charCodeAt(0)>=768&&qs.test(t)}function Wo(t,e,n,i){var o=document.createElement(t);if(n&&(o.className=n),i&&(o.style.cssText=i),"string"==typeof e)o.appendChild(document.createTextNode(e));else if(e)for(var r=0;r<e.length;++r)o.appendChild(e[r]);return o}function Go(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Ho(t,e){return Go(t).appendChild(e)}function qo(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Zo(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Ko(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!Zo(n[i]).test(e)&&(e+=" "+n[i]);return e}function Jo(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&t(i)}}function Yo(){Qs||(Xo(),Qs=!0)}function Xo(){var t;Ss(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Jo(Ge)},100))}),Ss(window,"blur",function(){Jo(_n)})}function Qo(t){if(null==Ks){var e=Wo("span","");Ho(t,Wo("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ks=e.offsetWidth<=1&&e.offsetHeight>2&&!(yr&&8>br))}var n=Ks?Wo("span",""):Wo("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function $o(t){if(null!=Js)return Js;var e=Ho(t,document.createTextNode("AA")),n=Ws(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Ws(e,1,2).getBoundingClientRect();return Js=i.right-n.right<3}function tr(t){if(null!=ia)return ia;var e=Ho(t,Wo("span","x")),n=e.getBoundingClientRect(),i=Ws(e,0,1).getBoundingClientRect();return ia=Math.abs(n.left-i.left)>1}function er(t,e,n,i){if(!t)return i(e,n,"ltr");for(var o=!1,r=0;r<t.length;++r){var s=t[r];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr"),o=!0)}o||i(e,n,"ltr")}function nr(t){return t.level%2?t.to:t.from}function ir(t){return t.level%2?t.from:t.to}function or(t){var e=oo(t);return e?nr(e[0]):0}function rr(t){var e=oo(t);return e?ir(To(e)):t.text.length}function sr(t,e){var n=Xi(t.doc,e),i=_i(n);i!=n&&(e=eo(i));var o=oo(i),r=o?o[0].level%2?rr(i):or(i):0;return Ur(e,r)}function ar(t,e){for(var n,i=Xi(t.doc,e);n=gi(i);)i=n.find(1,!0).line,e=null;var o=oo(i),r=o?o[0].level%2?or(i):rr(i):i.text.length;return Ur(null==e?eo(i):e,r)}function lr(t,e){var n=sr(t,e.line),i=Xi(t.doc,n.line),o=oo(i);if(!o||0==o[0].level){var r=Math.max(0,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=r&&e.ch;return Ur(n.line,s?0:r)}return n}function hr(t,e,n){var i=t[0].level;return e==i?!0:n==i?!1:n>e}function ur(t,e){ra=null;for(var n,i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;if(o.from==e||o.to==e){if(null!=n)return hr(t,o.level,t[n].level)?(o.from!=o.to&&(ra=n),i):(o.from!=o.to&&(ra=i),n);n=i}}return n}function cr(t,e,n,i){if(!i)return e+n;do e+=n;while(e>0&&Fo(t.text.charAt(e)));return e}function pr(t,e,n,i){var o=oo(t);if(!o)return dr(t,e,n,i);for(var r=ur(o,e),s=o[r],a=cr(t,e,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return ur(o,a)==r?a:(s=o[r+=n],n>0==s.level%2?s.to:s.from);if(s=o[r+=n],!s)return null;a=n>0==s.level%2?cr(t,s.to,-1,i):cr(t,s.from,1,i)}}function dr(t,e,n,i){var o=e+n;if(i)for(;o>0&&Fo(t.text.charAt(o));)o+=n;return 0>o||o>t.text.length?null:o}var fr=navigator.userAgent,mr=navigator.platform,gr=/gecko\/\d/i.test(fr),vr=/MSIE \d/.test(fr),_r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fr),yr=vr||_r,br=yr&&(vr?document.documentMode||6:_r[1]),Mr=/WebKit\//.test(fr),xr=Mr&&/Qt\/\d+\.\d+/.test(fr),wr=/Chrome\//.test(fr),Er=/Opera\//.test(fr),Cr=/Apple Computer/.test(navigator.vendor),Lr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fr),Nr=/PhantomJS/.test(fr),Pr=/AppleWebKit/.test(fr)&&/Mobile\/\w+/.test(fr),Sr=Pr||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fr),Dr=Pr||/Mac/.test(mr),kr=/win/i.test(mr),Or=Er&&fr.match(/Version\/(\d*\.\d*)/);Or&&(Or=Number(Or[1])),Or&&Or>=15&&(Er=!1,Mr=!0);var Tr=Dr&&(xr||Er&&(null==Or||12.11>Or)),Ir=gr||yr&&br>=9,Ar=!1,Rr=!1;m.prototype=zo({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var o=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var r=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+r+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Dr&&!Lr?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ko,this.disableVert=new ko},enableZeroWidthBar:function(t,e){function n(){var i=t.getBoundingClientRect(),o=document.elementFromPoint(i.left+1,i.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},m.prototype),g.prototype=zo({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),t.scrollbarModel={"native":m,"null":g},C.prototype.signal=function(t,e){So(t,e)&&this.events.push(arguments)},C.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Os.apply(null,this.events[t])};var Ur=t.Pos=function(t,e){return this instanceof Ur?(this.line=t,void(this.ch=e)):new Ur(t,e)},zr=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},jr=null;nt.prototype=zo({init:function(t){function e(t){if(!No(i,t)){if(i.somethingSelected())jr=i.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,r.value=jr.join("\n"),Fs(r));else{if(!i.options.lineWiseCopyCut)return;var e=tt(i);jr=e.text,"cut"==t.type?i.setSelections(e.ranges,null,Rs):(n.prevInput="",r.value=e.text.join("\n"),Fs(r))}"cut"==t.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,o=this.wrapper=it(),r=this.textarea=o.firstChild;t.wrapper.insertBefore(o,t.wrapper.firstChild),Pr&&(r.style.width="0px"),Ss(r,"input",function(){yr&&br>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Ss(r,"paste",function(t){No(i,t)||Q(t,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Ss(r,"cut",e),Ss(r,"copy",e),Ss(t.scroller,"paste",function(e){He(t,e)||No(i,e)||(i.state.pasteIncoming=!0,n.focus())}),Ss(t.lineSpace,"selectstart",function(e){He(t,e)||Ls(e)}),Ss(r,"compositionstart",function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Ss(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,i=At(t);if(t.options.moveInputWithCursor){var o=de(t,n.sel.primary().head,"div"),r=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,o.top+s.top-r.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,o.left+s.left-r.left))}return i},showSelection:function(t){var e=this.cm,n=e.display;Ho(n.cursorDiv,t.cursors),Ho(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,i=this.cm,o=i.doc;if(i.somethingSelected()){this.prevInput="";var r=o.sel.primary();e=na&&(r.to().line-r.from().line>100||(n=i.getSelection()).length>1e3);var s=e?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&Fs(this.textarea),yr&&br>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",yr&&br>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Sr||qo()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var i=n.poll();i||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ea(e)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=e.value;if(i==n&&!t.somethingSelected())return!1;if(yr&&br>=9&&this.hasSelection===i||Dr&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var r=0,s=Math.min(n.length,i.length);s>r&&n.charCodeAt(r)==i.charCodeAt(r);)++r;var a=this;return Se(t,function(){X(t,i.slice(r),n.length-r,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?e.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),
a.composing.range=t.markText(a.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){yr&&br>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=s.selectionStart){var t=o.somethingSelected(),e=""+(t?s.value:"");s.value="",s.value=e,i.prevInput=t?"":"",s.selectionStart=1,s.selectionEnd=e.length,r.selForContextMenu=o.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.position="relative",s.style.cssText=u,yr&&9>br&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=s.selectionStart){(!yr||yr&&9>br)&&e();var t=0,n=function(){r.selForContextMenu==o.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&""==i.prevInput?De(o,hs.selectAll)(o):t++<10?r.detectingSelectAll=setTimeout(n,500):r.input.reset()};r.detectingSelectAll=setTimeout(n,200)}}var i=this,o=i.cm,r=o.display,s=i.textarea,a=qe(o,t),l=r.scroller.scrollTop;if(a&&!Er){var h=o.options.resetSelectionOnContextMenu;h&&-1==o.doc.sel.contains(a)&&De(o,Lt)(o.doc,dt(a),Rs);var u=s.style.cssText;if(i.wrapper.style.position="absolute",s.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(yr?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Mr)var c=window.scrollY;if(r.input.focus(),Mr&&window.scrollTo(null,c),r.input.reset(),o.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,r.selForContextMenu=o.doc.sel,clearTimeout(r.detectingSelectAll),yr&&br>=9&&e(),Ir){Ps(t);var p=function(){ks(window,"mouseup",p),setTimeout(n,20)};Ss(window,"mouseup",p)}else setTimeout(n,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Ro,needsContentAttribute:!1},nt.prototype),ot.prototype=zo({init:function(t){function e(t){if(!No(i,t)){if(i.somethingSelected())jr=i.getSelections(),"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=tt(i);jr=e.text,"cut"==t.type&&i.operation(function(){i.setSelections(e.ranges,0,Rs),i.replaceSelection("",null,"cut")})}if(t.clipboardData&&!Pr)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",jr.join("\n"));else{var n=it(),o=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),o.value=jr.join("\n");var r=document.activeElement;Fs(o),setTimeout(function(){i.display.lineSpace.removeChild(n),r.focus()},50)}}}var n=this,i=n.cm,o=n.div=t.lineDiv;et(o),Ss(o,"paste",function(t){No(i,t)||Q(t,i)}),Ss(o,"compositionstart",function(t){var e=t.data;if(n.composing={sel:i.doc.sel,data:e,startData:e},e){var o=i.doc.sel.primary(),r=i.getLine(o.head.line),s=r.indexOf(e,Math.max(0,o.head.ch-e.length));s>-1&&s<=o.head.ch&&(n.composing.sel=dt(Ur(o.head.line,s),Ur(o.head.line,s+e.length)))}}),Ss(o,"compositionupdate",function(t){n.composing.data=t.data}),Ss(o,"compositionend",function(t){var e=n.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||n.applyComposition(e),n.composing==e&&(n.composing=null)},50))}),Ss(o,"touchstart",function(){n.forceCompositionEnd()}),Ss(o,"input",function(){n.composing||(i.isReadOnly()||!n.pollContent())&&Se(n.cm,function(){Ae(i)})}),Ss(o,"copy",e),Ss(o,"cut",e)},prepareSelection:function(){var t=At(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t){t&&this.cm.display.view.length&&(t.focus&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=at(this.cm,t.anchorNode,t.anchorOffset),i=at(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!i||i.bad||0!=zr(J(n,i),e.from())||0!=zr(K(n,i),e.to())){var o=rt(this.cm,e.from()),r=rt(this.cm,e.to());if(o||r){var s=this.cm.display.view,a=t.rangeCount&&t.getRangeAt(0);if(o){if(!r){var l=s[s.length-1].measure,h=l.maps?l.maps[l.maps.length-1]:l.map;r={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}}else o={node:s[0].measure.map[2],offset:0};try{var u=Ws(o.node,o.offset,r.offset,r.node)}catch(c){}u&&(!gr&&this.cm.state.focused?(t.collapse(o.node,o.offset),u.collapsed||t.addRange(u)):(t.removeAllRanges(),t.addRange(u)),a&&null==t.anchorNode?t.addRange(a):gr&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Ho(this.cm.display.cursorDiv,t.cursors),Ho(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Zs(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Se(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=at(e,t.anchorNode,t.anchorOffset),i=at(e,t.focusNode,t.focusOffset);n&&i&&Se(e,function(){Lt(e.doc,dt(n,i),Rs),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,n=t.doc.sel.primary(),i=n.from(),o=n.to();if(i.line<e.viewFrom||o.line>e.viewTo-1)return!1;var r;if(i.line==e.viewFrom||0==(r=ze(t,i.line)))var s=eo(e.view[0].line),a=e.view[0].node;else var s=eo(e.view[r].line),a=e.view[r-1].node.nextSibling;var l=ze(t,o.line);if(l==e.view.length-1)var h=e.viewTo-1,u=e.lineDiv.lastChild;else var h=eo(e.view[l+1].line)-1,u=e.view[l+1].node.previousSibling;for(var c=t.doc.splitLines(ht(t,a,u,s,h)),p=Qi(t.doc,Ur(s,0),Ur(h,Xi(t.doc,h).text.length));c.length>1&&p.length>1;)if(To(c)==To(p))c.pop(),p.pop(),h--;else{if(c[0]!=p[0])break;c.shift(),p.shift(),s++}for(var d=0,f=0,m=c[0],g=p[0],v=Math.min(m.length,g.length);v>d&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var _=To(c),y=To(p),b=Math.min(_.length-(1==c.length?d:0),y.length-(1==p.length?d:0));b>f&&_.charCodeAt(_.length-f-1)==y.charCodeAt(y.length-f-1);)++f;c[c.length-1]=_.slice(0,_.length-f),c[0]=c[0].slice(d);var M=Ur(s,d),x=Ur(h,p.length?To(p).length-f:0);return c.length>1||c[0]||zr(M,x)?(On(t.doc,c,M,x,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?De(this.cm,Ae)(this.cm):t.data&&t.data!=t.startData&&De(this.cm,X)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||De(this.cm,X)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Ro,resetPosition:Ro,needsContentAttribute:!0},ot.prototype),t.inputStyles={textarea:nt,contenteditable:ot},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(0!=zr(n.anchor,i.anchor)||0!=zr(n.head,i.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new ct(Z(this.ranges[e].anchor),Z(this.ranges[e].head));return new ut(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(zr(e,i.from())>=0&&zr(t,i.to())<=0)return n}return-1}},ct.prototype={from:function(){return J(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Br,Vr,Fr,Wr={left:0,right:0,top:0,bottom:0},Gr=null,Hr=0,qr=0,Zr=0,Kr=null;yr?Kr=-.53:gr?Kr=15:wr?Kr=-.7:Cr&&(Kr=-1/3);var Jr=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};t.wheelEventPixels=function(t){var e=Jr(t);return e.x*=Kr,e.y*=Kr,e};var Yr=new ko,Xr=null,Qr=t.changeEnd=function(t){return t.text?Ur(t.from.line+t.text.length-1,To(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,i=n[t];(n[t]!=e||"mode"==t)&&(n[t]=e,ts.hasOwnProperty(t)&&De(this,ts[t])(this,e,i))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Zn(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:ke(function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,Ae(this)}),removeOverlay:ke(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void Ae(this)}}),indentLine:ke(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&Bn(this,t,e,n)}),indentSelection:ke(function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var o=e[i];if(o.empty())o.head.line>n&&(Bn(this,o.head.line,t,!0),n=o.head.line,i==this.doc.sel.primIndex&&zn(this));else{var r=o.from(),s=o.to(),a=Math.max(n,r.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;n>l;++l)Bn(this,l,t);var h=this.doc.sel.ranges;0==r.ch&&e.length==h.length&&h[i].from().ch>0&&xt(this.doc,i,new ct(r,h[i].to()),Rs)}}}),getTokenAt:function(t,e){return Oi(this,t,e)},getLineTokens:function(t,e){return Oi(this,Ur(t),e,!0)},getTokenTypeAt:function(t){t=mt(this.doc,t);var e,n=Ai(this,Xi(this.doc,t.line)),i=0,o=(n.length-1)/2,r=t.ch;if(0==r)e=n[2];else for(;;){var s=i+o>>1;if((s?n[2*s-1]:0)>=r)o=s;else{if(!(n[2*s+1]<r)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("cm-overlay "):-1;return 0>a?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!ss.hasOwnProperty(e))return n;var i=ss[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&n.push(i[o[e]]);else if(o[e])for(var r=0;r<o[e].length;r++){var s=i[o[e][r]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var r=0;r<i._global.length;r++){var a=i._global[r];a.pred(o,this)&&-1==Io(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=ft(n,null==t?n.first+n.size-1:t),Ft(this,t+1,e)},cursorCoords:function(t,e){var n,i=this.doc.sel.primary();return n=null==t?i.head:"object"==typeof t?mt(this.doc,t):t?i.from():i.to(),de(this,n,e||"page")},charCoords:function(t,e){return pe(this,mt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=ce(this,t,e||"page"),ge(this,t.left,t.top)},lineAtHeight:function(t,e){return t=ce(this,{top:t,left:0},e||"page").top,no(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),n=Xi(this.doc,t)}else n=t;return ue(this,n,{top:0,left:0},e||"page").top+(i?this.doc.height-io(n):0)},defaultTextHeight:function(){return _e(this.display)},defaultCharWidth:function(){return ye(this.display)},setGutterMarker:ke(function(t,e,n){return Vn(this.doc,t,"gutter",function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&Vo(i)&&(t.gutterMarkers=null),!0})}),clearGutter:ke(function(t){var e=this,n=e.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,Re(e,i,"gutter"),Vo(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(t=Xi(this.doc,t),!t)return null}else{var e=eo(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,o){var r=this.display;t=de(this,mt(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),r.sizer.appendChild(e),"over"==i)s=t.top;else if("above"==i||"near"==i){var l=Math.max(r.wrapper.clientHeight,this.doc.height),h=Math.max(r.sizer.clientWidth,r.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>h&&(a=h-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==o?(a=r.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==o?a=0:"middle"==o&&(a=(r.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&An(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:ke(pn),triggerOnKeyPress:ke(mn),triggerOnKeyUp:fn,execCommand:function(t){return hs.hasOwnProperty(t)?hs[t].call(null,this):void 0},triggerElectric:ke(function(t){$(this,t)}),findPosH:function(t,e,n,i){var o=1;0>e&&(o=-1,e=-e);for(var r=0,s=mt(this.doc,t);e>r&&(s=Wn(this.doc,s,o,n,i),!s.hitSide);++r);return s},moveH:ke(function(t,e){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Wn(n.doc,i.head,t,e,n.options.rtlMoveVisually):0>t?i.from():i.to()},zs)}),deleteH:ke(function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Fn(this,function(n){var o=Wn(i,n.head,t,e,!1);return 0>t?{from:o,to:n.head}:{from:n.head,to:o}})}),findPosV:function(t,e,n,i){var o=1,r=i;0>e&&(o=-1,e=-e);for(var s=0,a=mt(this.doc,t);e>s;++s){var l=de(this,a,"div");if(null==r?r=l.left:l.left=r,a=Gn(this,l,o,n),a.hitSide)break}return a},moveV:ke(function(t,e){var n=this,i=this.doc,o=[],r=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(r)return 0>t?s.from():s.to();var a=de(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),o.push(a.left);var l=Gn(n,a,t,e);return"page"==e&&s==i.sel.primary()&&Un(n,null,pe(n,l,"div").top-a.top),l},zs),o.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=o[s]}),findWordAt:function(t){var e=this.doc,n=Xi(e,t.line).text,i=t.ch,o=t.ch;if(n){var r=this.getHelper(t,"wordChars");(t.xRel<0||o==n.length)&&i?--i:++o;for(var s=n.charAt(i),a=Bo(s,r)?function(t){return Bo(t,r)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Bo(t)};i>0&&a(n.charAt(i-1));)--i;for(;o<n.length&&a(n.charAt(o));)++o}return new ct(Ur(t.line,i),Ur(t.line,o))},toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Xs(this.display.cursorDiv,"CodeMirror-overwrite"):Ys(this.display.cursorDiv,"CodeMirror-overwrite"),Os(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==qo()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ke(function(t,e){(null!=t||null!=e)&&jn(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-qt(this)-this.display.barHeight,width:t.scrollWidth-qt(this)-this.display.barWidth,clientHeight:Kt(this),clientWidth:Zt(this)}},scrollIntoView:ke(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ur(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)jn(this),this.curOp.scrollToPos=t;else{var n=Rn(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:ke(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var i=this;null!=t&&(i.display.wrapper.style.width=n(t)),null!=e&&(i.display.wrapper.style.height=n(e)),i.options.lineWrapping&&se(this);var o=i.display.viewFrom;i.doc.iter(o,i.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Re(i,o,"widget");break}++o}),i.curOp.forceUpdate=!0,Os(i,"refresh",this)}),operation:function(t){return Se(this,t)},refresh:ke(function(){var t=this.display.cachedTextHeight;Ae(this),this.curOp.forceUpdate=!0,ae(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==t||Math.abs(t-_e(this.display))>.5)&&s(this),Os(this,"refresh",this)}),swapDoc:ke(function(t){var e=this.doc;return e.cm=null,Yi(this,t),ae(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Co(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Do(t);var $r=t.defaults={},ts=t.optionHandlers={},es=t.Init={toString:function(){return"CodeMirror.Init"}};Hn("value","",function(t,e){t.setValue(e)},!0),Hn("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Hn("indentUnit",2,n,!0),Hn("indentWithTabs",!1),Hn("smartIndent",!0),Hn("tabSize",4,function(t){i(t),ae(t),Ae(t)},!0),Hn("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],i=t.doc.first;t.doc.iter(function(t){for(var o=0;;){var r=t.text.indexOf(e,o);if(-1==r)break;o=r+e.length,n.push(Ur(i,r))}i++});for(var o=n.length-1;o>=0;o--)On(t.doc,e,n[o],Ur(n[o].line,n[o].ch+e.length))}}),Hn("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,n,i){e.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),i!=t.Init&&e.refresh()}),Hn("specialCharPlaceholder",ji,function(t){t.refresh()},!0),Hn("electricChars",!0),Hn("inputStyle",Sr?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Hn("rtlMoveVisually",!kr),Hn("wholeLineUpdateBefore",!0),Hn("theme","default",function(t){a(t),l(t)},!0),Hn("keyMap","default",function(e,n,i){var o=Zn(n),r=i!=t.Init&&Zn(i);r&&r.detach&&r.detach(e,o),o.attach&&o.attach(e,r||null)}),Hn("extraKeys",null),Hn("lineWrapping",!1,o,!0),Hn("gutters",[],function(t){d(t.options),l(t)},!0),Hn("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?E(t.display)+"px":"0",t.refresh()},!0),Hn("coverGutterNextToScrollbar",!1,function(t){_(t)},!0),Hn("scrollbarStyle","native",function(t){v(t),_(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Hn("lineNumbers",!1,function(t){d(t.options),l(t)},!0),Hn("firstLineNumber",1,l,!0),Hn("lineNumberFormatter",function(t){return t},l,!0),Hn("showCursorWhenSelecting",!1,It,!0),Hn("resetSelectionOnContextMenu",!0),Hn("lineWiseCopyCut",!0),Hn("readOnly",!1,function(t,e){"nocursor"==e?(_n(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),Hn("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Hn("dragDrop",!0,We),Hn("allowDropFileTypes",null),Hn("cursorBlinkRate",530),Hn("cursorScrollMargin",0),Hn("cursorHeight",1,It,!0),Hn("singleCursorHeightPerLine",!0,It,!0),Hn("workTime",100),Hn("workDelay",100),Hn("flattenSpans",!0,i,!0),Hn("addModeClass",!1,i,!0),Hn("pollInterval",100),Hn("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Hn("historyEventDelay",1250),Hn("viewportMargin",10,function(t){t.refresh()},!0),Hn("maxHighlightLength",1e4,i,!0),Hn("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Hn("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Hn("autofocus",null);var ns=t.modes={},is=t.mimeModes={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),ns[e]=n},t.defineMIME=function(t,e){is[t]=e},t.resolveMode=function(e){if("string"==typeof e&&is.hasOwnProperty(e))e=is[e];else if(e&&"string"==typeof e.name&&is.hasOwnProperty(e.name)){var n=is[e.name];"string"==typeof n&&(n={name:n}),e=Uo(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),i=ns[n.name];if(!i)return t.getMode(e,"text/plain");var o=i(e,n);if(os.hasOwnProperty(n.name)){var r=os[n.name];for(var s in r)r.hasOwnProperty(s)&&(o.hasOwnProperty(s)&&(o["_"+s]=o[s]),o[s]=r[s])}if(o.name=n.name,n.helperType&&(o.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)o[s]=n.modeProps[s];return o},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var os=t.modeExtensions={};t.extendMode=function(t,e){var n=os.hasOwnProperty(t)?os[t]:os[t]={};zo(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){ws.prototype[t]=e},t.defineOption=Hn;var rs=[];t.defineInitHook=function(t){rs.push(t)};var ss=t.helpers={};t.registerHelper=function(e,n,i){ss.hasOwnProperty(e)||(ss[e]=t[e]={_global:[]}),ss[e][n]=i},t.registerGlobalHelper=function(e,n,i,o){t.registerHelper(e,n,o),ss[e]._global.push({pred:i,val:o})};var as=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var o=e[i];o instanceof Array&&(o=o.concat([])),n[i]=o}return n},ls=t.startState=function(t,e,n){return t.startState?t.startState(e,n):!0};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var hs=t.commands={selectAll:function(t){t.setSelection(Ur(t.firstLine(),0),Ur(t.lastLine()),Rs)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Rs)},killLine:function(t){Fn(t,function(e){if(e.empty()){var n=Xi(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:Ur(e.head.line+1,0)}:{from:e.head,to:Ur(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){Fn(t,function(e){return{from:Ur(e.from().line,0),to:mt(t.doc,Ur(e.to().line+1,0))}})},delLineLeft:function(t){Fn(t,function(t){return{from:Ur(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){Fn(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return{from:i,to:e.from()}})},delWrappedLineRight:function(t){Fn(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ur(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ur(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return sr(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return lr(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return ar(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},zs)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},zs)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\S/)?lr(t,e.head):i},zs)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,o=0;o<n.length;o++){var r=n[o].from(),s=js(t.getLine(r.line),r.ch,i);e.push(new Array(i-s%i+1).join(" "))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Se(t,function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var o=e[i].head,r=Xi(t.doc,o.line).text;if(r)if(o.ch==r.length&&(o=new Ur(o.line,o.ch-1)),o.ch>0)o=new Ur(o.line,o.ch+1),t.replaceRange(r.charAt(o.ch-1)+r.charAt(o.ch-2),Ur(o.line,o.ch-2),o,"+transpose");else if(o.line>t.doc.first){var s=Xi(t.doc,o.line-1).text;s&&t.replaceRange(r.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),Ur(o.line-1,s.length-1),Ur(o.line,1),"+transpose")}n.push(new ct(o,o))}t.setSelections(n)})},newlineAndIndent:function(t){Se(t,function(){for(var e=t.listSelections().length,n=0;e>n;n++){var i=t.listSelections()[n];t.replaceRange(t.doc.lineSeparator(),i.anchor,i.head,"+input"),t.indentLine(i.from().line+1,null,!0)}zn(t)})},toggleOverwrite:function(t){t.toggleOverwrite()}},us=t.keyMap={};us.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},us.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},us.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},us.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},us["default"]=Dr?us.macDefault:us.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var o=Ao(n.split(" "),qn),r=0;r<o.length;r++){var s,a;r==o.length-1?(a=o.join(" "),s=i):(a=o.slice(0,r+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var h in e)t[h]=e[h];return t};var cs=t.lookupKey=function(t,e,n,i){e=Zn(e);var o=e.call?e.call(t,i):e[t];if(o===!1)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return cs(t,e.fallthrough,n,i);for(var r=0;r<e.fallthrough.length;r++){var s=cs(t,e.fallthrough[r],n,i);if(s)return s}}},ps=t.isModifierKey=function(t){var e="string"==typeof t?t:oa[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},ds=t.keyName=function(t,e){if(Er&&34==t.keyCode&&t["char"])return!1;var n=oa[t.keyCode],i=n;return null==i||t.altGraphKey?!1:(t.altKey&&"Alt"!=n&&(i="Alt-"+i),(Tr?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Tr?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!e&&t.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};t.fromTextArea=function(e,n){function i(){e.value=h.getValue()}if(n=n?zo(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var o=qo();n.autofocus=o==e||null!=e.getAttribute("autofocus")&&o==document.body}if(e.form&&(Ss(e.form,"submit",i),!n.leaveSubmitMethodAlone)){var r=e.form,s=r.submit;try{var a=r.submit=function(){i(),r.submit=s,r.submit(),r.submit=a}}catch(l){}}n.finishInit=function(t){t.save=i,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,i(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(ks(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=s))}},e.style.display="none";var h=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return h};var fs=t.StringStream=function(t,e){this.pos=this.start=0,
this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};fs.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=js(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?js(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return js(this.string,null,this.tabSize)-(this.lineStart?js(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&e!==!1&&(this.pos+=i[0].length),i)}var o=function(t){return n?t.toLowerCase():t},r=this.string.substr(this.pos,t.length);return o(r)==o(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var ms=0,gs=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ms};Do(gs),gs.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&be(t),So(this,"clear")){var n=this.find();n&&Co(this,"clear",n.from,n.to)}for(var i=null,o=null,r=0;r<this.lines.length;++r){var s=this.lines[r],a=ti(s.markedSpans,this);t&&!this.collapsed?Re(t,eo(s),"text"):t&&(null!=a.to&&(o=eo(s)),null!=a.from&&(i=eo(s))),s.markedSpans=ei(s.markedSpans,a),null==a.from&&this.collapsed&&!xi(this.doc,s)&&t&&to(s,_e(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var r=0;r<this.lines.length;++r){var l=_i(this.lines[r]),h=c(l);h>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=h,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&Ae(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&St(t.doc)),t&&Co(t,"markerCleared",t,this),e&&xe(t),this.parent&&this.parent.clear()}},gs.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,i,o=0;o<this.lines.length;++o){var r=this.lines[o],s=ti(r.markedSpans,this);if(null!=s.from&&(n=Ur(e?r:eo(r),s.from),-1==t))return n;if(null!=s.to&&(i=Ur(e?r:eo(r),s.to),1==t))return i}return n&&{from:n,to:i}},gs.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&Se(n,function(){var i=t.line,o=eo(t.line),r=$t(n,o);if(r&&(re(r),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!xi(e.doc,i)&&null!=e.height){var s=e.height;e.height=null;var a=Ci(e)-s;a&&to(i,i.height+a)}})},gs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Io(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},gs.prototype.detachLine=function(t){if(this.lines.splice(Io(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var ms=0,vs=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Do(vs),vs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Co(this,"clear")}},vs.prototype.find=function(t,e){return this.primary.find(t,e)};var _s=t.LineWidget=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};Do(_s),_s.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=eo(n);if(null!=i&&e){for(var o=0;o<e.length;++o)e[o]==this&&e.splice(o--,1);e.length||(n.widgets=null);var r=Ci(this);to(n,Math.max(0,n.height-r)),t&&Se(t,function(){Ei(t,n,-r),Re(t,i,"widget")})}},_s.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var i=Ci(this)-t;i&&(to(n,n.height+i),e&&Se(e,function(){e.curOp.forceUpdate=!0,Ei(e,n,i)}))};var ys=t.Line=function(t,e,n){this.text=t,ui(this,e),this.height=n?n(this):1};Do(ys),ys.prototype.lineNo=function(){return eo(this)};var bs={},Ms={};Zi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;i>n;++n){var o=this.lines[n];this.height-=o.height,Pi(o),Co(o,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;i>t;++t)if(n(this.lines[t]))return!0}},Ki.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(o>t){var r=Math.min(e,o-t),s=i.height;if(i.removeInner(t,r),this.height-=s-i.height,o==r&&(this.children.splice(n--,1),i.parent=null),0==(e-=r))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Zi))){var a=[];this.collapse(a),this.children=[new Zi(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=this.children[i],r=o.chunkSize();if(r>=t){if(o.insertInner(t,e,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var s=o.lines.splice(o.lines.length-25,25),a=new Zi(s);o.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}t-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Ki(e);if(t.parent){t.size-=n.size,t.height-=n.height;var i=Io(t.parent.children,t);t.parent.children.splice(i+1,0,n)}else{var o=new Ki(t.children);o.parent=t,t.children=[o,n],t=o}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var o=this.children[i],r=o.chunkSize();if(r>t){var s=Math.min(e,r-t);if(o.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=r}}};var xs=0,ws=t.Doc=function(t,e,n,i){if(!(this instanceof ws))return new ws(t,e,n,i);null==n&&(n=0),Ki.call(this,[new Zi([new ys("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var o=Ur(n,0);this.sel=dt(o),this.history=new ro(null),this.id=++xs,this.modeOption=e,this.lineSep=i,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),qi(this,{from:o,to:o,text:t}),Lt(this,dt(o),Rs)};ws.prototype=Uo(Ki.prototype,{constructor:ws,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=$i(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Oe(function(t){var e=Ur(this.first,0),n=this.first+this.size-1;Ln(this,{from:e,to:Ur(n,Xi(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Lt(this,dt(e))}),replaceRange:function(t,e,n,i){e=mt(this,e),n=n?mt(this,n):e,On(this,t,e,n,i)},getRange:function(t,e,n){var i=Qi(this,mt(this,t),mt(this,e));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return vt(this,t)?Xi(this,t):void 0},getLineNumber:function(t){return eo(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Xi(this,t)),_i(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return mt(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Oe(function(t,e,n){wt(this,mt(this,"number"==typeof t?Ur(t,e||0):t),null,n)}),setSelection:Oe(function(t,e,n){wt(this,mt(this,t),mt(this,e||t),n)}),extendSelection:Oe(function(t,e,n){bt(this,mt(this,t),e&&mt(this,e),n)}),extendSelections:Oe(function(t,e){Mt(this,_t(this,t),e)}),extendSelectionsBy:Oe(function(t,e){var n=Ao(this.sel.ranges,t);Mt(this,_t(this,n),e)}),setSelections:Oe(function(t,e,n){if(t.length){for(var i=0,o=[];i<t.length;i++)o[i]=new ct(mt(this,t[i].anchor),mt(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Lt(this,pt(o,e),n)}}),addSelection:Oe(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new ct(mt(this,t),mt(this,e||t))),Lt(this,pt(i,i.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var o=Qi(this,n[i].from(),n[i].to());e=e?e.concat(o):o}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var o=Qi(this,n[i].from(),n[i].to());t!==!1&&(o=o.join(t||this.lineSeparator())),e[i]=o}return e},replaceSelection:function(t,e,n){for(var i=[],o=0;o<this.sel.ranges.length;o++)i[o]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Oe(function(t,e,n){for(var i=[],o=this.sel,r=0;r<o.ranges.length;r++){var s=o.ranges[r];i[r]={from:s.from(),to:s.to(),text:this.splitLines(t[r]),origin:n}}for(var a=e&&"end"!=e&&En(this,i,e),r=i.length-1;r>=0;r--)Ln(this,i[r]);a?Ct(this,a):this.cm&&zn(this.cm)}),undo:Oe(function(){Pn(this,"undo")}),redo:Oe(function(){Pn(this,"redo")}),undoSelection:Oe(function(){Pn(this,"undo",!0)}),redoSelection:Oe(function(){Pn(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new ro(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:vo(this.history.done),undone:vo(this.history.undone)}},setHistory:function(t){var e=this.history=new ro(this.history.maxGeneration);e.done=vo(t.done.slice(0),null,!0),e.undone=vo(t.undone.slice(0),null,!0)},addLineClass:Oe(function(t,e,n){return Vn(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(Zo(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:Oe(function(t,e,n){return Vn(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==n)t[i]=null;else{var r=o.match(Zo(n));if(!r)return!1;var s=r.index+r[0].length;t[i]=o.slice(0,r.index)+(r.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:Oe(function(t,e,n){return Li(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Kn(this,mt(this,t),mt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=mt(this,t),Kn(this,t,t,n,"bookmark")},findMarksAt:function(t){t=mt(this,t);var e=[],n=Xi(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];(null==o.from||o.from<=t.ch)&&(null==o.to||o.to>=t.ch)&&e.push(o.marker.parent||o.marker)}return e},findMarks:function(t,e,n){t=mt(this,t),e=mt(this,e);var i=[],o=t.line;return this.iter(t.line,e.line+1,function(r){var s=r.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];o==t.line&&t.ch>l.to||null==l.from&&o!=t.line||o==e.line&&l.from>e.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++o}),i},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first;return this.iter(function(i){var o=i.text.length+1;return o>t?(e=t,!0):(t-=o,void++n)}),mt(this,Ur(n,e))},indexFromPos:function(t){t=mt(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new ws($i(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new ws($i(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Xn(i,Yn(this)),i},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Qn(Yn(this));break}}if(e.history==this.history){var o=[e.id];Ji(e,function(t){o.push(t.id)},!0),e.history=new ro(null),e.history.done=vo(this.history.done,o),e.history.undone=vo(this.history.undone,o)}},iterLinkedDocs:function(t){Ji(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ta(t)},lineSeparator:function(){return this.lineSep||"\n"}}),ws.prototype.eachLine=ws.prototype.iter;var Es="iter insert remove copy getEditor constructor".split(" ");for(var Cs in ws.prototype)ws.prototype.hasOwnProperty(Cs)&&Io(Es,Cs)<0&&(t.prototype[Cs]=function(t){return function(){return t.apply(this.doc,arguments)}}(ws.prototype[Cs]));Do(ws);var Ls=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Ns=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Ps=t.e_stop=function(t){Ls(t),Ns(t)},Ss=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={}),o=i[e]||(i[e]=[]);o.push(n)}},Ds=[],ks=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var i=Eo(t,e,!1),o=0;o<i.length;++o)if(i[o]==n){i.splice(o,1);break}},Os=t.signal=function(t,e){var n=Eo(t,e,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,i)},Ts=null,Is=30,As=t.Pass={toString:function(){return"CodeMirror.Pass"}},Rs={scroll:!1},Us={origin:"*mouse"},zs={origin:"+move"};ko.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var js=t.countColumn=function(t,e,n,i,o){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var r=i||0,s=o||0;;){var a=t.indexOf("	",r);if(0>a||a>=e)return s+(e-r);s+=a-r,s+=n-s%n,r=a+1}},Bs=t.findColumn=function(t,e,n){for(var i=0,o=0;;){var r=t.indexOf("	",i);-1==r&&(r=t.length);var s=r-i;if(r==t.length||o+s>=e)return i+Math.min(s,e-o);if(o+=r-i,o+=n-o%n,i=r+1,o>=e)return i}},Vs=[""],Fs=function(t){t.select()};Pr?Fs=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:yr&&(Fs=function(t){try{t.select()}catch(e){}});var Ws,Gs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Hs=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Gs.test(t))},qs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ws=document.createRange?function(t,e,n,i){var o=document.createRange();return o.setEnd(i||t,n),o.setStart(t,e),o}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(o){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var Zs=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};yr&&11>br&&(qo=function(){try{return document.activeElement}catch(t){return document.body}});var Ks,Js,Ys=t.rmClass=function(t,e){var n=t.className,i=Zo(e).exec(n);if(i){var o=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(o?i[1]+o:"")}},Xs=t.addClass=function(t,e){var n=t.className;Zo(e).test(n)||(t.className+=(n?" ":"")+e)},Qs=!1,$s=function(){if(yr&&9>br)return!1;var t=Wo("div");return"draggable"in t||"dragDrop"in t}(),ta=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;i>=e;){var o=t.indexOf("\n",e);-1==o&&(o=t.length);var r=t.slice(e,"\r"==t.charAt(o-1)?o-1:o),s=r.indexOf("\r");-1!=s?(n.push(r.slice(0,s)),e+=s+1):(n.push(r),e=o+1)}return n}:function(t){return t.split(/\r\n?|\n/)},ea=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},na=function(){var t=Wo("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),ia=null,oa=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;10>t;t++)oa[t+48]=oa[t+96]=String(t);for(var t=65;90>=t;t++)oa[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)oa[t+111]=oa[t+63235]="F"+t}();var ra,sa=function(){function t(t){return 247>=t?n.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?i.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,h="L";return function(n){if(!o.test(n))return!1;for(var i,u=n.length,c=[],p=0;u>p;++p)c.push(i=t(n.charCodeAt(p)));for(var p=0,d=h;u>p;++p){var i=c[p];"m"==i?c[p]=d:d=i}for(var p=0,f=h;u>p;++p){var i=c[p];"1"==i&&"r"==f?c[p]="n":s.test(i)&&(f=i,"r"==i&&(c[p]="R"))}for(var p=1,d=c[0];u-1>p;++p){var i=c[p];"+"==i&&"1"==d&&"1"==c[p+1]?c[p]="1":","!=i||d!=c[p+1]||"1"!=d&&"n"!=d||(c[p]=d),d=i}for(var p=0;u>p;++p){var i=c[p];if(","==i)c[p]="N";else if("%"==i){for(var m=p+1;u>m&&"%"==c[m];++m);for(var g=p&&"!"==c[p-1]||u>m&&"1"==c[m]?"1":"N",v=p;m>v;++v)c[v]=g;p=m-1}}for(var p=0,f=h;u>p;++p){var i=c[p];"L"==f&&"1"==i?c[p]="L":s.test(i)&&(f=i)}for(var p=0;u>p;++p)if(r.test(c[p])){for(var m=p+1;u>m&&r.test(c[m]);++m);for(var _="L"==(p?c[p-1]:h),y="L"==(u>m?c[m]:h),g=_||y?"L":"R",v=p;m>v;++v)c[v]=g;p=m-1}for(var b,M=[],p=0;u>p;)if(a.test(c[p])){var x=p;for(++p;u>p&&a.test(c[p]);++p);M.push(new e(0,x,p))}else{var w=p,E=M.length;for(++p;u>p&&"L"!=c[p];++p);for(var v=w;p>v;)if(l.test(c[v])){v>w&&M.splice(E,0,new e(1,w,v));var C=v;for(++v;p>v&&l.test(c[v]);++v);M.splice(E,0,new e(2,C,v)),w=v}else++v;p>w&&M.splice(E,0,new e(1,w,p))}return 1==M[0].level&&(b=n.match(/^\s+/))&&(M[0].from=b[0].length,M.unshift(new e(0,0,b[0].length))),1==To(M).level&&(b=n.match(/\s+$/))&&(To(M).to-=b[0].length,M.push(new e(0,u-b[0].length,u))),2==M[0].level&&M.unshift(new e(1,M[0].to,M[0].to)),M[0].level!=To(M).level&&M.push(new e(M[0].level,u,u)),M}}();return t.version="5.11.0",t})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"body,html{height:100%;padding:0;margin:0}#app,.map{position:absolute;top:0;bottom:0;width:100%;padding:0;margin:0}.map-panel{width:300px;z-index:1005;margin:0}#editErrors{position:absolute;bottom:0;left:0;right:0;height:80px}.error{color:#d50000}.error-message{background:#ffcdd2;padding:8px}#menu-panel{width:500px;max-width:500px;top:15px;left:15px;position:fixed;margin:0;bottom:15px}#menu-panel .brand-logo{margin-left:10px}#menu-panel .panel-container{position:absolute;top:64px;bottom:0;left:0;right:0;padding:20px}#menu-panel #tabContent{position:absolute;top:66px;bottom:20px;left:20px;right:20px}#menu-panel .tab-item{position:absolute;top:0;bottom:0;left:0;right:0}#menu-panel #jsonContainer{position:absolute;top:0;bottom:40px;left:0;right:0;overflow-y:hidden}#menu-panel #featureListContainer{position:absolute;top:15px;bottom:40px;left:0;right:0;overflow-y:auto}#menu-panel .editor-container{position:absolute;top:0;bottom:5px;left:0;right:0;overflow-y:hidden;border-bottom:1px solid #448aff!important;box-shadow:0 1px 0 0 #448aff!important}#menu-panel .with-error{bottom:85px}#menu-panel .switch{height:40px;position:absolute;left:0;right:0;bottom:0;padding-top:10px}#menu-panel .switch i{margin-left:3px}.pinned{height:64px}.hideme{display:none}.switch label input[type=checkbox]:checked+.lever,.switch label input[type=checkbox]:checked+.lever:after,.tabs .indicator{background-color:#448aff}.collection{margin:0!important}.collection-item{height:auto!important}.CodeMirror{overflow-y:hidden;height:100%}.CodeMirror-gutter{background-color:#fff}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function r(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,a,l,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),h=n.slice(),o=h.length,l=0;o>l;l++)h[l].apply(this,a);return!0},n.prototype.addListener=function(t,e){var o;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(function(e){"use strict";var n=function(t,n,i,o,r,s,a,l){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var h;if(void 0===n)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,o,r,s,a,l],c=0;h=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return u[c++]}))}throw h.framesToPop=1,h}};t.exports=n}).call(e,n(1))},function(t,e,n){t.exports.Dispatcher=n(114)},function(t,e,n){(function(i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=n(112),s="ID_",a=function(){function t(){o(this,t),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return t.prototype.register=function(t){var e=s+this._lastID++;return this._callbacks[e]=t,e},t.prototype.unregister=function(t){this._callbacks[t]?void 0:"production"!==i.env.NODE_ENV?r(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t):r(!1),delete this._callbacks[t]},t.prototype.waitFor=function(t){this._isDispatching?void 0:"production"!==i.env.NODE_ENV?r(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):r(!1);for(var e=0;e<t.length;e++){var n=t[e];this._isPending[n]?this._isHandled[n]?void 0:"production"!==i.env.NODE_ENV?r(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):r(!1):(this._callbacks[n]?void 0:"production"!==i.env.NODE_ENV?r(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n):r(!1),this._invokeCallback(n))}},t.prototype.dispatch=function(t){this._isDispatching?"production"!==i.env.NODE_ENV?r(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):r(!1):void 0,this._startDispatching(t);try{for(var e in this._callbacks)this._isPending[e]||this._invokeCallback(e)}finally{this._stopDispatching()}},t.prototype.isDispatching=function(){return this._isDispatching},t.prototype._invokeCallback=function(t){this._isPending[t]=!0,this._callbacks[t](this._pendingPayload),this._isHandled[t]=!0},t.prototype._startDispatching=function(t){for(var e in this._callbacks)this._isPending[e]=!1,this._isHandled[e]=!1;this._pendingPayload=t,this._isDispatching=!0},t.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},t}();t.exports=a}).call(e,n(1))},function(t,e,n){var i,o,r;!function(s,a){o=[n(125)],i=a,r="function"==typeof i?i.apply(e,o):i,!(void 0!==r&&(t.exports=r))}(this,function(t){function e(t){if(null===t||"object"!=typeof t)return t;var n=t.constructor();for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e(t[i]));return n}function n(t){return t&&t.length>=2&&"number"==typeof t[0]&&"number"==typeof t[1]}function i(t,e){return n(t)?e(t):t.map(function(t){return i(t,e)})}function o(t,n){var i=e(t);return i.crs&&delete i.crs,"Feature"===t.type?i.geometry=o(t.geometry,n):"FeatureCollection"===t.type?i.features=i.features.map(function(t){return o(t,n);
}):n&&n(i),i}function r(e,n,r,s){var a=t(n,r);return o(e,function(t){t.coordinates=i(t.coordinates,function(t){return a.forward(t).map(function(t){return 1*t.toFixed(s)})})})}var s=t("+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy+towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894 +units=m +no_defs no_defs");return{toOSGB36:function(e){return r(e,t.WGS84,s,2)},toWGS84:function(e){return r(e,s,t.WGS84,6)}}})},function(t,e,n){function i(t,e){var n,i=[];if("object"==typeof t)n=t;else{if("string"!=typeof t)return[{message:"Expected string or object as input",line:0}];try{n=o.parse(t)}catch(s){var a=s.message.match(/line (\d+)/),l=0;return a&&(l=parseInt(a[1],10)),[{line:l-1,message:s.message,error:s}]}}return i=i.concat(r.hint(n,e))}var o=n(118),r=n(117);t.exports.hint=i},function(t,e){function n(t,e){function n(t){e&&e.noDuplicateMembers===!1||!t.__duplicateProperties__||_.push({message:"An object contained duplicate members, making parsing ambigous: "+t.__duplicateProperties__.join(", "),line:t.__line__}),t.type?y[t.type]?t&&y[t.type](t):_.push({message:"The type "+t.type+" is unknown",line:t.__line__}):_.push({message:"The type property is required and was not found",line:t.__line__})}function i(t,e){return t.every(function(t){return null!==t&&typeof t===e})}function o(t,e,n){if("undefined"==typeof t[e])return _.push({message:'"'+e+'" property required',line:t.__line__});if("array"===n){if(!Array.isArray(t[e]))return _.push({message:'"'+e+'" property should be an array, but is an '+typeof t[e]+" instead",line:t.__line__})}else if(n&&typeof t[e]!==n)return _.push({message:'"'+e+'" property should be '+n+", but is an "+typeof t[e]+" instead",line:t.__line__})}function r(t){if(l(t),h(t),!o(t,"features","array")){if(!i(t.features,"object"))return _.push({message:"Every feature must be an object",line:t.__line__});t.features.forEach(v)}}function s(t,e){return Array.isArray(t)?t.length<2?_.push({message:"position must have 2 or more elements",line:t.__line__||e}):i(t,"number")?void 0:_.push({message:"each element in a position must be a number",line:t.__line__||e}):_.push({message:"position should be an array, is a "+typeof t+" instead",line:t.__line__||e})}function a(t,e,n,i){if(void 0===i&&void 0!==t.__line__&&(i=t.__line__),0===n)return s(t,i);if(1===n&&e)if("LinearRing"===e){if(!Array.isArray(t[t.length-1]))return _.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:i});t.length<4&&_.push({message:"a LinearRing of coordinates needs to have four or more positions",line:i}),!t.length||t[t.length-1].length===t[0].length&&t[t.length-1].every(function(e,n){return t[0][n]===e})||_.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:i})}else"Line"===e&&t.length<2&&_.push({message:"a line needs to have two or more coordinates to be valid",line:i});t.forEach(function(t){a(t,e,n-1,t.__line__||i)})}function l(t){if(t.crs)if("object"==typeof t.crs){var e=o(t.crs,"type","string"),n=o(t.crs,"properties","object");e||n||("name"===t.crs.type?o(t.crs.properties,"name","string"):"link"===t.crs.type&&o(t.crs.properties,"href","string"))}else _.push({message:"the value of the crs property must be an object, not a "+typeof t.crs,line:t.__line__})}function h(t){if(t.bbox)if(Array.isArray(t.bbox)){if(!i(t.bbox,"number"))return _.push({message:"each element in a bbox property must be a number",line:t.bbox.__line__})}else _.push({message:"bbox property must be an array of numbers, but is a "+typeof t.bbox,line:t.__line__})}function u(t){l(t),h(t),o(t,"coordinates","array")||s(t.coordinates)}function c(t){l(t),h(t),o(t,"coordinates","array")||a(t.coordinates,"LinearRing",2)}function p(t){l(t),h(t),o(t,"coordinates","array")||a(t.coordinates,"LinearRing",3)}function d(t){l(t),h(t),o(t,"coordinates","array")||a(t.coordinates,"Line",1)}function f(t){l(t),h(t),o(t,"coordinates","array")||a(t.coordinates,"Line",2)}function m(t){l(t),h(t),o(t,"coordinates","array")||a(t.coordinates,"",1)}function g(t){l(t),h(t),o(t,"geometries","array")||t.geometries.forEach(function(t){t&&n(t)})}function v(t){l(t),h(t),void 0!==t.id&&"string"!=typeof t.id&&"number"!=typeof t.id&&_.push({message:'Feature "id" property must have a string or number value',line:t.__line__}),"Feature"!==t.type&&_.push({message:"GeoJSON features must have a type=feature property",line:t.__line__}),o(t,"properties","object"),o(t,"geometry","object")||t.geometry&&n(t.geometry)}var _=[],y={Point:u,Feature:v,MultiPoint:m,LineString:d,MultiLineString:f,FeatureCollection:r,GeometryCollection:g,Polygon:c,MultiPolygon:p};return"object"!=typeof t||null===t||void 0===t?(_.push({message:"The root of a GeoJSON object must be an object.",line:0}),_):(n(t),_.forEach(function(t){t.hasOwnProperty("line")&&void 0===t.line&&delete t.line}),_)}t.exports.hint=n},function(t,e,n){(function(t,i){var o=function(){function t(){this.yy={}}var e=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},n=[1,12],i=[1,13],o=[1,9],r=[1,10],s=[1,11],a=[1,14],l=[1,15],h=[14,18,22,24],u=[18,22],c=[22,24],p={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,n,i,o,r,s){var a=r.length-1;switch(o){case 1:this.$=t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\x0B").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=r[a-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=r[a-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[r[a-2],r[a]];break;case 16:this.$={},this.$[r[a][0]]=r[a][1];break;case 17:this.$=r[a-2],void 0!==r[a-2][r[a][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(r[a][0])),r[a-2][r[a][0]]=r[a][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[r[a]];break;case 21:this.$=r[a-2],r[a-2].push(r[a])}},table:[{3:5,4:n,5:6,6:i,7:3,8:o,9:4,10:r,11:s,12:1,13:2,15:7,16:8,17:a,23:l},{1:[3]},{14:[1,16]},e(h,[2,7]),e(h,[2,8]),e(h,[2,9]),e(h,[2,10]),e(h,[2,11]),e(h,[2,12]),e(h,[2,3]),e(h,[2,4]),e(h,[2,5]),e([14,18,21,22,24],[2,1]),e(h,[2,2]),{3:20,4:n,18:[1,17],19:18,20:19},{3:5,4:n,5:6,6:i,7:3,8:o,9:4,10:r,11:s,13:23,15:7,16:8,17:a,23:l,24:[1,21],25:22},{1:[2,6]},e(h,[2,13]),{18:[1,24],22:[1,25]},e(u,[2,16]),{21:[1,26]},e(h,[2,18]),{22:[1,28],24:[1,27]},e(c,[2,20]),e(h,[2,14]),{3:20,4:n,20:29},{3:5,4:n,5:6,6:i,7:3,8:o,9:4,10:r,11:s,13:30,15:7,16:8,17:a,23:l},e(h,[2,19]),{3:5,4:n,5:6,6:i,7:3,8:o,9:4,10:r,11:s,13:31,15:7,16:8,17:a,23:l},e(u,[2,17]),e(u,[2,15]),e(c,[2,21])],defaultActions:{16:[2,6]},parseError:function(t,e){function n(t,e){this.message=t,this.hash=e}if(!e.recoverable)throw n.prototype=Error,new n(t,e);this.trace(t)},parse:function(t){var e=this,n=[0],i=[null],o=[],r=this.table,s="",a=0,l=0,h=0,u=2,c=1,p=o.slice.call(arguments,1),d=Object.create(this.lexer),f={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(f.yy[m]=this.yy[m]);d.setInput(t,f.yy),f.yy.lexer=d,f.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var g=d.yylloc;o.push(g);var v=d.options&&d.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,y,b,M,x,w,E,C,L,N=function(){var t;return t=d.lex()||c,"number"!=typeof t&&(t=e.symbols_[t]||t),t},P={};;){if(b=n[n.length-1],this.defaultActions[b]?M=this.defaultActions[b]:((null===_||"undefined"==typeof _)&&(_=N()),M=r[b]&&r[b][_]),"undefined"==typeof M||!M.length||!M[0]){var S="";L=[];for(w in r[b])this.terminals_[w]&&w>u&&L.push("'"+this.terminals_[w]+"'");S=d.showPosition?"Parse error on line "+(a+1)+":\n"+d.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(a+1)+": Unexpected "+(_==c?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(S,{text:d.match,token:this.terminals_[_]||_,line:d.yylineno,loc:g,expected:L})}if(M[0]instanceof Array&&M.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+_);switch(M[0]){case 1:n.push(_),i.push(d.yytext),o.push(d.yylloc),n.push(M[1]),_=null,y?(_=y,y=null):(l=d.yyleng,s=d.yytext,a=d.yylineno,g=d.yylloc,h>0&&h--);break;case 2:if(E=this.productions_[M[1]][1],P.$=i[i.length-E],P._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},v&&(P._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),x=this.performAction.apply(P,[s,l,a,f.yy,M[1],i,o].concat(p)),"undefined"!=typeof x)return x;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[M[1]][0]),i.push(P.$),o.push(P._$),C=r[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},d=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),i=t[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var r in o)this[r]=o[r];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),r=0;r<o.length;r++)if(n=this._input.match(this.rules[o[r]]),n&&(!e||n[0].length>e[0].length)){if(e=n,i=r,this.options.backtrack_lexer){if(t=this.test_match(n,o[r]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,o[i]),t!==!1?t:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,i){switch(n){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return t}();return p.lexer=d,t.prototype=p,p.Parser=t,new t}();e.parser=o,e.Parser=o.Parser,e.parse=function(){return o.parse.apply(o,arguments)},e.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),t.exit(1));var o=n(121).readFileSync(n(124).normalize(i[1]),"utf8");return e.parser.parse(o)},"undefined"!=typeof i&&n.c[0]===i&&e.main(t.argv.slice(1))}).call(e,n(1),n(201)(t))},function(t,e){"use strict";var n=function(t){var e,n={};if(!(t instanceof Object)||Array.isArray(t))throw new Error("keyMirror(...): Argument must be an object.");for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=n},function(t,e){!function(t,e){L.drawVersion="0.2.4-dev",L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes.",text:"Save"},cancel:{title:"Cancel editing, discards all changes.",text:"Cancel"}},buttons:{edit:"Edit layers.",editDisabled:"No layers to edit.",remove:"Delete layers.",removeDisabled:"No layers to delete."}},handlers:{edit:{tooltip:{text:"Drag handles, or marker to edit feature.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove"}}}}},L.Draw={},L.Draw.Feature=L.Handler.extend({includes:L.Mixin.Events,initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e)},enable:function(){this._enabled||(this.fire("enabled",{handler:this.type}),this._map.fire("draw:drawstart",{layerType:this.type}),L.Handler.prototype.enable.call(this))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire("draw:drawstop",{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire("draw:created",{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&this.disable()}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,showLength:!0,zIndexOffset:2e3},initialize:function(t,e){this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mousedown",this._onMouseDown,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this).on("mouseup",this._onMouseUp,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseup",this._onMouseUp,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mousemove",this._onMouseMove,this).off("zoomend",this._onZoomEnd,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,n=this._poly.spliceLatLngs(e.getLatLngs().length-1,1)[0];this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(n,!1)}},addVertex:function(t){var e=this._markers.length;return e>0&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t)?void this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),void this._vertexChanged(t,!0))},_finishShape:function(){var t=this._poly.newLatLngIntersects(this._poly.getLatLngs()[0],!0);return!this.options.allowIntersection&&t||!this._shapeIsValid()?void this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),void(this.options.repeatMode&&this.enable()))},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._updateGuide()},_onMouseMove:function(t){var e=t.layerPoint,n=t.latlng;this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(e),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){var e=t.originalEvent;this._mouseDownOrigin=L.point(e.clientX,e.clientY)},_onMouseUp:function(e){if(this._mouseDownOrigin){var n=L.point(e.originalEvent.clientX,e.originalEvent.clientY).distanceTo(this._mouseDownOrigin);Math.abs(n)<9*(t.devicePixelRatio||1)&&this.addVertex(e.latlng)}this._mouseDownOrigin=null},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers.length;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var n,i,o,r=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),s=this.options.guidelineDistance,a=this.options.maxGuideLineLength,l=r>a?r-a:s;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));r>l;l+=this.options.guidelineDistance)n=l/r,i={x:Math.floor(t.x*(1-n)+n*e.x),y:Math.floor(t.y*(1-n)+n*e.y)},o=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),o.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(o,i)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,n=this._guidesContainer.childNodes.length;n>e;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,n=this.options.showLength;return 0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=n?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var n,i,o=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=o-(e?2:1),i=t.distanceTo(this._markers[n].getLatLng()),this._measurementRunningTotal+=i*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return t=this._measurementRunningTotal+e.distanceTo(n),L.GeometryUtil.readableDistance(t,this.options.metric)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?t=L.drawLocal.draw.handlers.polygon.tooltip.cont:(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area;return t?L.GeometryUtil.readableArea(t,this.options.metric):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent({text:this._endLabelText}),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0}},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){this._shape?this._shape.setRadius(this._startLatLng.distanceTo(t)):(this._shape=new L.Circle(this._startLatLng,this._startLatLng.distanceTo(t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,n=t.latlng,i=this.options.showRadius,o=this.options.metric;this._tooltip.updatePosition(n),this._isDrawing&&(this._drawShape(n),e=this._shape.getRadius().toFixed(1),this._tooltip.updateContent({text:this._endLabelText,subtext:i?"Radius: "+L.GeometryUtil.readableDistance(e,o):""}))}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:L.drawLocal.draw.handlers.marker.tooltip.start}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=new L.Marker(e,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset}),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_fireCreatedEvent:function(){var t=new L.Marker(this._marker.getLatLng(),{
icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"})},initialize:function(t,e){this._poly=t,L.setOptions(this,e)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,n,i,o=this._poly._latlngs;for(t=0,n=o.length;n>t;t++)i=this._createMarker(o[t],t),i.on("click",this._onMarkerClick,this),this._markers.push(i);var r,s;for(t=0,e=n-1;n>t;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(r=this._markers[e],s=this._markers[t],this._createMiddleMarker(r,s),this._updatePrevNext(r,s))},_createMarker:function(t,e){var n=new L.Marker(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._fireEdit,this),this._markerGroup.addLayer(n),n},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._poly.spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("click",this._onMarkerClick,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit")},_onMarkerDrag:function(t){var e=t.target;L.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly.redraw()},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=t.target;this._poly._latlngs.length<e||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(n){n._index>t&&(n._index+=e)})},_createMiddleMarker:function(t,e){var n,i,o,r=this._getMiddleLatLng(t,e),s=this._createMarker(r);s.setOpacity(.6),t._middleRight=e._middleLeft=s,i=function(){var i=e._index;s._index=i,s.off("click",n,this).on("click",this._onMarkerClick,this),r.lat=s.getLatLng().lat,r.lng=s.getLatLng().lng,this._poly.spliceLatLngs(i,0,r),this._markers.splice(i,0,s),s.setOpacity(1),this._updateIndexes(i,1),e._index++,this._updatePrevNext(t,s),this._updatePrevNext(s,e),this._poly.fire("editstart")},o=function(){s.off("dragstart",i,this),s.off("dragend",o,this),this._createMiddleMarker(t,s),this._createMiddleMarker(s,e)},n=function(){i.call(this),o.call(this),this._fireEdit()},s.on("click",n,this).on("dragstart",i,this).on("dragend",o,this),this._markerGroup.addLayer(s)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var n=this._poly._map,i=n.project(t.getLatLng()),o=n.project(e.getLatLng());return n.unproject(i._add(o)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"})},initialize:function(t,e){this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){this._shape._map&&(this._map=this._shape._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup))},removeHooks:function(){if(this._shape._map){this._unbindMarker(this._moveMarker);for(var t=0,e=this._resizeMarkers.length;e>t;t++)this._unbindMarker(this._resizeMarkers[t]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var n=new L.Marker(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this)},_onMarkerDragStart:function(t){var e=t.target;e.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,n=e.getLatLng();e===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw()},_onMarkerDragEnd:function(t){var e=t.target;e.setOpacity(1),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds(),e=t.getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,n=t.length;n>e;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),n=t.target,i=n._cornerIndex;this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)},_onMarkerDragEnd:function(t){var e,n,i=t.target;i===this._moveMarker&&(e=this._shape.getBounds(),n=e.getCenter(),i.setLatLng(n)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,n=this._shape.getLatLngs(),i=this._shape.getBounds(),o=i.getCenter(),r=[],s=0,a=n.length;a>s;s++)e=[n[s].lat-o.lat,n[s].lng-o.lng],r.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(r),this._repositionCornerMarkers()},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter())},_getCorners:function(){var t=this._shape.getBounds(),e=t.getNorthWest(),n=t.getNorthEast(),i=t.getSouthEast(),o=t.getSouthWest();return[e,n,i,o]},_toggleCornerMarkers:function(t){for(var e=0,n=this._resizeMarkers.length;n>e;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,n=this._resizeMarkers.length;n>e;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(t);return this._map.unproject([n.x+e,n.y-e])},_move:function(t){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e),this._shape.setLatLng(t)},_resize:function(t){var e=this._moveMarker.getLatLng(),n=e.distanceTo(t);this._shape.setRadius(n)}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(this.cloneLatLng(t[n]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,n,i=t.length,o=0,r=L.LatLng.DEG_TO_RAD;if(i>2){for(var s=0;i>s;s++)e=t[s],n=t[(s+1)%i],o+=(n.lng-e.lng)*r*(2+Math.sin(e.lat*r)+Math.sin(n.lat*r));o=6378137*o*6378137/2}return Math.abs(o)},readableArea:function(t,e){var n;return e?n=t>=1e4?(1e-4*t).toFixed(2)+" ha":t.toFixed(2)+" m&sup2;":(t*=.836127,n=t>=3097600?(t/3097600).toFixed(2)+" mi&sup2;":t>=4840?(t/4840).toFixed(2)+" acres":Math.ceil(t)+" yd&sup2;"),n},readableDistance:function(t,e){var n;return e?n=t>1e3?(t/1e3).toFixed(2)+" km":Math.ceil(t)+" m":(t*=1.09361,n=t>1760?(t/1760).toFixed(2)+" miles":Math.ceil(t)+" yd"),n}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,n,i){return this._checkCounterclockwise(t,n,i)!==this._checkCounterclockwise(e,n,i)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,i)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,n,i=this._originalPoints,o=i?i.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=o-1;t>=3;t--)if(e=i[t-1],n=i[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return this._map?this.newPointIntersects(this._map.latLngToLayerPoint(t),e):!1},newPointIntersects:function(t,e){var n=this._originalPoints,i=n?n.length:0,o=n?n[i-1]:null,r=i-2;return this._tooFewPointsForIntersection(1)?!1:this._lineSegmentsIntersectsRange(o,t,r,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._originalPoints,n=e?e.length:0;return n+=t||0,!this._originalPoints||3>=n},_lineSegmentsIntersectsRange:function(t,e,n,i){var o,r,s=this._originalPoints;i=i||0;for(var a=n;a>i;a--)if(o=s[a-1],r=s[a],L.LineUtil.segmentsIntersect(t,e,o,r))return!0;return!1}}),L.Polygon.include({intersects:function(){var t,e,n,i,o,r=this._originalPoints;return this._tooFewPointsForIntersection()?!1:(t=L.Polyline.prototype.intersects.call(this))?!0:(e=r.length,n=r[0],i=r[e-1],o=e-2,this._lineSegmentsIntersectsRange(i,n,o,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,t);var e,n;this._toolbars={},L.DrawToolbar&&this.options.draw&&(n=new L.DrawToolbar(this.options.draw),e=L.stamp(n),this._toolbars[e]=n,this._toolbars[e].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(n=new L.EditToolbar(this.options.edit),e=L.stamp(n),this._toolbars[e]=n,this._toolbars[e].on("enable",this._toolbarEnabled,this))},onAdd:function(t){var e,n=L.DomUtil.create("div","leaflet-draw"),i=!1,o="leaflet-draw-toolbar-top";for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(e=this._toolbars[r].addToolbar(t),e&&(i||(L.DomUtil.hasClass(e,o)||L.DomUtil.addClass(e.childNodes[0],o),i=!0),n.appendChild(e)));return n},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=""+L.stamp(t.target);for(var n in this._toolbars)this._toolbars.hasOwnProperty(n)&&n!==e&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({includes:[L.Mixin.Events],initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,n=L.DomUtil.create("div","leaflet-draw-section"),i=0,o=this._toolbarClass||"",r=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<r.length;e++)r[e].enabled&&this._initModeHandler(r[e].handler,this._toolbarContainer,i++,o,r[e].title);return i?(this._lastButtonIndex=--i,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n):void 0},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,n=this._actionButtons.length;n>e;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,n,i,o){var r=t.type;this._modes[r]={},this._modes[r].handler=t,this._modes[r].button=this._createButton({title:o,className:i+"-"+r,container:e,callback:this._modes[r].handler.enable,context:this._modes[r].handler}),this._modes[r].buttonIndex=n,this._modes[r].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container);return e.href="#",t.text&&(e.innerHTML=t.text),t.title&&(e.title=t.title),L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,"click",t.callback,t.context),e},_disposeButton:function(t,e){L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,"click",e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,n,i,o,r=this._actionsContainer,s=this.getActions(t),a=s.length;for(n=0,i=this._actionButtons.length;i>n;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];r.firstChild;)r.removeChild(r.firstChild);for(var l=0;a>l;l++)"enabled"in s[l]&&!s[l].enabled||(e=L.DomUtil.create("li","",r),o=this._createButton({title:s[l].title,text:s[l].text,container:e,callback:s[l].callback,context:s[l].context}),this._actionButtons.push({button:o,callback:s[l].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block"},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom")}}),L.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1},dispose:function(){this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),n=this._container;return this._container&&(n.style.visibility="inherit",L.DomUtil.setPosition(n,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this}}),L.DrawToolbar=L.Toolbar.extend({options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker}]},getActions:function(t){return[{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){L.setOptions(this,t);for(var e in this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({options:{edit:{selectedPathOptions:{color:"#fe57a1",opacity:.6,dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1}},remove:{},featureGroup:null},initialize:function(t){t.edit&&("undefined"==typeof t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit=L.extend({},this.options.edit,t.edit)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(){return[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}]},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=this.options.featureGroup,n=0!==e.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,n?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,n?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},includes:L.Mixin.Events,initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),this._selectedPathOptions=e.selectedPathOptions,this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire("draw:editstart",{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire("draw:editstop",{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._featureGroup.eachLayer(function(t){this._revertLayer(t)},this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer(function(e){e.edited&&(t.addLayer(e),e.edited=!1)}),this._map.fire("draw:edited",{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:t instanceof L.Marker&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):t instanceof L.Marker&&t.setLatLng(this._uneditedLayerProps[e].latlng))},_toggleMarkerHighlight:function(t){if(t._icon){var e=t._icon;e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display=""}},_offsetMarker:function(t,e){var n=parseInt(t.style.marginTop,10)-e,i=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=n+"px",t.style.marginLeft=i+"px"},_enableLayerEdit:function(t){var e,n=t.layer||t.target||t,i=n instanceof L.Marker;(!i||n._icon)&&(this._backupLayer(n),this._selectedPathOptions&&(e=L.Util.extend({},this._selectedPathOptions),i?this._toggleMarkerHighlight(n):(n.options.previousOptions=L.Util.extend({dashArray:null},n.options),n instanceof L.Circle||n instanceof L.Polygon||n instanceof L.Rectangle||(e.fill=!1),n.setStyle(e))),i?(n.dragging.enable(),n.on("dragend",this._onMarkerDragEnd)):n.editing.enable())},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this)):e.editing.disable()},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},includes:L.Mixin.Events,initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire("draw:deletestart",{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire("draw:deletestop",{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.layerGroup,this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(t){this._deletableLayers.addLayer(t)},this)},save:function(){this._map.fire("draw:deleted",{layers:this._deletedLayers})},_enableLayerDelete:function(t){var e=t.layer||t.target||t;e.on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e)},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document)},function(t,e){},function(t,e){"use strict";function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t,e){for(var i,o,r=n(t),s=1;s<arguments.length;s++){i=arguments[s],o=Object.keys(Object(i));for(var a=0;a<o.length;a++)r[o[a]]=i[o[a]]}return r}},function(t,e,n){var i,o,r;!function(s,a){o=[n(60),n(127)],i=a,r="function"==typeof i?i.apply(e,o):i,!(void 0!==r&&(t.exports=r))}(this,function(t){return t.OSOpenSpace=t.Class.extend({statics:{RESOLUTIONS:[2500,1e3,500,200,100,50,25,10,5,2.5],_OSGB36:{EPSG:"EPSG:27700",DEF:"+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy+towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894 +units=m +no_defs no_defs",EXTENT:[1393.0196,13494.9764,671196.3657,1230275.0454],PROJ_EXTENT:[0,0,7e5,13e5]},getCrsAsString:function(){return t.OSOpenSpace._OSGB36.DEF},getCRS:function(){var e=t.OSOpenSpace,n=new t.Proj.CRS(e._OSGB36.EPSG,e._OSGB36.DEF,{resolutions:e.RESOLUTIONS,bounds:t.bounds([e._OSGB36.PROJ_EXTENT[3],e._OSGB36.PROJ_EXTENT[0]],[e._OSGB36.PROJ_EXTENT[2],e._OSGB36.PROJ_EXTENT[1]])});return n}}}),t.TileLayer.OSOpenSpace=t.TileLayer.WMS.extend({defaultWmsParams:{SERVICE:"WMS",REQUEST:"GetMap",VERSION:"1.1.1",FORMAT:"image/png"},defaultLayerOptions:{maxZoom:null,minZoom:0,continuousWorld:!0,worldCopyJump:!1,tms:!0,attribution:" Crown copyright and database rights 2015 Ordnance Survey.",detectRetina:!1},resolutions:[],_url:"https://openspace.ordnancesurvey.co.uk/osmapapi/ts",debug:!1,initialize:function(e,n){if(!e)throw"OSOpenSpace layer requires an API Key parameter to function.";var i=200,o={KEY:e,URL:"file:///"};this.options.tileSize=i,this.resolutions=t.OSOpenSpace.RESOLUTIONS,this.defaultLayerOptions.maxZoom=t.OSOpenSpace.RESOLUTIONS.length-1;var r=t.extend(o,this.defaultWmsParams);r.width=r.height=i;for(var s in n)this.options.hasOwnProperty(s)||"crs"===s||(r[s]=n[s]),"debug"===s&&(this.debug=n[s]);this.wmsParams=r,t.setOptions(this,this.defaultLayerOptions)},getTileUrl:function(e){this.debug&&console.log(">>tilePoint: ",e.toString());var n=this.options.tileSize,i=e.z,o=this.resolutions[i],r=n*o,s=r*e.x,a=r*e.y;this.debug&&console.log(">>tileSizePixels: "+n+", zoom: "+i+", resolutionMpp: "+o+", tileSizeMetres: "+r);var l=[s,a,0,0].join(","),h=t.Util.template(this._url,{});return this.debug&&console.log(">>Bbox: ",l),h+t.Util.getParamString(this.wmsParams)+"&BBOX="+l+"&WIDTH="+n+"&HEIGHT="+n+"&LAYERS="+o}}),t.tileLayer.OSOpenSpace=function(e,n){return new t.TileLayer.OSOpenSpace(e,n)},t.tileLayer.OSOpenSpace})},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var o=t[i];"."===o?t.splice(i,1):".."===o?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return o.exec(t).slice(1)};e.resolve=function(){for(var e="",o=!1,r=arguments.length-1;r>=-1&&!o;r--){var s=r>=0?arguments[r]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,o="/"===s.charAt(0))}return e=n(i(e.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),r="/"===s(t,-1);return t=n(i(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&r&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);
for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=i(t.split("/")),r=i(n.split("/")),s=Math.min(o.length,r.length),a=s,l=0;s>l;l++)if(o[l]!==r[l]){a=l;break}for(var h=[],l=a;l<o.length;l++)h.push("..");return h=h.concat(r.slice(a)),h.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(e,n(1))},function(t,e,n){var i,i;!function(e){t.exports=e()}(function(){return function t(e,n,o){function r(a,l){if(!n[a]){if(!e[a]){var h="function"==typeof i&&i;if(!l&&h)return i(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var s="function"==typeof i&&i,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var o=t("mgrs");i.fromMGRS=function(t){return new i(o.toPoint(t))},i.prototype.toMGRS=function(t){return o.forward([this.x,this.y],t)},e.exports=i},{mgrs:67}],2:[function(t,e,n){function i(t,e){if(!(this instanceof i))return new i(t);e=e||function(t){if(t)throw t};var n=o(t);if("object"!=typeof n)return void e(t);var s=a(n),l=i.projections.get(s.projName);l?(r(this,s),r(this,l),this.init(),e(null,this)):e(t)}var o=t("./parseCode"),r=t("./extend"),s=t("./projections"),a=t("./deriveConstants");i.projections=s,i.projections.start(),e.exports=i},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(t,e,n){e.exports=function(t,e,n){var i,o,r,s=n.x,a=n.y,l=n.z||0;for(r=0;3>r;r++)if(!e||2!==r||void 0!==n.z)switch(0===r?(i=s,o="x"):1===r?(i=a,o="y"):(i=l,o="z"),t.axis[r]){case"e":n[o]=i;break;case"w":n[o]=-i;break;case"n":n[o]=i;break;case"s":n[o]=-i;break;case"u":void 0!==n[o]&&(n.z=i);break;case"d":void 0!==n[o]&&(n.z=-i);break;default:return null}return n}},{}],4:[function(t,e,n){var i=Math.PI/2,o=t("./sign");e.exports=function(t){return Math.abs(t)<i?t:t-o(t)*Math.PI}},{"./sign":21}],5:[function(t,e,n){var i=2*Math.PI,o=3.14159265359,r=t("./sign");e.exports=function(t){return Math.abs(t)<=o?t:t-r(t)*i}},{"./sign":21}],6:[function(t,e,n){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e,n){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e,n){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e,n){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e,n){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e,n){e.exports=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}},{}],12:[function(t,e,n){e.exports=function(t,e,n,i,o){var r,s;r=t/e;for(var a=0;15>a;a++)if(s=(t-(e*r-n*Math.sin(2*r)+i*Math.sin(4*r)-o*Math.sin(6*r)))/(e-2*n*Math.cos(2*r)+4*i*Math.cos(4*r)-6*o*Math.cos(6*r)),r+=s,Math.abs(s)<=1e-10)return r;return NaN}},{}],13:[function(t,e,n){var i=Math.PI/2;e.exports=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return 0>e?-1*i:i;for(var o,r,s,a,l=Math.asin(.5*e),h=0;30>h;h++)if(r=Math.sin(l),s=Math.cos(l),a=t*r,o=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),l+=o,Math.abs(o)<=1e-10)return l;return NaN}},{}],14:[function(t,e,n){e.exports=function(t,e,n,i,o){return t*o-e*Math.sin(2*o)+n*Math.sin(4*o)-i*Math.sin(6*o)}},{}],15:[function(t,e,n){e.exports=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}},{}],16:[function(t,e,n){var i=Math.PI/2;e.exports=function(t,e){for(var n,o,r=.5*t,s=i-2*Math.atan(e),a=0;15>=a;a++)if(n=t*Math.sin(s),o=i-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-s,s+=o,Math.abs(o)<=1e-10)return s;return-9999}},{}],17:[function(t,e,n){var i=1,o=.25,r=.046875,s=.01953125,a=.01068115234375,l=.75,h=.46875,u=.013020833333333334,c=.007120768229166667,p=.3645833333333333,d=.005696614583333333,f=.3076171875;e.exports=function(t){var e=[];e[0]=i-t*(o+t*(r+t*(s+t*a))),e[1]=t*(l-t*(r+t*(s+t*a)));var n=t*t;return e[2]=n*(h-t*(u+t*c)),n*=t,e[3]=n*(p-t*d),e[4]=n*t*f,e}},{}],18:[function(t,e,n){var i=t("./pj_mlfn"),o=1e-10,r=20;e.exports=function(t,e,n){for(var s=1/(1-e),a=t,l=r;l;--l){var h=Math.sin(a),u=1-e*h*h;if(u=(i(a,h,Math.cos(a),n)-t)*(u*Math.sqrt(u))*s,a-=u,Math.abs(u)<o)return a}return a}},{"./pj_mlfn":19}],19:[function(t,e,n){e.exports=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}},{}],20:[function(t,e,n){e.exports=function(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}},{}],21:[function(t,e,n){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e,n){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e,n){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],24:[function(t,e,n){var i=Math.PI/2;e.exports=function(t,e,n){var o=t*n,r=.5*t;return o=Math.pow((1-o)/(1+o),r),Math.tan(.5*(i-e))/o}},{}],25:[function(t,e,n){n.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},n.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},n.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},n.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},n.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},n.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},n.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},n.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},n.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},n.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},n.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},n.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},n.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},n.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},n.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},n.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,n){n.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},n.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},n.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},n.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},n.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},n.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},n.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},n.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},n.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},n.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},n.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},n.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},n.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},n.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},n.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},n.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},n.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},n.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},n.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},n.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},n.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},n.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},n.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},n.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},n.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},n.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},n.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},n.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},n.hough={a:6378270,rf:297,ellipseName:"Hough"},n.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},n.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},n.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},n.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},n.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},n.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},n.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},n.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},n.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},n.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},n.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},n.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},n.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},n.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,n){n.greenwich=0,n.lisbon=-9.131906111111,n.paris=2.337229166667,n.bogota=-74.080916666667,n.madrid=-3.687938888889,n.rome=12.452333333333,n.bern=7.439583333333,n.jakarta=106.807719444444,n.ferro=-17.666666666667,n.brussels=4.367975,n.stockholm=18.058277777778,n.athens=23.7163375,n.oslo=10.722916666667},{}],28:[function(t,e,n){n.ft={to_meter:.3048},n["us-ft"]={to_meter:1200/3937}},{}],29:[function(t,e,n){function i(t,e,n){var i;return Array.isArray(n)?(i=a(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):a(t,e,n)}function o(t){return t instanceof s?t:t.oProj?t.oProj:s(t)}function r(t,e,n){t=o(t);var r,s=!1;return"undefined"==typeof e?(e=t,t=l,s=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(n=e,e=t,t=l,s=!0),e=o(e),n?i(t,e,n):(r={forward:function(n){return i(t,e,n)},inverse:function(n){return i(e,t,n)}},s&&(r.oProj=e),r)}var s=t("./Proj"),a=t("./transform"),l=s("WGS84");e.exports=r},{"./Proj":2,"./transform":65}],30:[function(t,e,n){var i=Math.PI/2,o=1,r=2,s=3,a=4,l=5,h=484813681109536e-20,u=1.0026,c=.3826834323650898,p=function(t){return this instanceof p?(this.datum_type=a,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=l),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),(0!==this.datum_params[0]||0!==this.datum_params[1]||0!==this.datum_params[2])&&(this.datum_type=o),this.datum_params.length>3&&(0!==this.datum_params[3]||0!==this.datum_params[4]||0!==this.datum_params[5]||0!==this.datum_params[6])&&(this.datum_type=r,this.datum_params[3]*=h,this.datum_params[4]*=h,this.datum_params[5]*=h,this.datum_params[6]=this.datum_params[6]/1e6+1)),this.datum_type=t.grids?s:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===s&&(this.grids=t.grids)))):new p(t)};p.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===o?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===r?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===s||t.datum_type===s?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var e,n,o,r,s,a,l,h=t.x,u=t.y,c=t.z?t.z:0,p=0;if(-i>u&&u>-1.001*i)u=-i;else if(u>i&&1.001*i>u)u=i;else if(-i>u||u>i)return null;return h>Math.PI&&(h-=2*Math.PI),s=Math.sin(u),l=Math.cos(u),a=s*s,r=this.a/Math.sqrt(1-this.es*a),e=(r+c)*l*Math.cos(h),n=(r+c)*l*Math.sin(h),o=(r*(1-this.es)+c)*s,t.x=e,t.y=n,t.z=o,p},geocentric_to_geodetic:function(t){var e,n,o,r,s,a,l,h,u,c,p,d,f,m,g,v,_,y=1e-12,b=y*y,M=30,x=t.x,w=t.y,E=t.z?t.z:0;if(f=!1,e=Math.sqrt(x*x+w*w),n=Math.sqrt(x*x+w*w+E*E),e/this.a<y){if(f=!0,g=0,n/this.a<y)return v=i,void(_=-this.b)}else g=Math.atan2(w,x);o=E/n,r=e/n,s=1/Math.sqrt(1-this.es*(2-this.es)*r*r),h=r*(1-this.es)*s,u=o*s,m=0;do m++,l=this.a/Math.sqrt(1-this.es*u*u),_=e*h+E*u-l*(1-this.es*u*u),a=this.es*l/(l+_),s=1/Math.sqrt(1-a*(2-a)*r*r),c=r*(1-a)*s,p=o*s,d=p*h-c*u,h=c,u=p;while(d*d>b&&M>m);return v=Math.atan(p/Math.abs(c)),t.x=g,t.y=v,t.z=_,t},geocentric_to_geodetic_noniter:function(t){var e,n,o,r,s,a,l,h,p,d,f,m,g,v,_,y,b,M=t.x,x=t.y,w=t.z?t.z:0;if(M=parseFloat(M),x=parseFloat(x),w=parseFloat(w),b=!1,0!==M)e=Math.atan2(x,M);else if(x>0)e=i;else if(0>x)e=-i;else if(b=!0,e=0,w>0)n=i;else{if(!(0>w))return n=i,void(o=-this.b);n=-i}return s=M*M+x*x,r=Math.sqrt(s),a=w*u,h=Math.sqrt(a*a+s),d=a/h,m=r/h,f=d*d*d,l=w+this.b*this.ep2*f,y=r-this.a*this.es*m*m*m,p=Math.sqrt(l*l+y*y),g=l/p,v=y/p,_=this.a/Math.sqrt(1-this.es*g*g),o=v>=c?r/v-_:-c>=v?r/-v-_:w/g+_*(this.es-1),b===!1&&(n=Math.atan(g/v)),t.x=e,t.y=n,t.z=o,t},geocentric_to_wgs84:function(t){if(this.datum_type===o)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===r){var e=this.datum_params[0],n=this.datum_params[1],i=this.datum_params[2],s=this.datum_params[3],a=this.datum_params[4],l=this.datum_params[5],h=this.datum_params[6],u=h*(t.x-l*t.y+a*t.z)+e,c=h*(l*t.x+t.y-s*t.z)+n,p=h*(-a*t.x+s*t.y+t.z)+i;t.x=u,t.y=c,t.z=p}},geocentric_from_wgs84:function(t){if(this.datum_type===o)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===r){var e=this.datum_params[0],n=this.datum_params[1],i=this.datum_params[2],s=this.datum_params[3],a=this.datum_params[4],l=this.datum_params[5],h=this.datum_params[6],u=(t.x-e)/h,c=(t.y-n)/h,p=(t.z-i)/h;t.x=u+l*c-a*p,t.y=-l*u+c+s*p,t.z=a*u-s*c+p}}},e.exports=p},{}],31:[function(t,e,n){var i=1,o=2,r=3,s=5,a=6378137,l=.006694379990141316;e.exports=function(t,e,n){function h(t){return t===i||t===o}var u,c,p;if(t.compare_datums(e))return n;if(t.datum_type===s||e.datum_type===s)return n;var d=t.a,f=t.es,m=e.a,g=e.es,v=t.datum_type;if(v===r)if(0===this.apply_gridshift(t,0,n))t.a=a,t.es=l;else{if(!t.datum_params)return t.a=d,t.es=t.es,n;for(u=1,c=0,p=t.datum_params.length;p>c;c++)u*=t.datum_params[c];if(0===u)return t.a=d,t.es=t.es,n;v=t.datum_params.length>3?o:i}return e.datum_type===r&&(e.a=a,e.es=l),(t.es!==e.es||t.a!==e.a||h(v)||h(e.datum_type))&&(t.geodetic_to_geocentric(n),h(t.datum_type)&&t.geocentric_to_wgs84(n),h(e.datum_type)&&e.geocentric_from_wgs84(n),e.geocentric_to_geodetic(n)),e.datum_type===r&&this.apply_gridshift(e,1,n),t.a=d,t.es=f,e.a=m,e.es=g,n}},{}],32:[function(t,e,n){function i(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?i[t]=r(arguments[1]):i[t]=s(arguments[1]):i[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?i.apply(e,t):i(t)});if("string"==typeof t){if(t in i)return i[t]}else"EPSG"in t?i["EPSG:"+t.EPSG]=t:"ESRI"in t?i["ESRI:"+t.ESRI]=t:"IAU2000"in t?i["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var o=t("./global"),r=t("./projString"),s=t("./wkt");o(i),e.exports=i},{"./global":35,"./projString":38,"./wkt":66}],33:[function(t,e,n){var i=t("./constants/Datum"),o=t("./constants/Ellipsoid"),r=t("./extend"),s=t("./datum"),a=1e-10,l=.16666666666666666,h=.04722222222222222,u=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=i[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var n=o[t.ellps]?o[t.ellps]:o.WGS84;r(t,n)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<a)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(l+t.es*(h+t.es*u)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=s(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(t,e,n){e.exports=function(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],void 0!==n&&(t[i]=n);return t}},{}],35:[function(t,e,n){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],36:[function(t,e,n){var i=t("./core");i.defaultDatum="WGS84",i.Proj=t("./Proj"),i.WGS84=new i.Proj("WGS84"),i.Point=t("./Point"),i.toPoint=t("./common/toPoint"),i.defs=t("./defs"),i.transform=t("./transform"),i.mgrs=t("mgrs"),i.version=t("../package.json").version,t("./includedProjections")(i),e.exports=i},{"../package.json":68,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"hTEDpn","./transform":65,mgrs:67}],37:[function(t,e,n){function i(t){return"string"==typeof t}function o(t){return t in l}function r(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,n){return e+1+t.indexOf(n)},0)}function s(t){return"+"===t[0]}function a(t){return i(t)?o(t)?l[t]:r(t)?h(t):s(t)?u(t):void 0:t}var l=t("./defs"),h=t("./wkt"),u=t("./projString");e.exports=a},{"./defs":32,"./projString":38,"./wkt":66}],38:[function(t,e,n){var i=.017453292519943295,o=t("./constants/PrimeMeridian"),r=t("./constants/units");e.exports=function(t){var e={},n={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),n[e[0].toLowerCase()]=e[1]});var s,a,l,h={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*i},lat_1:function(t){e.lat1=t*i},lat_2:function(t){e.lat2=t*i},lat_ts:function(t){e.lat_ts=t*i},lon_0:function(t){e.long0=t*i},lon_1:function(t){e.long1=t*i},lon_2:function(t){e.long2=t*i},alpha:function(t){e.alpha=parseFloat(t)*i},lonc:function(t){e.longc=t*i},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,r[t]&&(e.to_meter=r[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*i},pm:function(t){e.from_greenwich=(o[t]?o[t]:parseFloat(t))*i},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var n="ewnsud";3===t.length&&-1!==n.indexOf(t.substr(0,1))&&-1!==n.indexOf(t.substr(1,1))&&-1!==n.indexOf(t.substr(2,1))&&(e.axis=t)}};for(s in n)a=n[s],s in h?(l=h[s],"function"==typeof l?l(a):e[l]=a):e[s]=a;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(t,e,n){function i(t,e){var n=s.length;return t.names?(s[n]=t,t.names.forEach(function(t){r[t.toLowerCase()]=n}),this):(console.log(e),!0)}var o=[t("./projections/merc"),t("./projections/longlat")],r={},s=[];n.add=i,n.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof r[e]&&s[r[e]]?s[r[e]]:void 0},n.start=function(){o.forEach(i)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(t,e,n){var i=1e-10,o=t("../common/msfnz"),r=t("../common/qsfnz"),s=t("../common/adjust_lon"),a=t("../common/asinz");n.init=function(){Math.abs(this.lat1+this.lat2)<i||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=o(this.e3,this.sin_po,this.cos_po),this.qs1=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=o(this.e3,this.sin_po,this.cos_po),this.qs2=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=r(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>i?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},n.forward=function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=r(this.e3,this.sin_phi,this.cos_phi),o=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,a=this.ns0*s(e-this.long0),l=o*Math.sin(a)+this.x0,h=this.rh-o*Math.cos(a)+this.y0;return t.x=l,t.y=h,t},n.inverse=function(t){var e,n,i,o,r,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),o=0,0!==e&&(o=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),r=s(o/this.ns0+this.long0),t.x=r,t.y=a,t},n.phi1z=function(t,e){var n,o,r,s,l,h=a(.5*e);if(i>t)return h;for(var u=t*t,c=1;25>=c;c++)if(n=Math.sin(h),o=Math.cos(h),r=t*n,s=1-r*r,l=.5*s*s/o*(e/(1-u)-n/s+.5/t*Math.log((1-r)/(1+r))),h+=l,Math.abs(l)<=1e-7)return h;return null},n.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(t,e,n){var i=t("../common/adjust_lon"),o=Math.PI/2,r=1e-10,s=t("../common/mlfn"),a=t("../common/e0fn"),l=t("../common/e1fn"),h=t("../common/e2fn"),u=t("../common/e3fn"),c=t("../common/gN"),p=t("../common/asinz"),d=t("../common/imlfn");n.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},n.forward=function(t){var e,n,p,d,f,m,g,v,_,y,b,M,x,w,E,C,L,N,P,S,D,k,O,T=t.x,I=t.y,A=Math.sin(t.y),R=Math.cos(t.y),U=i(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=r?(t.x=this.x0+this.a*(o-I)*Math.sin(U),t.y=this.y0-this.a*(o-I)*Math.cos(U),t):Math.abs(this.sin_p12+1)<=r?(t.x=this.x0+this.a*(o+I)*Math.sin(U),t.y=this.y0+this.a*(o+I)*Math.cos(U),t):(N=this.sin_p12*A+this.cos_p12*R*Math.cos(U),C=Math.acos(N),L=C/Math.sin(C),t.x=this.x0+this.a*L*R*Math.sin(U),t.y=this.y0+this.a*L*(this.cos_p12*A-this.sin_p12*R*Math.cos(U)),t):(e=a(this.es),n=l(this.es),p=h(this.es),d=u(this.es),Math.abs(this.sin_p12-1)<=r?(f=this.a*s(e,n,p,d,o),m=this.a*s(e,n,p,d,I),t.x=this.x0+(f-m)*Math.sin(U),t.y=this.y0-(f-m)*Math.cos(U),t):Math.abs(this.sin_p12+1)<=r?(f=this.a*s(e,n,p,d,o),m=this.a*s(e,n,p,d,I),t.x=this.x0+(f+m)*Math.sin(U),t.y=this.y0+(f+m)*Math.cos(U),t):(g=A/R,v=c(this.a,this.e,this.sin_p12),_=c(this.a,this.e,A),y=Math.atan((1-this.es)*g+this.es*v*this.sin_p12/(_*R)),b=Math.atan2(Math.sin(U),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(U)),P=0===b?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(b)-Math.PI)<=r?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(U)*Math.cos(y)/Math.sin(b)),M=this.e*this.sin_p12/Math.sqrt(1-this.es),x=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),w=M*x,E=x*x,S=P*P,D=S*P,k=D*P,O=k*P,C=v*P*(1-S*E*(1-E)/6+D/8*w*(1-2*E)+k/120*(E*(4-7*E)-3*M*M*(1-7*E))-O/48*w),t.x=this.x0+C*Math.sin(b),t.y=this.y0+C*Math.cos(b),t))},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,f,m,g,v,_,y,b,M,x,w,E,C,L,N,P,S,D,k,O,T,I;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*o*this.a)return;return n=e/this.a,f=Math.sin(n),m=Math.cos(n),g=this.long0,Math.abs(e)<=r?v=this.lat0:(v=p(m*this.sin_p12+t.y*f*this.cos_p12/e),_=Math.abs(this.lat0)-o,g=i(Math.abs(_)<=r?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*f,e*this.cos_p12*m-t.y*this.sin_p12*f))),t.x=g,t.y=v,t}return y=a(this.es),b=l(this.es),M=h(this.es),x=u(this.es),Math.abs(this.sin_p12-1)<=r?(w=this.a*s(y,b,M,x,o),e=Math.sqrt(t.x*t.x+t.y*t.y),E=w-e,v=d(E/this.a,y,b,M,x),g=i(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=v,t):Math.abs(this.sin_p12+1)<=r?(w=this.a*s(y,b,M,x,o),e=Math.sqrt(t.x*t.x+t.y*t.y),E=e-w,v=d(E/this.a,y,b,M,x),g=i(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),N=Math.atan2(t.x,t.y),C=c(this.a,this.e,this.sin_p12),P=Math.cos(N),S=this.e*this.cos_p12*P,D=-S*S/(1-this.es),k=3*this.es*(1-D)*this.sin_p12*this.cos_p12*P/(1-this.es),O=e/C,T=O-D*(1+D)*Math.pow(O,3)/6-k*(1+3*D)*Math.pow(O,4)/24,I=1-D*T*T/2-O*T*T*T/6,L=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*P),g=i(this.long0+Math.asin(Math.sin(N)*Math.sin(T)/Math.cos(L))),v=Math.atan((1-this.es*I*this.sin_p12/Math.sin(L))*Math.tan(L)/(1-this.es)),t.x=g,t.y=v,t)},n.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,n){var i=t("../common/mlfn"),o=t("../common/e0fn"),r=t("../common/e1fn"),s=t("../common/e2fn"),a=t("../common/e3fn"),l=t("../common/gN"),h=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),p=Math.PI/2,d=1e-10;n.init=function(){this.sphere||(this.e0=o(this.es),this.e1=r(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*i(this.e0,this.e1,this.e2,this.e3,this.lat0))},n.forward=function(t){var e,n,o=t.x,r=t.y;if(o=h(o-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(o)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(o))-this.lat0);else{var s=Math.sin(r),a=Math.cos(r),u=l(this.a,this.e,s),c=Math.tan(r)*Math.tan(r),p=o*Math.cos(r),d=p*p,f=this.es*a*a/(1-this.es),m=this.a*i(this.e0,this.e1,this.e2,this.e3,r);e=u*p*(1-d*c*(1/6-(8-c+8*f)*d/120)),n=m-this.ml0+u*s/a*d*(.5+(5-c+6*f)*d/24)}return t.x=e+this.x0,t.y=n+this.y0,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,o=t.y/this.a;if(this.sphere){var r=o+this.lat0;e=Math.asin(Math.sin(r)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(r))}else{var s=this.ml0/this.a+o,a=c(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-p)<=d)return t.x=this.long0,t.y=p,0>o&&(t.y*=-1),t;var f=l(this.a,this.e,Math.sin(a)),m=f*f*f/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(a),2),v=i*this.a/f,_=v*v;e=a-f*Math.tan(a)/m*v*v*(.5-(1+3*g)*v*v/24),n=v*(1-_*(g/3+(1+3*g)*g*_/15))/Math.cos(a)}return t.x=h(n+this.long0),t.y=u(e),t},n.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(t,e,n){var i=t("../common/adjust_lon"),o=t("../common/qsfnz"),r=t("../common/msfnz"),s=t("../common/iqsfnz");n.init=function(){this.sphere||(this.k0=r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},n.forward=function(t){var e,n,r=t.x,s=t.y,a=i(r-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var l=o(this.e,Math.sin(s));e=this.x0+this.a*this.k0*a,n=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=n,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=i(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=s(this.e,2*t.y*this.k0/this.a),e=i(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},n.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(t,e,n){var i=t("../common/adjust_lon"),o=t("../common/adjust_lat");n.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},n.forward=function(t){var e=t.x,n=t.y,r=i(e-this.long0),s=o(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*s,t},n.inverse=function(t){var e=t.x,n=t.y;return t.x=i(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=o(this.lat0+(n-this.y0)/this.a),t},n.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(t,e,n){var i=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/msfnz"),l=t("../common/mlfn"),h=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),p=1e-10;n.init=function(){Math.abs(this.lat1+this.lat2)<p||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<p?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},n.forward=function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var o=l(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-o)}var r=this.ns*h(n-this.long0),s=this.x0+e*Math.sin(r),a=this.y0+this.rh-e*Math.cos(r);return t.x=s,t.y=a,t},n.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,o;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;if(0!==n&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere)return o=h(this.long0+r/this.ns),i=u(this.g-n/this.a),t.x=o,t.y=i,t;var s=this.g-n/this.a;return i=c(s,this.e0,this.e1,this.e2,this.e3),o=h(this.long0+r/this.ns),t.x=o,t.y=i,t},n.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(t,e,n){var i=Math.PI/4,o=t("../common/srat"),r=Math.PI/2,s=20;n.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+i)/(Math.pow(Math.tan(.5*this.lat0+i),this.C)*o(this.e*t,this.ratexp))},n.forward=function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+i),this.C)*o(this.e*Math.sin(n),this.ratexp))-r,t.x=this.C*e,t},n.inverse=function(t){for(var e=1e-14,n=t.x/this.C,a=t.y,l=Math.pow(Math.tan(.5*a+i)/this.K,1/this.C),h=s;h>0&&(a=2*Math.atan(l*o(this.e*Math.sin(t.y),-.5*this.e))-r,
!(Math.abs(a-t.y)<e));--h)t.y=a;return h?(t.x=n,t.y=a,t):null},n.names=["gauss"]},{"../common/srat":22}],47:[function(t,e,n){var i=t("../common/adjust_lon"),o=1e-10,r=t("../common/asinz");n.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},n.forward=function(t){var e,n,r,s,a,l,h,u,c=t.x,p=t.y;return r=i(c-this.long0),e=Math.sin(p),n=Math.cos(p),s=Math.cos(r),l=this.sin_p14*e+this.cos_p14*n*s,a=1,l>0||Math.abs(l)<=o?(h=this.x0+this.a*a*n*Math.sin(r)/l,u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*s)/l):(h=this.x0+this.infinity_dist*n*Math.sin(r),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*s)),t.x=h,t.y=u,t},n.inverse=function(t){var e,n,o,s,a,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),n=Math.sin(s),o=Math.cos(s),l=r(o*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.atan2(t.x*n,e*this.cos_p14*o-t.y*this.sin_p14*n),a=i(this.long0+a)):(l=this.phic0,a=0),t.x=a,t.y=l,t},n.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},n.forward=function(t){var e,n,o,r,s,a,l,h=t.x,u=t.y,c=i(h-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),o=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),s=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(r)),a=this.n*s,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=l*Math.cos(a)/1,t.x=l*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},n.inverse=function(t){var e,n,i,o,r,s,a,l,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x),o=r/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),n=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,u+=1;while(0===l&&15>u);return u>=15?null:t},n.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(t,e,n){var i=Math.PI/2,o=Math.PI/4,r=1e-10,s=t("../common/qsfnz"),a=t("../common/adjust_lon");n.S_POLE=1,n.N_POLE=2,n.EQUIT=3,n.OBLIQ=4,n.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-i)<r?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<r?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=s(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=s(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},n.forward=function(t){var e,n,l,h,u,c,p,d,f,m,g=t.x,v=t.y;if(g=a(g-this.long0),this.sphere){if(u=Math.sin(v),m=Math.cos(v),l=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+m*l:1+this.sinph0*u+this.cosph0*m*l,r>=n)return null;n=Math.sqrt(2/n),e=n*m*Math.sin(g),n*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*m*l}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),Math.abs(v+this.phi0)<r)return null;n=o-.5*v,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(g),n*=l}}else{switch(p=0,d=0,f=0,l=Math.cos(g),h=Math.sin(g),u=Math.sin(v),c=s(this.e,u),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=c/this.qp,d=Math.sqrt(1-p*p)),this.mode){case this.OBLIQ:f=1+this.sinb1*p+this.cosb1*d*l;break;case this.EQUIT:f=1+d*l;break;case this.N_POLE:f=i+v,c=this.qp-c;break;case this.S_POLE:f=v-i,c=this.qp+c}if(Math.abs(f)<r)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),n=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*p-this.sinb1*d*l):(f=Math.sqrt(2/(1+d*l)))*p*this.ymf,e=this.xmf*f*d*h;break;case this.N_POLE:case this.S_POLE:c>=0?(e=(f=Math.sqrt(c))*h,n=l*(this.mode===this.S_POLE?f:-f)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,o,s,l,h,u,c=t.x/this.a,p=t.y/this.a;if(this.sphere){var d,f=0,m=0;if(d=Math.sqrt(c*c+p*p),n=.5*d,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=r?0:Math.asin(p*m/d),c*=m,p=f*d;break;case this.OBLIQ:n=Math.abs(d)<=r?this.phi0:Math.asin(f*this.sinph0+p*m*this.cosph0/d),c*=m*this.cosph0,p=(f-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:p=-p,n=i-n;break;case this.S_POLE:n-=i}e=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,p):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,p*=this.dd,h=Math.sqrt(c*c+p*p),r>h)return t.x=0,t.y=this.phi0,t;s=2*Math.asin(.5*h/this.rq),o=Math.cos(s),c*=s=Math.sin(s),this.mode===this.OBLIQ?(u=o*this.sinb1+p*s*this.cosb1/h,l=this.qp*u,p=h*this.cosb1*o-p*this.sinb1*s):(u=p*s/h,l=this.qp*u,p=h*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),l=c*c+p*p,!l)return t.x=0,t.y=this.phi0,t;u=1-l/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(c,p),n=this.authlat(Math.asin(u),this.apa)}return t.x=a(this.long0+e),t.y=n,t},n.P00=.3333333333333333,n.P01=.17222222222222222,n.P02=.10257936507936508,n.P10=.06388888888888888,n.P11=.0664021164021164,n.P20=.016415012942191543,n.authset=function(t){var e,n=[];return n[0]=t*this.P00,e=t*t,n[0]+=e*this.P01,n[1]=e*this.P10,e*=t,n[0]+=e*this.P02,n[1]+=e*this.P11,n[2]=e*this.P20,n},n.authlat=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)},n.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(t,e,n){var i=1e-10,o=t("../common/msfnz"),r=t("../common/tsfnz"),s=Math.PI/2,a=t("../common/sign"),l=t("../common/adjust_lon"),h=t("../common/phi2z");n.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<i)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),s=o(this.e,e,n),a=r(this.e,this.lat1,e),l=Math.sin(this.lat2),h=Math.cos(this.lat2),u=o(this.e,l,h),c=r(this.e,this.lat2,l),p=r(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>i?this.ns=Math.log(s/u)/Math.log(a/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=s/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(p,this.ns),this.title||(this.title="Lambert Conformal Conic")}},n.forward=function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=i&&(n=a(n)*(s-2*i));var o,h,u=Math.abs(Math.abs(n)-s);if(u>i)o=r(this.e,n,Math.sin(n)),h=this.a*this.f0*Math.pow(o,this.ns);else{if(u=n*this.ns,0>=u)return null;h=0}var c=this.ns*l(e-this.long0);return t.x=this.k0*(h*Math.sin(c))+this.x0,t.y=this.k0*(this.rh-h*Math.cos(c))+this.y0,t},n.inverse=function(t){var e,n,i,o,r,a=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+u*u),n=1):(e=-Math.sqrt(a*a+u*u),n=-1);var c=0;if(0!==e&&(c=Math.atan2(n*a,n*u)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),o=h(this.e,i),-9999===o)return null}else o=-s;return r=l(c/this.ns+this.long0),t.x=r,t.y=o,t},n.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(t,e,n){function i(t){return t}n.init=function(){},n.forward=i,n.inverse=i,n.names=["longlat","identity"]},{}],52:[function(t,e,n){var i=t("../common/msfnz"),o=Math.PI/2,r=1e-10,s=57.29577951308232,a=t("../common/adjust_lon"),l=Math.PI/4,h=t("../common/tsfnz"),u=t("../common/phi2z");n.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=i(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},n.forward=function(t){var e=t.x,n=t.y;if(n*s>90&&-90>n*s&&e*s>180&&-180>e*s)return null;var i,u;if(Math.abs(Math.abs(n)-o)<=r)return null;if(this.sphere)i=this.x0+this.a*this.k0*a(e-this.long0),u=this.y0+this.a*this.k0*Math.log(Math.tan(l+.5*n));else{var c=Math.sin(n),p=h(this.e,n,c);i=this.x0+this.a*this.k0*a(e-this.long0),u=this.y0-this.a*this.k0*Math.log(p)}return t.x=i,t.y=u,t},n.inverse=function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=o-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var s=Math.exp(-r/(this.a*this.k0));if(n=u(this.e,s),-9999===n)return null}return e=a(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},n.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){},n.forward=function(t){var e=t.x,n=t.y,o=i(e-this.long0),r=this.x0+this.a*o,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=s,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=i(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},n.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(t,e,n){var i=t("../common/adjust_lon"),o=1e-10;n.init=function(){},n.forward=function(t){for(var e=t.x,n=t.y,r=i(e-this.long0),s=n,a=Math.PI*Math.sin(n),l=0;!0;l++){var h=-(s+Math.sin(s)-a)/(1+Math.cos(s));if(s+=h,Math.abs(h)<o)break}s/=2,Math.PI/2-Math.abs(n)<o&&(r=0);var u=.900316316158*this.a*r*Math.cos(s)+this.x0,c=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=u,t.y=c,t},n.inverse=function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var o=i(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=o,t.y=r,t},n.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(t,e,n){var i=484813681109536e-20;n.iterations=1,n.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},n.forward=function(t){var e,n=t.x,o=t.y,r=o-this.lat0,s=n-this.long0,a=r/i*1e-5,l=s,h=1,u=0;for(e=1;10>=e;e++)h*=a,u+=this.A[e]*h;var c,p,d=u,f=l,m=1,g=0,v=0,_=0;for(e=1;6>=e;e++)c=m*d-g*f,p=g*d+m*f,m=c,g=p,v=v+this.B_re[e]*m-this.B_im[e]*g,_=_+this.B_im[e]*m+this.B_re[e]*g;return t.x=_*this.a+this.x0,t.y=v*this.a+this.y0,t},n.inverse=function(t){var e,n,o,r=t.x,s=t.y,a=r-this.x0,l=s-this.y0,h=l/this.a,u=a/this.a,c=1,p=0,d=0,f=0;for(e=1;6>=e;e++)n=c*h-p*u,o=p*h+c*u,c=n,p=o,d=d+this.C_re[e]*c-this.C_im[e]*p,f=f+this.C_im[e]*c+this.C_re[e]*p;for(var m=0;m<this.iterations;m++){var g,v,_=d,y=f,b=h,M=u;for(e=2;6>=e;e++)g=_*d-y*f,v=y*d+_*f,_=g,y=v,b+=(e-1)*(this.B_re[e]*_-this.B_im[e]*y),M+=(e-1)*(this.B_im[e]*_+this.B_re[e]*y);_=1,y=0;var x=this.B_re[1],w=this.B_im[1];for(e=2;6>=e;e++)g=_*d-y*f,v=y*d+_*f,_=g,y=v,x+=e*(this.B_re[e]*_-this.B_im[e]*y),w+=e*(this.B_im[e]*_+this.B_re[e]*y);var E=x*x+w*w;d=(b*x+M*w)/E,f=(M*x-b*w)/E}var C=d,L=f,N=1,P=0;for(e=1;9>=e;e++)N*=C,P+=this.D[e]*N;var S=this.lat0+P*i*1e5,D=this.long0+L;return t.x=D,t.y=S,t},n.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(t,e,n){var i=t("../common/tsfnz"),o=t("../common/adjust_lon"),r=t("../common/phi2z"),s=Math.PI/2,a=Math.PI/4,l=1e-10;n.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=i(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));1>s*s&&(s=1);var a,l;if(isNaN(this.longc)){var h=i(this.e,this.lat1,Math.sin(this.lat1)),u=i(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(r,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(r,this.bl);var c=Math.pow(h,this.bl),p=Math.pow(u,this.bl);a=this.el/c,l=.5*(a-1/a);var d=(this.el*this.el-p*c)/(this.el*this.el+p*c),f=(p-c)/(p+c),m=o(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*m)/f)/this.bl,this.long0=o(this.long0);var g=o(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/l),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else a=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=a*Math.pow(r,this.bl),l=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},n.forward=function(t){var e,n,r,h=t.x,u=t.y,c=o(h-this.long0);if(Math.abs(Math.abs(u)-s)<=l)r=u>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(a+r*this.gamma0*.5)),e=-1*r*s*this.al/this.bl;else{var p=i(this.e,u,Math.sin(u)),d=this.el/Math.pow(p,this.bl),f=.5*(d-1/d),m=.5*(d+1/d),g=Math.sin(this.bl*c),v=(f*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/m;n=Math.abs(Math.abs(v)-1)<=l?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*c))<=l?this.al*this.bl*c:this.al*Math.atan2(f*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},n.inverse=function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),a=.5*(i-1/i),h=.5*(i+1/i),u=Math.sin(this.bl*e/this.al),c=(u*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/h,p=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<l?(t.x=this.long0,t.y=s):Math.abs(c+1)<l?(t.x=this.long0,t.y=-1*s):(t.y=r(this.e,p),t.x=o(this.long0-Math.atan2(a*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},n.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(t,e,n){var i=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/adjust_lon"),l=t("../common/adjust_lat"),h=t("../common/mlfn"),u=1e-10,c=t("../common/gN"),p=20;n.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},n.forward=function(t){var e,n,i,o=t.x,r=t.y,s=a(o-this.long0);if(i=s*Math.sin(r),this.sphere)Math.abs(r)<=u?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(r),n=this.a*(l(r-this.lat0)+(1-Math.cos(i))/Math.tan(r)));else if(Math.abs(r)<=u)e=this.a*s,n=-1*this.ml0;else{var p=c(this.a,this.e,Math.sin(r))/Math.tan(r);e=p*Math.sin(i),n=this.a*h(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+p*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},n.inverse=function(t){var e,n,i,o,r,s,l,c,d;if(i=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=u)e=a(i/this.a+this.long0),n=0;else{s=this.lat0+o/this.a,l=i*i/this.a/this.a+s*s,c=s;var f;for(r=p;r;--r)if(f=Math.tan(c),d=-1*(s*(c*f+1)-c-.5*(c*c+l)*f)/((c-s)/f-1),c+=d,Math.abs(d)<=u){n=c;break}e=a(this.long0+Math.asin(i*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(o+this.ml0)<=u)n=0,e=a(this.long0+i/this.a);else{s=(this.ml0+o)/this.a,l=i*i/this.a/this.a+s*s,c=s;var m,g,v,_,y;for(r=p;r;--r)if(y=this.e*Math.sin(c),m=Math.sqrt(1-y*y)*Math.tan(c),g=this.a*h(this.e0,this.e1,this.e2,this.e3,c),v=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),_=g/this.a,d=(s*(m*_+1)-_-.5*m*(_*_+l))/(this.es*Math.sin(2*c)*(_*_+l-2*s*_)/(4*m)+(s-_)*(m*v-2/Math.sin(2*c))-v),c-=d,Math.abs(d)<=u){n=c;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=a(this.long0+Math.asin(i*m/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},n.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],58:[function(t,e,n){var i=t("../common/adjust_lon"),o=t("../common/adjust_lat"),r=t("../common/pj_enfn"),s=20,a=t("../common/pj_mlfn"),l=t("../common/pj_inv_mlfn"),h=Math.PI/2,u=1e-10,c=t("../common/asinz");n.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=r(this.es)},n.forward=function(t){var e,n,o=t.x,r=t.y;if(o=i(o-this.long0),this.sphere){if(this.m)for(var l=this.n*Math.sin(r),h=s;h;--h){var c=(this.m*r+Math.sin(r)-l)/(this.m+Math.cos(r));if(r-=c,Math.abs(c)<u)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*o*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var p=Math.sin(r),d=Math.cos(r);n=this.a*a(r,p,d,this.en),e=this.a*o*d/Math.sqrt(1-this.es*p*p)}return t.x=e,t.y=n,t},n.inverse=function(t){var e,n,r,s;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=c((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=c(Math.sin(e)/this.n)),r=i(r+this.long0),e=o(e)):(e=l(t.y/this.a,this.es,this.en),s=Math.abs(e),h>s?(s=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),r=i(n)):h>s-u&&(r=this.long0)),t.x=r,t.y=e,t},n.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],59:[function(t,e,n){n.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,o=1/i,r=2*o-Math.pow(o,2),s=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*l+this.alpha*s/2*h},n.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,o=2*(Math.atan(Math.exp(i))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(r))),a=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},n.inverse=function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,o=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(o))),a=this.lambda0+s/this.alpha,l=0,h=r,u=-1e3,c=0;Math.abs(h-u)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=h,t},n.names=["somerc"]},{}],60:[function(t,e,n){var i=Math.PI/2,o=1e-10,r=t("../common/sign"),s=t("../common/msfnz"),a=t("../common/tsfnz"),l=t("../common/phi2z"),h=t("../common/adjust_lon");n.ssfn_=function(t,e,n){return e*=n,Math.tan(.5*(i+t))*Math.pow((1-e)/(1+e),.5*n)},n.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*(1+r(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=o&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*this.cons*s(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/a(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=s(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},n.forward=function(t){var e,n,r,s,l,u,c=t.x,p=t.y,d=Math.sin(p),f=Math.cos(p),m=h(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=o&&Math.abs(p+this.lat0)<=o?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*d+this.coslat0*f*Math.cos(m)),t.x=this.a*e*f*Math.sin(m)+this.x0,t.y=this.a*e*(this.coslat0*d-this.sinlat0*f*Math.cos(m))+this.y0,t):(n=2*Math.atan(this.ssfn_(p,d,this.e))-i,s=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=o?(l=a(this.e,p*this.con,this.con*d),u=2*this.a*this.k0*l/this.cons,t.x=this.x0+u*Math.sin(c-this.long0),t.y=this.y0-this.con*u*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<o?(e=2*this.a*this.k0/(1+s*Math.cos(m)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*s*Math.cos(m))),t.y=e*(this.cosX0*r-this.sinX0*s*Math.cos(m))+this.y0),t.x=e*s*Math.sin(m)+this.x0,t))},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,s,a,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,n=this.lat0,o>=u?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),e=h(Math.abs(this.coslat0)<o?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=o){if(o>=u)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=u*this.cons/(2*this.a*this.k0),n=this.con*l(this.e,r),e=this.con*h(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o>=u?a=this.X0:(a=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/u),e=h(this.long0+Math.atan2(t.x*Math.sin(s),u*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),n=-1*l(this.e,Math.tan(.5*(i+a)));return t.x=e,t.y=n,t},n.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],61:[function(t,e,n){var i=t("./gauss"),o=t("../common/adjust_lon");n.init=function(){i.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},n.forward=function(t){var e,n,r,s;return t.x=o(t.x-this.long0),i.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=s*n*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},n.inverse=function(t){var e,n,r,s,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(a,this.R2);e=Math.sin(l),n=Math.cos(l),s=Math.asin(n*this.sinc0+t.y*e*this.cosc0/a),r=Math.atan2(t.x*e,a*this.cosc0*n-t.y*this.sinc0*e)}else s=this.phic0,r=0;return t.x=r,t.y=s,i.inverse.apply(this,[t]),t.x=o(t.x+this.long0),t},n.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],62:[function(t,e,n){var i=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/mlfn"),l=t("../common/adjust_lon"),h=Math.PI/2,u=1e-10,c=t("../common/sign"),p=t("../common/asinz");n.init=function(){this.e0=i(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},n.forward=function(t){var e,n,i,o=t.x,r=t.y,s=l(o-this.long0),h=Math.sin(r),u=Math.cos(r);if(this.sphere){var c=u*Math.sin(s);if(Math.abs(Math.abs(c)-1)<1e-10)return 93;n=.5*this.a*this.k0*Math.log((1+c)/(1-c)),e=Math.acos(u*Math.cos(s)/Math.sqrt(1-c*c)),0>r&&(e=-e),i=this.a*this.k0*(e-this.lat0)}else{var p=u*s,d=Math.pow(p,2),f=this.ep2*Math.pow(u,2),m=Math.tan(r),g=Math.pow(m,2);e=1-this.es*Math.pow(h,2);var v=this.a/Math.sqrt(e),_=this.a*a(this.e0,this.e1,this.e2,this.e3,r);n=this.k0*v*p*(1+d/6*(1-g+f+d/20*(5-18*g+Math.pow(g,2)+72*f-58*this.ep2)))+this.x0,i=this.k0*(_-this.ml0+v*m*(d*(.5+d/24*(5-g+9*f+4*Math.pow(f,2)+d/30*(61-58*g+Math.pow(g,2)+600*f-330*this.ep2)))))+this.y0}return t.x=n,t.y=i,t},n.inverse=function(t){var e,n,i,o,r,s,a=6;if(this.sphere){var d=Math.exp(t.x/(this.a*this.k0)),f=.5*(d-1/d),m=this.lat0+t.y/(this.a*this.k0),g=Math.cos(m);e=Math.sqrt((1-g*g)/(1+f*f)),r=p(e),0>m&&(r=-r),s=0===f&&0===g?this.long0:l(Math.atan2(f,g)+this.long0)}else{var v=t.x-this.x0,_=t.y-this.y0;for(e=(this.ml0+_/this.k0)/this.a,n=e,o=0;i=(e+this.e1*Math.sin(2*n)-this.e2*Math.sin(4*n)+this.e3*Math.sin(6*n))/this.e0-n,n+=i,!(Math.abs(i)<=u);o++)if(o>=a)return 95;if(Math.abs(n)<h){var y=Math.sin(n),b=Math.cos(n),M=Math.tan(n),x=this.ep2*Math.pow(b,2),w=Math.pow(x,2),E=Math.pow(M,2),C=Math.pow(E,2);e=1-this.es*Math.pow(y,2);var L=this.a/Math.sqrt(e),N=L*(1-this.es)/e,P=v/(L*this.k0),S=Math.pow(P,2);r=n-L*M*S/N*(.5-S/24*(5+3*E+10*x-4*w-9*this.ep2-S/30*(61+90*E+298*x+45*C-252*this.ep2-3*w))),s=l(this.long0+P*(1-S/6*(1+2*E+x-S/20*(5-2*x+28*E-3*w+8*this.ep2+24*C)))/b)}else r=h*c(_),s=this.long0}return t.x=s,t.y=r,t},n.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],63:[function(t,e,n){var i=.017453292519943295,o=t("./tmerc");n.dependsOn="tmerc",n.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*i,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,o.init.apply(this),this.forward=o.forward,this.inverse=o.inverse)},n.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":62}],64:[function(t,e,n){var i=t("../common/adjust_lon"),o=Math.PI/2,r=1e-10,s=t("../common/asinz");n.init=function(){this.R=this.a},n.forward=function(t){var e,n,a=t.x,l=t.y,h=i(a-this.long0);Math.abs(l)<=r&&(e=this.x0+this.R*h,n=this.y0);var u=s(2*Math.abs(l/Math.PI));(Math.abs(h)<=r||Math.abs(Math.abs(l)-o)<=r)&&(e=this.x0,n=l>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var c=.5*Math.abs(Math.PI/h-h/Math.PI),p=c*c,d=Math.sin(u),f=Math.cos(u),m=f/(d+f-1),g=m*m,v=m*(2/d-1),_=v*v,y=Math.PI*this.R*(c*(m-_)+Math.sqrt(p*(m-_)*(m-_)-(_+p)*(g-_)))/(_+p);0>h&&(y=-y),e=this.x0+y;var b=p+m;return y=Math.PI*this.R*(v*b-c*Math.sqrt((_+p)*(p+1)-b*b))/(_+p),n=l>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t},n.inverse=function(t){var e,n,o,s,a,l,h,u,c,p,d,f,m;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,o=t.x/d,s=t.y/d,a=o*o+s*s,l=-Math.abs(s)*(1+a),h=l-2*s*s+o*o,u=-2*l+1+2*s*s+a*a,m=s*s/u+(2*h*h*h/u/u/u-9*l*h/u/u)/27,c=(l-h*h/3/u)/u,p=2*Math.sqrt(-c/3),d=3*m/c/p,Math.abs(d)>1&&(d=d>=0?1:-1),f=Math.acos(d)/3,n=t.y>=0?(-p*Math.cos(f+Math.PI/3)-h/3/u)*Math.PI:-(-p*Math.cos(f+Math.PI/3)-h/3/u)*Math.PI,e=Math.abs(o)<r?this.long0:i(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(o*o-s*s)+a*a))/2/o),t.x=e,t.y=n,t},n.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],65:[function(t,e,n){var i=.017453292519943295,o=57.29577951308232,r=1,s=2,a=t("./datum_transform"),l=t("./adjust_axis"),h=t("./Proj"),u=t("./common/toPoint");e.exports=function c(t,e,n){function p(t,e){return(t.datum.datum_type===r||t.datum.datum_type===s)&&"WGS84"!==e.datumCode}var d;return Array.isArray(n)&&(n=u(n)),t.datum&&e.datum&&(p(t,e)||p(e,t))&&(d=new h("WGS84"),c(t,d,n),t=d),"enu"!==t.axis&&l(t,!1,n),"longlat"===t.projName?(n.x*=i,n.y*=i):(t.to_meter&&(n.x*=t.to_meter,n.y*=t.to_meter),t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=a(t.datum,e.datum,n),e.from_greenwich&&(n.x-=e.from_greenwich),"longlat"===e.projName?(n.x*=o,n.y*=o):(e.forward(n),e.to_meter&&(n.x/=e.to_meter,n.y/=e.to_meter)),"enu"!==e.axis&&l(e,!0,n),n}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],66:[function(t,e,n){function i(t,e,n){t[e]=n.map(function(t){var e={};return o(t,e),e}).reduce(function(t,e){return h(t,e)},{})}function o(t,e){var n;return Array.isArray(t)?(n=t.shift(),"PARAMETER"===n&&(n=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[n]={},o(t[0],e[n])):e[n]=t[0]:t.length?"TOWGS84"===n?e[n]=t:(e[n]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(n)>-1?(e[n]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[n].auth=t[2])):"SPHEROID"===n?(e[n]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[n].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(n)>-1?(t[0]=["name",t[0]],i(e,n,t)):t.every(function(t){return Array.isArray(t)})?i(e,n,t):o(t,e[n])):e[n]=!0)):void(e[t]=!0)}function r(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}function s(t){return t*l}function a(t){function e(e){var n=t.to_meter||1;
return parseFloat(e,10)*n}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===t.datumCode||"new_zealand_1949"===t.datumCode)&&(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var n=function(e){return r(t,e)},i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]];i.forEach(n),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=s(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var l=.017453292519943295,h=t("./extend");e.exports=function(t,e){var n=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),i=n.shift(),r=n.shift();n.unshift(["name",r]),n.unshift(["type",i]),n.unshift("output");var s={};return o(n,s),a(s.output),h(e,s.output)}},{"./extend":34}],67:[function(t,e,n){function i(t){return t*(Math.PI/180)}function o(t){return 180*(t/Math.PI)}function r(t){var e,n,o,r,s,l,h,u,c,p=t.lat,d=t.lon,f=6378137,m=.00669438,g=.9996,v=i(p),_=i(d);c=Math.floor((d+180)/6)+1,180===d&&(c=60),p>=56&&64>p&&d>=3&&12>d&&(c=32),p>=72&&84>p&&(d>=0&&9>d?c=31:d>=9&&21>d?c=33:d>=21&&33>d?c=35:d>=33&&42>d&&(c=37)),e=6*(c-1)-180+3,u=i(e),n=m/(1-m),o=f/Math.sqrt(1-m*Math.sin(v)*Math.sin(v)),r=Math.tan(v)*Math.tan(v),s=n*Math.cos(v)*Math.cos(v),l=Math.cos(v)*(_-u),h=f*((1-m/4-3*m*m/64-5*m*m*m/256)*v-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*v)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*v)-35*m*m*m/3072*Math.sin(6*v));var y=g*o*(l+(1-r+s)*l*l*l/6+(5-18*r+r*r+72*s-58*n)*l*l*l*l*l/120)+5e5,b=g*(h+o*Math.tan(v)*(l*l/2+(5-r+9*s+4*s*s)*l*l*l*l/24+(61-58*r+r*r+600*s-330*n)*l*l*l*l*l*l/720));return 0>p&&(b+=1e7),{northing:Math.round(b),easting:Math.round(y),zoneNumber:c,zoneLetter:a(p)}}function s(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(0>r||r>60)return null;var a,l,h,u,c,p,d,f,m,g,v=.9996,_=6378137,y=.00669438,b=(1-Math.sqrt(1-y))/(1+Math.sqrt(1-y)),M=n-5e5,x=e;"N">i&&(x-=1e7),f=6*(r-1)-180+3,a=y/(1-y),d=x/v,m=d/(_*(1-y/4-3*y*y/64-5*y*y*y/256)),g=m+(3*b/2-27*b*b*b/32)*Math.sin(2*m)+(21*b*b/16-55*b*b*b*b/32)*Math.sin(4*m)+151*b*b*b/96*Math.sin(6*m),l=_/Math.sqrt(1-y*Math.sin(g)*Math.sin(g)),h=Math.tan(g)*Math.tan(g),u=a*Math.cos(g)*Math.cos(g),c=_*(1-y)/Math.pow(1-y*Math.sin(g)*Math.sin(g),1.5),p=M/(l*v);var w=g-l*Math.tan(g)/c*(p*p/2-(5+3*h+10*u-4*u*u-9*a)*p*p*p*p/24+(61+90*h+298*u+45*h*h-252*a-3*u*u)*p*p*p*p*p*p/720);w=o(w);var E=(p-(1+2*h+u)*p*p*p/6+(5-2*u+28*h-3*u*u+8*a+24*h*h)*p*p*p*p*p/120)/Math.cos(g);E=f+o(E);var C;if(t.accuracy){var L=s({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:L.lat,right:L.lon,bottom:w,left:E}}else C={lat:w,lon:E};return C}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function l(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+h(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function h(t,e,n){var i=u(n),o=Math.floor(t/1e5),r=Math.floor(e/1e5)%20;return c(o,r,i)}function u(t){var e=t%g;return 0===e&&(e=g),e}function c(t,e,n){var i=n-1,o=v.charCodeAt(i),r=_.charCodeAt(i),s=o+t-1,a=r+e,l=!1;s>w&&(s=s-w+y-1,l=!0),(s===b||b>o&&s>b||(s>b||b>o)&&l)&&s++,(s===M||M>o&&s>M||(s>M||M>o)&&l)&&(s++,s===b&&s++),s>w&&(s=s-w+y-1),a>x?(a=a-x+y-1,l=!0):l=!1,(a===b||b>r&&a>b||(a>b||b>r)&&l)&&a++,(a===M||M>r&&a>M||(a>M||M>r)&&l)&&(a++,a===b&&a++),a>x&&(a=a-x+y-1);var h=String.fromCharCode(s)+String.fromCharCode(a);return h}function p(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,o="",r=0;!/[A-Z]/.test(e=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;o+=e,r++}var s=parseInt(o,10);if(0===r||r+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(r++);if("A">=a||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(r,r+=2);for(var l=u(s),h=d(i.charAt(0),l),c=f(i.charAt(1),l);c<m(a);)c+=2e6;var p=n-r;if(p%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,v,_,y,b,M=p/2,x=0,w=0;return M>0&&(g=1e5/Math.pow(10,M),v=t.substring(r,r+M),x=parseFloat(v)*g,_=t.substring(r+M),w=parseFloat(_)*g),y=x+h,b=w+c,{easting:y,northing:b,zoneLetter:a,zoneNumber:s,accuracy:g}}function d(t,e){for(var n=v.charCodeAt(e-1),i=1e5,o=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===M&&n++,n>w){if(o)throw"Bad character: "+t;n=y,o=!0}i+=1e5}return i}function f(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=_.charCodeAt(e-1),i=0,o=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===M&&n++,n>x){if(o)throw"Bad character: "+t;n=y,o=!0}i+=1e5}return i}function m(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var g=6,v="AJSAJS",_="AFAFAF",y=65,b=73,M=79,x=86,w=90;n.forward=function(t,e){return e=e||5,l(r({lat:t[1],lon:t[0]}),e)},n.inverse=function(t){var e=s(p(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},n.toPoint=function(t){var e=s(p(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],68:[function(t,e,n){e.exports={name:"proj4",version:"2.3.12",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"}}},{}],"./includedProjections":[function(t,e,n){e.exports=t("hTEDpn")},{}],hTEDpn:[function(t,e,n){var i=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd")];e.exports=function(t){i.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/poly":57,"./lib/projections/sinu":58,"./lib/projections/somerc":59,"./lib/projections/stere":60,"./lib/projections/sterea":61,"./lib/projections/tmerc":62,"./lib/projections/utm":63,"./lib/projections/vandg":64}]},{},[36])(36)})},function(t,e,n){var i,i;!function(e){t.exports=e()}(function(){return function t(e,n,o){function r(a,l){if(!n[a]){if(!e[a]){var h="function"==typeof i&&i;if(!l&&h)return i(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var s="function"==typeof i&&i,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=e,this.z=i||0;this.clone=function(){return new n(this.x,this.y,this.z)},this.toArray=function(){return this.z?[this.x,this.y,this.z]:[this.x,this.y]},this.toString=function(){return this.z?"x="+this.x+",y="+this.y+",z="+this.z:"x="+this.x+",y="+this.y},this.toShortString=function(){return this.z?this.x+","+this.y+","+this.z:this.x+","+this.y}}var i=t("mgrs");n.fromMGRS=function(t){return new n(i.toPoint(t))},n.prototype.toMGRS=function(t){return i.forward([this.x,this.y],t)},e.exports=n},{mgrs:65}],2:[function(t,e){function n(t){if(!(this instanceof n))return new n(t);this.srsCodeInput=t,this.x0=0,this.y0=0;var e;"string"==typeof t?t in o?(this.deriveConstants(o[t]),i(this,o[t])):t.indexOf("GEOGCS")>=0||t.indexOf("GEOCCS")>=0||t.indexOf("PROJCS")>=0||t.indexOf("LOCAL_CS")>=0?(e=l(t),this.deriveConstants(e),i(this,e)):"+"===t[0]&&(e=h(t),this.deriveConstants(e),i(this,e)):(this.deriveConstants(t),i(this,t)),this.initTransforms(this.projName)}var i=t("./extend"),o=t("./defs"),r={};r.grids=t("./constants/grids"),r.Datum=t("./constants/Datum"),r.Ellipsoid=t("./constants/Ellipsoid");var s=t("./datum"),a=t("./projections/index"),l=t("./wkt"),h=t("./projString"),u=1e-10,c=.16666666666666666,p=.04722222222222222,d=.022156084656084655;n.projections=a,n.projections.start(),n.prototype={initTransforms:function(t){var e=n.projections.get(t);if(!e)throw"unknown projection "+t;i(this,e),this.init()},deriveConstants:function(t){if(t.nadgrids&&0===t.nadgrids.length&&(t.nadgrids=null),t.nadgrids){t.grids=t.nadgrids.split(",");var e=null,n=t.grids.length;if(n>0)for(var o=0;n>o;o++){e=t.grids[o];var a=e.split("@");""!==a[a.length-1]&&(t.grids[o]={mandatory:1===a.length,name:a[a.length-1],grid:r.grids[a[a.length-1]]},t.grids[o].mandatory&&!t.grids[o].grid)}}if(t.datumCode&&"none"!==t.datumCode){var l=r.Datum[t.datumCode];l&&(t.datum_params=l.towgs84?l.towgs84.split(","):null,t.ellps=l.ellipse,t.datumName=l.datumName?l.datumName:t.datumCode)}if(!t.a){var h=r.Ellipsoid[t.ellps]?r.Ellipsoid[t.ellps]:r.Ellipsoid.WGS84;i(t,h)}t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<u)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(c+t.es*(p+t.es*d)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum=s(t)}},e.exports=n},{"./constants/Datum":24,"./constants/Ellipsoid":25,"./constants/grids":27,"./datum":29,"./defs":31,"./extend":32,"./projString":35,"./projections/index":44,"./wkt":64}],3:[function(t,e){e.exports=function(t,e,n){var i,o,r,s=n.x,a=n.y,l=n.z||0;for(r=0;3>r;r++)if(!e||2!==r||void 0!==n.z)switch(0===r?(i=s,o="x"):1===r?(i=a,o="y"):(i=l,o="z"),t.axis[r]){case"e":n[o]=i;break;case"w":n[o]=-i;break;case"n":n[o]=i;break;case"s":n[o]=-i;break;case"u":void 0!==n[o]&&(n.z=i);break;case"d":void 0!==n[o]&&(n.z=-i);break;default:return null}return n}},{}],4:[function(t,e){var n=Math.PI/2,i=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-i(t)*Math.PI}},{"./sign":21}],5:[function(t,e){var n=2*Math.PI,i=t("./sign");e.exports=function(t){return Math.abs(t)<Math.PI?t:t-i(t)*n}},{"./sign":21}],6:[function(t,e){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e){e.exports=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}},{}],12:[function(t,e){e.exports=function(t,e,n,i,o){var r,s;r=t/e;for(var a=0;15>a;a++)if(s=(t-(e*r-n*Math.sin(2*r)+i*Math.sin(4*r)-o*Math.sin(6*r)))/(e-2*n*Math.cos(2*r)+4*i*Math.cos(4*r)-6*o*Math.cos(6*r)),r+=s,Math.abs(s)<=1e-10)return r;return NaN}},{}],13:[function(t,e){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var o,r,s,a,l=Math.asin(.5*e),h=0;30>h;h++)if(r=Math.sin(l),s=Math.cos(l),a=t*r,o=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),l+=o,Math.abs(o)<=1e-10)return l;return NaN}},{}],14:[function(t,e){e.exports=function(t,e,n,i,o){return t*o-e*Math.sin(2*o)+n*Math.sin(4*o)-i*Math.sin(6*o)}},{}],15:[function(t,e){e.exports=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}},{}],16:[function(t,e){var n=Math.PI/2;e.exports=function(t,e){for(var i,o,r=.5*t,s=n-2*Math.atan(e),a=0;15>=a;a++)if(i=t*Math.sin(s),o=n-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-s,s+=o,Math.abs(o)<=1e-10)return s;return-9999}},{}],17:[function(t,e){var n=1,i=.25,o=.046875,r=.01953125,s=.01068115234375,a=.75,l=.46875,h=.013020833333333334,u=.007120768229166667,c=.3645833333333333,p=.005696614583333333,d=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(i+t*(o+t*(r+t*s))),e[1]=t*(a-t*(o+t*(r+t*s)));var f=t*t;return e[2]=f*(l-t*(h+t*u)),f*=t,e[3]=f*(c-t*p),e[4]=f*t*d,e}},{}],18:[function(t,e){var n=t("./pj_mlfn"),i=1e-10,o=20;e.exports=function(t,e,r){for(var s=1/(1-e),a=t,l=o;l;--l){var h=Math.sin(a),u=1-e*h*h;if(u=(n(a,h,Math.cos(a),r)-t)*u*Math.sqrt(u)*s,a-=u,Math.abs(u)<i)return a}return a}},{"./pj_mlfn":19}],19:[function(t,e){e.exports=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}},{}],20:[function(t,e){e.exports=function(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}},{}],21:[function(t,e){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e){var n=Math.PI/2;e.exports=function(t,e,i){var o=t*i,r=.5*t;return o=Math.pow((1-o)/(1+o),r),Math.tan(.5*(n-e))/o}},{}],24:[function(t,e,n){n.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},n.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},n.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},n.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},n.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},n.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},n.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},n.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},n.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},n.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},n.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},n.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},n.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},n.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},n.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"}},{}],25:[function(t,e,n){n.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},n.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},n.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},n.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},n.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},n.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},n.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},n.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},n.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},n.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},n.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},n.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},n.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},n.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},n.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},n.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},n.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},n.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},n.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},n.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},n.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},n.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},n.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},n.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},n.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},n.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},n.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},n.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},n.hough={a:6378270,rf:297,ellipseName:"Hough"},n.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},n.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},n.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},n.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},n.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},n.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},n.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},n.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},n.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},n.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},n.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},n.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},n.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},n.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],26:[function(t,e,n){n.greenwich=0,n.lisbon=-9.131906111111,n.paris=2.337229166667,n.bogota=-74.080916666667,n.madrid=-3.687938888889,n.rome=12.452333333333,n.bern=7.439583333333,n.jakarta=106.807719444444,n.ferro=-17.666666666667,n.brussels=4.367975,n.stockholm=18.058277777778,n.athens=23.7163375,n.oslo=10.722916666667},{}],27:[function(t,e,n){n["null"]={ll:[-3.14159265,-1.57079633],del:[3.14159265,1.57079633],lim:[3,3],count:9,cvs:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]]}},{}],28:[function(t,e){function n(t,e,n){var i;return Array.isArray(n)?(i=a(t,e,r(n)),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):a(t,e,n)}function i(t){return t instanceof s?t:t.oProj?t.oProj:s(t)}function o(t,e,o){t=i(t);var r,s=!1;return"undefined"==typeof e?(e=t,t=l,s=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(o=e,e=t,t=l,s=!0),e=i(e),o?n(t,e,o):(r={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},s&&(r.oProj=e),r)}var r=t("./Point"),s=t("./Proj"),a=t("./transform"),l=s("WGS84");e.exports=o},{"./Point":1,"./Proj":2,"./transform":62}],29:[function(t,e){var n=Math.PI/2,i=1,o=2,r=3,s=4,a=5,l=484813681109536e-20,h=1.0026,u=.3826834323650898,c=function(t){if(!(this instanceof c))return new c(t);if(this.datum_type=s,t){if(t.datumCode&&"none"===t.datumCode&&(this.datum_type=a),t.datum_params){for(var e=0;e<t.datum_params.length;e++)t.datum_params[e]=parseFloat(t.datum_params[e]);(0!==t.datum_params[0]||0!==t.datum_params[1]||0!==t.datum_params[2])&&(this.datum_type=i),t.datum_params.length>3&&(0!==t.datum_params[3]||0!==t.datum_params[4]||0!==t.datum_params[5]||0!==t.datum_params[6])&&(this.datum_type=o,t.datum_params[3]*=l,t.datum_params[4]*=l,t.datum_params[5]*=l,t.datum_params[6]=t.datum_params[6]/1e6+1)}this.datum_type=t.grids?r:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_params=t.datum_params,this.datum_type===r&&(this.grids=t.grids)}};c.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===i?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===o?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===r||t.datum_type===r?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var e,i,o,r,s,a,l,h=t.x,u=t.y,c=t.z?t.z:0,p=0;if(-n>u&&u>-1.001*n)u=-n;else if(u>n&&1.001*n>u)u=n;else if(-n>u||u>n)return null;return h>Math.PI&&(h-=2*Math.PI),s=Math.sin(u),l=Math.cos(u),a=s*s,r=this.a/Math.sqrt(1-this.es*a),e=(r+c)*l*Math.cos(h),i=(r+c)*l*Math.sin(h),o=(r*(1-this.es)+c)*s,t.x=e,t.y=i,t.z=o,p},geocentric_to_geodetic:function(t){var e,i,o,r,s,a,l,h,u,c,p,d,f,m,g,v,_,y=1e-12,b=y*y,M=30,x=t.x,w=t.y,E=t.z?t.z:0;if(f=!1,e=Math.sqrt(x*x+w*w),i=Math.sqrt(x*x+w*w+E*E),e/this.a<y){if(f=!0,g=0,i/this.a<y)return v=n,void(_=-this.b)}else g=Math.atan2(w,x);o=E/i,r=e/i,s=1/Math.sqrt(1-this.es*(2-this.es)*r*r),h=r*(1-this.es)*s,u=o*s,m=0;do m++,l=this.a/Math.sqrt(1-this.es*u*u),_=e*h+E*u-l*(1-this.es*u*u),a=this.es*l/(l+_),s=1/Math.sqrt(1-a*(2-a)*r*r),c=r*(1-a)*s,p=o*s,d=p*h-c*u,h=c,u=p;while(d*d>b&&M>m);return v=Math.atan(p/Math.abs(c)),t.x=g,t.y=v,t.z=_,t},geocentric_to_geodetic_noniter:function(t){var e,i,o,r,s,a,l,c,p,d,f,m,g,v,_,y,b,M=t.x,x=t.y,w=t.z?t.z:0;if(M=parseFloat(M),x=parseFloat(x),w=parseFloat(w),b=!1,0!==M)e=Math.atan2(x,M);else if(x>0)e=n;else if(0>x)e=-n;else if(b=!0,e=0,w>0)i=n;else{if(!(0>w))return i=n,void(o=-this.b);i=-n}return s=M*M+x*x,r=Math.sqrt(s),a=w*h,c=Math.sqrt(a*a+s),d=a/c,m=r/c,f=d*d*d,l=w+this.b*this.ep2*f,y=r-this.a*this.es*m*m*m,p=Math.sqrt(l*l+y*y),g=l/p,v=y/p,_=this.a/Math.sqrt(1-this.es*g*g),o=v>=u?r/v-_:-u>=v?r/-v-_:w/g+_*(this.es-1),b===!1&&(i=Math.atan(g/v)),t.x=e,t.y=i,t.z=o,t},geocentric_to_wgs84:function(t){if(this.datum_type===i)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===o){var e=this.datum_params[0],n=this.datum_params[1],r=this.datum_params[2],s=this.datum_params[3],a=this.datum_params[4],l=this.datum_params[5],h=this.datum_params[6],u=h*(t.x-l*t.y+a*t.z)+e,c=h*(l*t.x+t.y-s*t.z)+n,p=h*(-a*t.x+s*t.y+t.z)+r;t.x=u,t.y=c,t.z=p}},geocentric_from_wgs84:function(t){if(this.datum_type===i)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===o){var e=this.datum_params[0],n=this.datum_params[1],r=this.datum_params[2],s=this.datum_params[3],a=this.datum_params[4],l=this.datum_params[5],h=this.datum_params[6],u=(t.x-e)/h,c=(t.y-n)/h,p=(t.z-r)/h;t.x=u+l*c-a*p,t.y=-l*u+c+s*p,t.z=a*u-s*c+p}}},e.exports=c},{}],30:[function(t,e){var n=1,i=2,o=3,r=5,s=6378137,a=.006694379990141316;e.exports=function(t,e,l){function h(t){return t===n||t===i}var u,c,p;if(t.compare_datums(e))return l;if(t.datum_type===r||e.datum_type===r)return l;var d=t.a,f=t.es,m=e.a,g=e.es,v=t.datum_type;if(v===o)if(0===this.apply_gridshift(t,0,l))t.a=s,t.es=a;else{if(!t.datum_params)return t.a=d,t.es=t.es,l;for(u=1,c=0,p=t.datum_params.length;p>c;c++)u*=t.datum_params[c];if(0===u)return t.a=d,t.es=t.es,l;v=t.datum_params.length>3?i:n}return e.datum_type===o&&(e.a=s,e.es=a),(t.es!==e.es||t.a!==e.a||h(v)||h(e.datum_type))&&(t.geodetic_to_geocentric(l),h(t.datum_type)&&t.geocentric_to_wgs84(l),h(e.datum_type)&&e.geocentric_from_wgs84(l),e.geocentric_to_geodetic(l)),e.datum_type===o&&this.apply_gridshift(e,1,l),t.a=d,t.es=f,e.a=m,e.es=g,l}},{}],31:[function(t,e){function n(t){var e=this;if(2===arguments.length)n[t]="+"===arguments[1][0]?o(arguments[1]):r(arguments[1]);else if(1===arguments.length)return Array.isArray(t)?t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)}):void("string"==typeof t||("EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t)))}var i=t("./global"),o=t("./projString"),r=t("./wkt");i(n),e.exports=n},{"./global":33,"./projString":35,"./wkt":64}],32:[function(t,e){e.exports=function(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],void 0!==n&&(t[i]=n);return t}},{}],33:[function(t,e){e.exports=function(t){t("WGS84","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],34:[function(t,e){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("./version"),e.exports=n},{"./Point":1,"./Proj":2,"./core":28,"./defs":31,"./transform":62,"./version":63,mgrs:65}],35:[function(t,e){var n=.017453292519943295,i=t("./constants/PrimeMeridian");e.exports=function(t){var e={},o={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),o[e[0].toLowerCase()]=e[1]});var r,s,a,l={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t,10)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t,10)},y_0:function(t){e.y0=parseFloat(t,10)},k_0:function(t){e.k0=parseFloat(t,10)},k:function(t){e.k0=parseFloat(t,10)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t,10)})},to_meter:function(t){e.to_meter=parseFloat(t,10)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(i[t]?i[t]:parseFloat(t,10))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var n="ewnsud";3===t.length&&-1!==n.indexOf(t.substr(0,1))&&-1!==n.indexOf(t.substr(1,1))&&-1!==n.indexOf(t.substr(2,1))&&(e.axis=t)}};for(r in o)s=o[r],r in l?(a=l[r],"function"==typeof a?a(s):e[a]=s):e[r]=s;return e}},{"./constants/PrimeMeridian":26}],36:[function(t,e,n){var i=1e-10,o=t("../common/msfnz"),r=t("../common/qsfnz"),s=t("../common/adjust_lon"),a=t("../common/asinz");n.init=function(){Math.abs(this.lat1+this.lat2)<i||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=o(this.e3,this.sin_po,this.cos_po),this.qs1=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=o(this.e3,this.sin_po,this.cos_po),this.qs2=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=r(this.e3,this.sin_po,this.cos_po),this.ns0=Math.abs(this.lat1-this.lat2)>i?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},n.forward=function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=r(this.e3,this.sin_phi,this.cos_phi),o=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,a=this.ns0*s(e-this.long0),l=o*Math.sin(a)+this.x0,h=this.rh-o*Math.cos(a)+this.y0;return t.x=l,t.y=h,t},n.inverse=function(t){var e,n,i,o,r,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),o=0,0!==e&&(o=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),r=s(o/this.ns0+this.long0),t.x=r,t.y=a,t},n.phi1z=function(t,e){var n,o,r,s,l,h=a(.5*e);if(i>t)return h;for(var u=t*t,c=1;25>=c;c++)if(n=Math.sin(h),o=Math.cos(h),r=t*n,s=1-r*r,l=.5*s*s/o*(e/(1-u)-n/s+.5/t*Math.log((1-r)/(1+r))),h+=l,Math.abs(l)<=1e-7)return h;return null},n.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20
}],37:[function(t,e,n){var i=t("../common/adjust_lon"),o=Math.PI/2,r=1e-10,s=t("../common/mlfn"),a=t("../common/e0fn"),l=t("../common/e1fn"),h=t("../common/e2fn"),u=t("../common/e3fn"),c=t("../common/gN"),p=t("../common/asinz"),d=t("../common/imlfn");n.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},n.forward=function(t){var e,n,p,d,f,m,g,v,_,y,b,M,x,w,E,C,L,N,P,S,D,k,O,T=t.x,I=t.y,A=Math.sin(t.y),R=Math.cos(t.y),U=i(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=r?(t.x=this.x0+this.a*(o-I)*Math.sin(U),t.y=this.y0-this.a*(o-I)*Math.cos(U),t):Math.abs(this.sin_p12+1)<=r?(t.x=this.x0+this.a*(o+I)*Math.sin(U),t.y=this.y0+this.a*(o+I)*Math.cos(U),t):(N=this.sin_p12*A+this.cos_p12*R*Math.cos(U),C=Math.acos(N),L=C/Math.sin(C),t.x=this.x0+this.a*L*R*Math.sin(U),t.y=this.y0+this.a*L*(this.cos_p12*A-this.sin_p12*R*Math.cos(U)),t):(e=a(this.es),n=l(this.es),p=h(this.es),d=u(this.es),Math.abs(this.sin_p12-1)<=r?(f=this.a*s(e,n,p,d,o),m=this.a*s(e,n,p,d,I),t.x=this.x0+(f-m)*Math.sin(U),t.y=this.y0-(f-m)*Math.cos(U),t):Math.abs(this.sin_p12+1)<=r?(f=this.a*s(e,n,p,d,o),m=this.a*s(e,n,p,d,I),t.x=this.x0+(f+m)*Math.sin(U),t.y=this.y0+(f+m)*Math.cos(U),t):(g=A/R,v=c(this.a,this.e,this.sin_p12),_=c(this.a,this.e,A),y=Math.atan((1-this.es)*g+this.es*v*this.sin_p12/(_*R)),b=Math.atan2(Math.sin(U),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(U)),P=0===b?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(b)-Math.PI)<=r?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(U)*Math.cos(y)/Math.sin(b)),M=this.e*this.sin_p12/Math.sqrt(1-this.es),x=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),w=M*x,E=x*x,S=P*P,D=S*P,k=D*P,O=k*P,C=v*P*(1-S*E*(1-E)/6+D/8*w*(1-2*E)+k/120*(E*(4-7*E)-3*M*M*(1-7*E))-O/48*w),t.x=this.x0+C*Math.sin(b),t.y=this.y0+C*Math.cos(b),t))},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,f,m,g,v,_,y,b,M,x,w,E,C,L,N,P,S,D,k,O,T,I;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*o*this.a)return;return n=e/this.a,f=Math.sin(n),m=Math.cos(n),g=this.long0,Math.abs(e)<=r?v=this.lat0:(v=p(m*this.sin_p12+t.y*f*this.cos_p12/e),_=Math.abs(this.lat0)-o,g=i(Math.abs(_)<=r?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*f,e*this.cos_p12*m-t.y*this.sin_p12*f))),t.x=g,t.y=v,t}return y=a(this.es),b=l(this.es),M=h(this.es),x=u(this.es),Math.abs(this.sin_p12-1)<=r?(w=this.a*s(y,b,M,x,o),e=Math.sqrt(t.x*t.x+t.y*t.y),E=w-e,v=d(E/this.a,y,b,M,x),g=i(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=v,t):Math.abs(this.sin_p12+1)<=r?(w=this.a*s(y,b,M,x,o),e=Math.sqrt(t.x*t.x+t.y*t.y),E=e-w,v=d(E/this.a,y,b,M,x),g=i(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),N=Math.atan2(t.x,t.y),C=c(this.a,this.e,this.sin_p12),P=Math.cos(N),S=this.e*this.cos_p12*P,D=-S*S/(1-this.es),k=3*this.es*(1-D)*this.sin_p12*this.cos_p12*P/(1-this.es),O=e/C,T=O-D*(1+D)*Math.pow(O,3)/6-k*(1+3*D)*Math.pow(O,4)/24,I=1-D*T*T/2-O*T*T*T/6,L=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*P),g=i(this.long0+Math.asin(Math.sin(N)*Math.sin(T)/Math.cos(L))),v=Math.atan((1-this.es*I*this.sin_p12/Math.sin(L))*Math.tan(L)/(1-this.es)),t.x=g,t.y=v,t)},n.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],38:[function(t,e,n){var i=t("../common/mlfn"),o=t("../common/e0fn"),r=t("../common/e1fn"),s=t("../common/e2fn"),a=t("../common/e3fn"),l=t("../common/gN"),h=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),p=Math.PI/2,d=1e-10;n.init=function(){this.sphere||(this.e0=o(this.es),this.e1=r(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*i(this.e0,this.e1,this.e2,this.e3,this.lat0))},n.forward=function(t){var e,n,o=t.x,r=t.y;if(o=h(o-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(o)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(o))-this.lat0);else{var s=Math.sin(r),a=Math.cos(r),u=l(this.a,this.e,s),c=Math.tan(r)*Math.tan(r),p=o*Math.cos(r),d=p*p,f=this.es*a*a/(1-this.es),m=this.a*i(this.e0,this.e1,this.e2,this.e3,r);e=u*p*(1-d*c*(1/6-(8-c+8*f)*d/120)),n=m-this.ml0+u*s/a*d*(.5+(5-c+6*f)*d/24)}return t.x=e+this.x0,t.y=n+this.y0,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,o=t.y/this.a;if(this.sphere){var r=o+this.lat0;e=Math.asin(Math.sin(r)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(r))}else{var s=this.ml0/this.a+o,a=c(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-p)<=d)return t.x=this.long0,t.y=p,0>o&&(t.y*=-1),t;var f=l(this.a,this.e,Math.sin(a)),m=f*f*f/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(a),2),v=i*this.a/f,_=v*v;e=a-f*Math.tan(a)/m*v*v*(.5-(1+3*g)*v*v/24),n=v*(1-_*(g/3+(1+3*g)*g*_/15))/Math.cos(a)}return t.x=h(n+this.long0),t.y=u(e),t},n.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],39:[function(t,e,n){var i=t("../common/adjust_lon"),o=t("../common/qsfnz"),r=t("../common/msfnz"),s=t("../common/iqsfnz");n.init=function(){this.sphere||(this.k0=r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},n.forward=function(t){var e,n,r=t.x,s=t.y,a=i(r-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var l=o(this.e,Math.sin(s));e=this.x0+this.a*this.k0*a,n=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=n,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=i(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=s(this.e,2*t.y*this.k0/this.a),e=i(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},n.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],40:[function(t,e,n){var i=t("../common/adjust_lon"),o=t("../common/adjust_lat");n.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},n.forward=function(t){var e=t.x,n=t.y,r=i(e-this.long0),s=o(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*s,t},n.inverse=function(t){var e=t.x,n=t.y;return t.x=i(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=o(this.lat0+(n-this.y0)/this.a),t},n.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],41:[function(t,e,n){var i=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/msfnz"),l=t("../common/mlfn"),h=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),p=1e-10;n.init=function(){Math.abs(this.lat1+this.lat2)<p||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<p?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},n.forward=function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var o=l(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-o)}var r=this.ns*h(n-this.long0),s=this.x0+e*Math.sin(r),a=this.y0+this.rh-e*Math.cos(r);return t.x=s,t.y=a,t},n.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,o;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;if(0!==n&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere)return o=h(this.long0+r/this.ns),i=u(this.g-n/this.a),t.x=o,t.y=i,t;var s=this.g-n/this.a;return i=c(s,this.e0,this.e1,this.e2,this.e3),o=h(this.long0+r/this.ns),t.x=o,t.y=i,t},n.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],42:[function(t,e,n){var i=Math.PI/4,o=t("../common/srat"),r=Math.PI/2,s=20;n.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+i)/(Math.pow(Math.tan(.5*this.lat0+i),this.C)*o(this.e*t,this.ratexp))},n.forward=function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+i),this.C)*o(this.e*Math.sin(n),this.ratexp))-r,t.x=this.C*e,t},n.inverse=function(t){for(var e=1e-14,n=t.x/this.C,a=t.y,l=Math.pow(Math.tan(.5*a+i)/this.K,1/this.C),h=s;h>0&&(a=2*Math.atan(l*o(this.e*Math.sin(t.y),-.5*this.e))-r,!(Math.abs(a-t.y)<e));--h)t.y=a;return h?(t.x=n,t.y=a,t):null},n.names=["gauss"]},{"../common/srat":22}],43:[function(t,e,n){var i=t("../common/adjust_lon"),o=1e-10,r=t("../common/asinz");n.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},n.forward=function(t){var e,n,r,s,a,l,h,u,c=t.x,p=t.y;return r=i(c-this.long0),e=Math.sin(p),n=Math.cos(p),s=Math.cos(r),l=this.sin_p14*e+this.cos_p14*n*s,a=1,l>0||Math.abs(l)<=o?(h=this.x0+this.a*a*n*Math.sin(r)/l,u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*s)/l):(h=this.x0+this.infinity_dist*n*Math.sin(r),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*s)),t.x=h,t.y=u,t},n.inverse=function(t){var e,n,o,s,a,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),n=Math.sin(s),o=Math.cos(s),l=r(o*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.atan2(t.x*n,e*this.cos_p14*o-t.y*this.sin_p14*n),a=i(this.long0+a)):(l=this.phic0,a=0),t.x=a,t.y=l,t},n.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],44:[function(t,e,n){function i(t,e){var n=s.length;return t.names?(s[n]=t,t.names.forEach(function(t){r[t.toLowerCase()]=n}),this):(console.log(e),!0)}var o=[t("./tmerc"),t("./utm"),t("./sterea"),t("./stere"),t("./somerc"),t("./omerc"),t("./lcc"),t("./krovak"),t("./cass"),t("./laea"),t("./merc"),t("./aea"),t("./gnom"),t("./cea"),t("./eqc"),t("./poly"),t("./nzmg"),t("./mill"),t("./sinu"),t("./moll"),t("./eqdc"),t("./vandg"),t("./aeqd"),t("./longlat")],r={},s=[];n.add=i,n.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof r[e]&&s[r[e]]?s[r[e]]:void 0},n.start=function(){o.forEach(i)}},{"./aea":36,"./aeqd":37,"./cass":38,"./cea":39,"./eqc":40,"./eqdc":41,"./gnom":43,"./krovak":45,"./laea":46,"./lcc":47,"./longlat":48,"./merc":49,"./mill":50,"./moll":51,"./nzmg":52,"./omerc":53,"./poly":54,"./sinu":55,"./somerc":56,"./stere":57,"./sterea":58,"./tmerc":59,"./utm":60,"./vandg":61}],45:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},n.forward=function(t){var e,n,o,r,s,a,l,h=t.x,u=t.y,c=i(h-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),o=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),s=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(r)),a=this.n*s,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=l*Math.cos(a)/1,t.x=l*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},n.inverse=function(t){var e,n,i,o,r,s,a,l,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x),o=r/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),n=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,u+=1;while(0===l&&15>u);return u>=15?null:t},n.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],46:[function(t,e,n){var i=Math.PI/2,o=Math.PI/4,r=1e-10,s=t("../common/qsfnz"),a=t("../common/adjust_lon");n.S_POLE=1,n.N_POLE=2,n.EQUIT=3,n.OBLIQ=4,n.init=function(){var t=Math.abs(this.lat0);if(this.mode=Math.abs(t-i)<r?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<r?this.EQUIT:this.OBLIQ,this.es>0){var e;switch(this.qp=s(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=s(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},n.forward=function(t){var e,n,l,h,u,c,p,d,f,m,g=t.x,v=t.y;if(g=a(g-this.long0),this.sphere){if(u=Math.sin(v),m=Math.cos(v),l=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+m*l:1+this.sinph0*u+this.cosph0*m*l,r>=n)return null;n=Math.sqrt(2/n),e=n*m*Math.sin(g),n*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*m*l}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),Math.abs(v+this.phi0)<r)return null;n=o-.5*v,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(g),n*=l}}else{switch(p=0,d=0,f=0,l=Math.cos(g),h=Math.sin(g),u=Math.sin(v),c=s(this.e,u),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=c/this.qp,d=Math.sqrt(1-p*p)),this.mode){case this.OBLIQ:f=1+this.sinb1*p+this.cosb1*d*l;break;case this.EQUIT:f=1+d*l;break;case this.N_POLE:f=i+v,c=this.qp-c;break;case this.S_POLE:f=v-i,c=this.qp+c}if(Math.abs(f)<r)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),n=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*p-this.sinb1*d*l):(f=Math.sqrt(2/(1+d*l)))*p*this.ymf,e=this.xmf*f*d*h;break;case this.N_POLE:case this.S_POLE:c>=0?(e=(f=Math.sqrt(c))*h,n=l*(this.mode===this.S_POLE?f:-f)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,o,s,l,h,u,c=t.x/this.a,p=t.y/this.a;if(this.sphere){var d,f=0,m=0;if(d=Math.sqrt(c*c+p*p),n=.5*d,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=r?0:Math.asin(p*m/d),c*=m,p=f*d;break;case this.OBLIQ:n=Math.abs(d)<=r?this.phi0:Math.asin(f*this.sinph0+p*m*this.cosph0/d),c*=m*this.cosph0,p=(f-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:p=-p,n=i-n;break;case this.S_POLE:n-=i}e=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,p):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,p*=this.dd,h=Math.sqrt(c*c+p*p),r>h)return t.x=0,t.y=this.phi0,t;s=2*Math.asin(.5*h/this.rq),o=Math.cos(s),c*=s=Math.sin(s),this.mode===this.OBLIQ?(u=o*this.sinb1+p*s*this.cosb1/h,l=this.qp*u,p=h*this.cosb1*o-p*this.sinb1*s):(u=p*s/h,l=this.qp*u,p=h*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),l=c*c+p*p,!l)return t.x=0,t.y=this.phi0,t;u=1-l/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(c,p),n=this.authlat(Math.asin(u),this.apa)}return t.x=a(this.long0+e),t.y=n,t},n.P00=.3333333333333333,n.P01=.17222222222222222,n.P02=.10257936507936508,n.P10=.06388888888888888,n.P11=.0664021164021164,n.P20=.016415012942191543,n.authset=function(t){var e,n=[];return n[0]=t*this.P00,e=t*t,n[0]+=e*this.P01,n[1]=e*this.P10,e*=t,n[0]+=e*this.P02,n[1]+=e*this.P11,n[2]=e*this.P20,n},n.authlat=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)},n.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],47:[function(t,e,n){var i=1e-10,o=t("../common/msfnz"),r=t("../common/tsfnz"),s=Math.PI/2,a=t("../common/sign"),l=t("../common/adjust_lon"),h=t("../common/phi2z");n.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),!(Math.abs(this.lat1+this.lat2)<i)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),s=o(this.e,e,n),a=r(this.e,this.lat1,e),l=Math.sin(this.lat2),h=Math.cos(this.lat2),u=o(this.e,l,h),c=r(this.e,this.lat2,l),p=r(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>i?Math.log(s/u)/Math.log(a/c):e,isNaN(this.ns)&&(this.ns=e),this.f0=s/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(p,this.ns),this.title||(this.title="Lambert Conformal Conic")}},n.forward=function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=i&&(n=a(n)*(s-2*i));var o,h,u=Math.abs(Math.abs(n)-s);if(u>i)o=r(this.e,n,Math.sin(n)),h=this.a*this.f0*Math.pow(o,this.ns);else{if(u=n*this.ns,0>=u)return null;h=0}var c=this.ns*l(e-this.long0);return t.x=this.k0*h*Math.sin(c)+this.x0,t.y=this.k0*(this.rh-h*Math.cos(c))+this.y0,t},n.inverse=function(t){var e,n,i,o,r,a=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+u*u),n=1):(e=-Math.sqrt(a*a+u*u),n=-1);var c=0;if(0!==e&&(c=Math.atan2(n*a,n*u)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),o=h(this.e,i),-9999===o)return null}else o=-s;return r=l(c/this.ns+this.long0),t.x=r,t.y=o,t},n.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":23}],48:[function(t,e,n){function i(t){return t}n.init=function(){},n.forward=i,n.inverse=i,n.names=["longlat","identity"]},{}],49:[function(t,e,n){var i=t("../common/msfnz"),o=Math.PI/2,r=1e-10,s=57.29577951308232,a=t("../common/adjust_lon"),l=Math.PI/4,h=t("../common/tsfnz"),u=t("../common/phi2z");n.init=function(){var t=this.b/this.a;this.es=1-t*t,this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):i(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},n.forward=function(t){var e=t.x,n=t.y;if(n*s>90&&-90>n*s&&e*s>180&&-180>e*s)return null;var i,u;if(Math.abs(Math.abs(n)-o)<=r)return null;if(this.sphere)i=this.x0+this.a*this.k0*a(e-this.long0),u=this.y0+this.a*this.k0*Math.log(Math.tan(l+.5*n));else{var c=Math.sin(n),p=h(this.e,n,c);i=this.x0+this.a*this.k0*a(e-this.long0),u=this.y0-this.a*this.k0*Math.log(p)}return t.x=i,t.y=u,t},n.inverse=function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=o-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var s=Math.exp(-r/(this.a*this.k0));if(n=u(this.e,s),-9999===n)return null}return e=a(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},n.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":23}],50:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){},n.forward=function(t){var e=t.x,n=t.y,o=i(e-this.long0),r=this.x0+this.a*o,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=s,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=i(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},n.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],51:[function(t,e,n){var i=t("../common/adjust_lon"),o=1e-10;n.init=function(){},n.forward=function(t){for(var e=t.x,n=t.y,r=i(e-this.long0),s=n,a=Math.PI*Math.sin(n),l=0;!0;l++){var h=-(s+Math.sin(s)-a)/(1+Math.cos(s));if(s+=h,Math.abs(h)<o)break}s/=2,Math.PI/2-Math.abs(n)<o&&(r=0);var u=.900316316158*this.a*r*Math.cos(s)+this.x0,c=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=u,t.y=c,t},n.inverse=function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var o=i(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=o,t.y=r,t},n.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],52:[function(t,e,n){var i=484813681109536e-20;n.iterations=1,n.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},n.forward=function(t){var e,n=t.x,o=t.y,r=o-this.lat0,s=n-this.long0,a=r/i*1e-5,l=s,h=1,u=0;for(e=1;10>=e;e++)h*=a,u+=this.A[e]*h;var c,p,d=u,f=l,m=1,g=0,v=0,_=0;for(e=1;6>=e;e++)c=m*d-g*f,p=g*d+m*f,m=c,g=p,v=v+this.B_re[e]*m-this.B_im[e]*g,_=_+this.B_im[e]*m+this.B_re[e]*g;return t.x=_*this.a+this.x0,t.y=v*this.a+this.y0,t},n.inverse=function(t){var e,n,o,r=t.x,s=t.y,a=r-this.x0,l=s-this.y0,h=l/this.a,u=a/this.a,c=1,p=0,d=0,f=0;for(e=1;6>=e;e++)n=c*h-p*u,o=p*h+c*u,c=n,p=o,d=d+this.C_re[e]*c-this.C_im[e]*p,f=f+this.C_im[e]*c+this.C_re[e]*p;for(var m=0;m<this.iterations;m++){var g,v,_=d,y=f,b=h,M=u;for(e=2;6>=e;e++)g=_*d-y*f,v=y*d+_*f,_=g,y=v,b+=(e-1)*(this.B_re[e]*_-this.B_im[e]*y),M+=(e-1)*(this.B_im[e]*_+this.B_re[e]*y);_=1,y=0;var x=this.B_re[1],w=this.B_im[1];for(e=2;6>=e;e++)g=_*d-y*f,v=y*d+_*f,_=g,y=v,x+=e*(this.B_re[e]*_-this.B_im[e]*y),w+=e*(this.B_im[e]*_+this.B_re[e]*y);var E=x*x+w*w;d=(b*x+M*w)/E,f=(M*x-b*w)/E}var C=d,L=f,N=1,P=0;for(e=1;9>=e;e++)N*=C,P+=this.D[e]*N;var S=this.lat0+P*i*1e5,D=this.long0+L;return t.x=D,t.y=S,t},n.names=["New_Zealand_Map_Grid","nzmg"]},{}],53:[function(t,e,n){var i=t("../common/tsfnz"),o=t("../common/adjust_lon"),r=t("../common/phi2z"),s=Math.PI/2,a=Math.PI/4,l=1e-10;n.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=i(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));1>s*s&&(s=1);var a,l;if(isNaN(this.longc)){var h=i(this.e,this.lat1,Math.sin(this.lat1)),u=i(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(s+Math.sqrt(s*s-1))*Math.pow(r,this.bl):(s-Math.sqrt(s*s-1))*Math.pow(r,this.bl);var c=Math.pow(h,this.bl),p=Math.pow(u,this.bl);a=this.el/c,l=.5*(a-1/a);var d=(this.el*this.el-p*c)/(this.el*this.el+p*c),f=(p-c)/(p+c),m=o(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*m)/f)/this.bl,this.long0=o(this.long0);var g=o(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/l),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else a=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=a*Math.pow(r,this.bl),l=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},n.forward=function(t){var e,n,r,h=t.x,u=t.y,c=o(h-this.long0);if(Math.abs(Math.abs(u)-s)<=l)r=u>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(a+r*this.gamma0*.5)),e=-1*r*s*this.al/this.bl;else{var p=i(this.e,u,Math.sin(u)),d=this.el/Math.pow(p,this.bl),f=.5*(d-1/d),m=.5*(d+1/d),g=Math.sin(this.bl*c),v=(f*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/m;n=Math.abs(Math.abs(v)-1)<=l?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*c))<=l?this.al*this.bl*c:this.al*Math.atan2(f*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},n.inverse=function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),a=.5*(i-1/i),h=.5*(i+1/i),u=Math.sin(this.bl*e/this.al),c=(u*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/h,p=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<l?(t.x=this.long0,t.y=s):Math.abs(c+1)<l?(t.x=this.long0,t.y=-1*s):(t.y=r(this.e,p),t.x=o(this.long0-Math.atan2(a*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},n.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":23}],54:[function(t,e,n){var i=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/adjust_lon"),l=t("../common/adjust_lat"),h=t("../common/mlfn"),u=1e-10,c=t("../common/gN"),p=20;n.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},n.forward=function(t){var e,n,i,o=t.x,r=t.y,s=a(o-this.long0);if(i=s*Math.sin(r),this.sphere)Math.abs(r)<=u?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(r),n=this.a*(l(r-this.lat0)+(1-Math.cos(i))/Math.tan(r)));else if(Math.abs(r)<=u)e=this.a*s,n=-1*this.ml0;else{var p=c(this.a,this.e,Math.sin(r))/Math.tan(r);e=p*Math.sin(i),n=this.a*h(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+p*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},n.inverse=function(t){var e,n,i,o,r,s,l,c,d;if(i=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=u)e=a(i/this.a+this.long0),n=0;else{s=this.lat0+o/this.a,l=i*i/this.a/this.a+s*s,c=s;var f;for(r=p;r;--r)if(f=Math.tan(c),d=-1*(s*(c*f+1)-c-.5*(c*c+l)*f)/((c-s)/f-1),c+=d,Math.abs(d)<=u){n=c;break}e=a(this.long0+Math.asin(i*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(o+this.ml0)<=u)n=0,e=a(this.long0+i/this.a);else{s=(this.ml0+o)/this.a,l=i*i/this.a/this.a+s*s,c=s;var m,g,v,_,y;for(r=p;r;--r)if(y=this.e*Math.sin(c),m=Math.sqrt(1-y*y)*Math.tan(c),g=this.a*h(this.e0,this.e1,this.e2,this.e3,c),v=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),_=g/this.a,d=(s*(m*_+1)-_-.5*m*(_*_+l))/(this.es*Math.sin(2*c)*(_*_+l-2*s*_)/(4*m)+(s-_)*(m*v-2/Math.sin(2*c))-v),c-=d,Math.abs(d)<=u){n=c;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=a(this.long0+Math.asin(i*m/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},n.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],55:[function(t,e,n){var i=t("../common/adjust_lon"),o=t("../common/adjust_lat"),r=t("../common/pj_enfn"),s=20,a=t("../common/pj_mlfn"),l=t("../common/pj_inv_mlfn"),h=Math.PI/2,u=1e-10,c=t("../common/asinz");n.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=r(this.es)},n.forward=function(t){var e,n,o=t.x,r=t.y;if(o=i(o-this.long0),this.sphere){if(this.m)for(var l=this.n*Math.sin(r),h=s;h;--h){var c=(this.m*r+Math.sin(r)-l)/(this.m+Math.cos(r));if(r-=c,Math.abs(c)<u)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*o*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var p=Math.sin(r),d=Math.cos(r);n=this.a*a(r,p,d,this.en),e=this.a*o*d/Math.sqrt(1-this.es*p*p)}return t.x=e,t.y=n,t},n.inverse=function(t){var e,n,r,s;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=c((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=c(Math.sin(e)/this.n)),r=i(r+this.long0),e=o(e)):(e=l(t.y/this.a,this.es,this.en),s=Math.abs(e),h>s?(s=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),r=i(n)):h>s-u&&(r=this.long0)),t.x=r,t.y=e,t},n.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],56:[function(t,e,n){n.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,o=1/i,r=2*o-Math.pow(o,2),s=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*l+this.alpha*s/2*h},n.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,o=2*(Math.atan(Math.exp(i))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(r))),a=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},n.inverse=function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,o=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(o))),a=this.lambda0+s/this.alpha,l=0,h=r,u=-1e3,c=0;Math.abs(h-u)>1e-7;){
if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=h,t},n.names=["somerc"]},{}],57:[function(t,e,n){var i=Math.PI/2,o=1e-10,r=t("../common/sign"),s=t("../common/msfnz"),a=t("../common/tsfnz"),l=t("../common/phi2z"),h=t("../common/adjust_lon");n.ssfn_=function(t,e,n){return e*=n,Math.tan(.5*(i+t))*Math.pow((1-e)/(1+e),.5*n)},n.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*(1+r(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=o&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*this.cons*s(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/a(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=s(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},n.forward=function(t){var e,n,r,s,l,u,c=t.x,p=t.y,d=Math.sin(p),f=Math.cos(p),m=h(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=o&&Math.abs(p+this.lat0)<=o?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*d+this.coslat0*f*Math.cos(m)),t.x=this.a*e*f*Math.sin(m)+this.x0,t.y=this.a*e*(this.coslat0*d-this.sinlat0*f*Math.cos(m))+this.y0,t):(n=2*Math.atan(this.ssfn_(p,d,this.e))-i,s=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=o?(l=a(this.e,p*this.con,this.con*d),u=2*this.a*this.k0*l/this.cons,t.x=this.x0+u*Math.sin(c-this.long0),t.y=this.y0-this.con*u*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<o?(e=2*this.a*this.k0/(1+s*Math.cos(m)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*s*Math.cos(m))),t.y=e*(this.cosX0*r-this.sinX0*s*Math.cos(m))+this.y0),t.x=e*s*Math.sin(m)+this.x0,t))},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,s,a,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,n=this.lat0,o>=u?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),e=h(Math.abs(this.coslat0)<o?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=o){if(o>=u)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=u*this.cons/(2*this.a*this.k0),n=this.con*l(this.e,r),e=this.con*h(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o>=u?a=this.X0:(a=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/u),e=h(this.long0+Math.atan2(t.x*Math.sin(s),u*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),n=-1*l(this.e,Math.tan(.5*(i+a)));return t.x=e,t.y=n,t},n.names=["stere"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":23}],58:[function(t,e,n){var i=t("./gauss"),o=t("../common/adjust_lon");n.init=function(){i.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},n.forward=function(t){var e,n,r,s;return t.x=o(t.x-this.long0),i.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=s*n*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},n.inverse=function(t){var e,n,r,s,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(a,this.R2);e=Math.sin(l),n=Math.cos(l),s=Math.asin(n*this.sinc0+t.y*e*this.cosc0/a),r=Math.atan2(t.x*e,a*this.cosc0*n-t.y*this.sinc0*e)}else s=this.phic0,r=0;return t.x=r,t.y=s,i.inverse.apply(this,[t]),t.x=o(t.x+this.long0),t},n.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":42}],59:[function(t,e,n){var i=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/mlfn"),l=t("../common/adjust_lon"),h=Math.PI/2,u=1e-10,c=t("../common/sign"),p=t("../common/asinz");n.init=function(){this.e0=i(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},n.forward=function(t){var e,n,i,o=t.x,r=t.y,s=l(o-this.long0),h=Math.sin(r),u=Math.cos(r);if(this.sphere){var c=u*Math.sin(s);if(Math.abs(Math.abs(c)-1)<1e-10)return 93;n=.5*this.a*this.k0*Math.log((1+c)/(1-c)),e=Math.acos(u*Math.cos(s)/Math.sqrt(1-c*c)),0>r&&(e=-e),i=this.a*this.k0*(e-this.lat0)}else{var p=u*s,d=Math.pow(p,2),f=this.ep2*Math.pow(u,2),m=Math.tan(r),g=Math.pow(m,2);e=1-this.es*Math.pow(h,2);var v=this.a/Math.sqrt(e),_=this.a*a(this.e0,this.e1,this.e2,this.e3,r);n=this.k0*v*p*(1+d/6*(1-g+f+d/20*(5-18*g+Math.pow(g,2)+72*f-58*this.ep2)))+this.x0,i=this.k0*(_-this.ml0+v*m*d*(.5+d/24*(5-g+9*f+4*Math.pow(f,2)+d/30*(61-58*g+Math.pow(g,2)+600*f-330*this.ep2))))+this.y0}return t.x=n,t.y=i,t},n.inverse=function(t){var e,n,i,o,r,s,a=6;if(this.sphere){var d=Math.exp(t.x/(this.a*this.k0)),f=.5*(d-1/d),m=this.lat0+t.y/(this.a*this.k0),g=Math.cos(m);e=Math.sqrt((1-g*g)/(1+f*f)),r=p(e),0>m&&(r=-r),s=0===f&&0===g?this.long0:l(Math.atan2(f,g)+this.long0)}else{var v=t.x-this.x0,_=t.y-this.y0;for(e=(this.ml0+_/this.k0)/this.a,n=e,o=0;i=(e+this.e1*Math.sin(2*n)-this.e2*Math.sin(4*n)+this.e3*Math.sin(6*n))/this.e0-n,n+=i,!(Math.abs(i)<=u);o++)if(o>=a)return 95;if(Math.abs(n)<h){var y=Math.sin(n),b=Math.cos(n),M=Math.tan(n),x=this.ep2*Math.pow(b,2),w=Math.pow(x,2),E=Math.pow(M,2),C=Math.pow(E,2);e=1-this.es*Math.pow(y,2);var L=this.a/Math.sqrt(e),N=L*(1-this.es)/e,P=v/(L*this.k0),S=Math.pow(P,2);r=n-L*M*S/N*(.5-S/24*(5+3*E+10*x-4*w-9*this.ep2-S/30*(61+90*E+298*x+45*C-252*this.ep2-3*w))),s=l(this.long0+P*(1-S/6*(1+2*E+x-S/20*(5-2*x+28*E-3*w+8*this.ep2+24*C)))/b)}else r=h*c(_),s=this.long0}return t.x=s,t.y=r,t},n.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],60:[function(t,e,n){var i=.017453292519943295,o=t("./tmerc");n.dependsOn="tmerc",n.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*i,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,o.init.apply(this),this.forward=o.forward,this.inverse=o.inverse)},n.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":59}],61:[function(t,e,n){var i=t("../common/adjust_lon"),o=Math.PI/2,r=1e-10,s=t("../common/asinz");n.init=function(){this.R=this.a},n.forward=function(t){var e,n,a=t.x,l=t.y,h=i(a-this.long0);Math.abs(l)<=r&&(e=this.x0+this.R*h,n=this.y0);var u=s(2*Math.abs(l/Math.PI));(Math.abs(h)<=r||Math.abs(Math.abs(l)-o)<=r)&&(e=this.x0,n=l>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var c=.5*Math.abs(Math.PI/h-h/Math.PI),p=c*c,d=Math.sin(u),f=Math.cos(u),m=f/(d+f-1),g=m*m,v=m*(2/d-1),_=v*v,y=Math.PI*this.R*(c*(m-_)+Math.sqrt(p*(m-_)*(m-_)-(_+p)*(g-_)))/(_+p);0>h&&(y=-y),e=this.x0+y;var b=p+m;return y=Math.PI*this.R*(v*b-c*Math.sqrt((_+p)*(p+1)-b*b))/(_+p),n=l>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t},n.inverse=function(t){var e,n,o,s,a,l,h,u,c,p,d,f,m;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,o=t.x/d,s=t.y/d,a=o*o+s*s,l=-Math.abs(s)*(1+a),h=l-2*s*s+o*o,u=-2*l+1+2*s*s+a*a,m=s*s/u+(2*h*h*h/u/u/u-9*l*h/u/u)/27,c=(l-h*h/3/u)/u,p=2*Math.sqrt(-c/3),d=3*m/c/p,Math.abs(d)>1&&(d=d>=0?1:-1),f=Math.acos(d)/3,n=t.y>=0?(-p*Math.cos(f+Math.PI/3)-h/3/u)*Math.PI:-(-p*Math.cos(f+Math.PI/3)-h/3/u)*Math.PI,e=Math.abs(o)<r?this.long0:i(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(o*o-s*s)+a*a))/2/o),t.x=e,t.y=n,t},n.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],62:[function(t,e){var n=.017453292519943295,i=57.29577951308232,o=1,r=2,s=t("./datum_transform"),a=t("./adjust_axis"),l=t("./Proj");e.exports=function h(t,e,u){function c(t,e){return(t.datum.datum_type===o||t.datum.datum_type===r)&&"WGS84"!==e.datumCode}var p;return t.datum&&e.datum&&(c(t,e)||c(e,t))&&(p=new l("WGS84"),h(t,p,u),t=p),"enu"!==t.axis&&a(t,!1,u),"longlat"===t.projName?(u.x*=n,u.y*=n):(t.to_meter&&(u.x*=t.to_meter,u.y*=t.to_meter),t.inverse(u)),t.from_greenwich&&(u.x+=t.from_greenwich),u=s(t.datum,e.datum,u),e.from_greenwich&&(u.x-=e.from_greenwich),"longlat"===e.projName?(u.x*=i,u.y*=i):(e.forward(u),e.to_meter&&(u.x/=e.to_meter,u.y/=e.to_meter)),"enu"!==e.axis&&a(e,!0,u),u}},{"./Proj":2,"./adjust_axis":3,"./datum_transform":30}],63:[function(t,e){e.exports="2.0.3"},{}],64:[function(t,e){function n(t,e,n){t[e]=n.map(function(t){var e={};return i(t,e),e}).reduce(function(t,e){return l(t,e)},{})}function i(t,e){var o;return Array.isArray(t)?(o=t.shift(),"PARAMETER"===o&&(o=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[o]={},i(t[0],e[o])):e[o]=t[0]:t.length?"TOWGS84"===o?e[o]=t:(e[o]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(o)>-1?(e[o]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[o].auth=t[2])):"SPHEROID"===o?(e[o]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[o].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(o)>-1?(t[0]=["name",t[0]],n(e,o,t)):t.every(function(t){return Array.isArray(t)})?n(e,o,t):i(t,e[o])):e[o]=!0)):void(e[t]=!0)}function o(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}function r(t){return t*a}function s(t){function e(e){var n=t.to_meter||1;return parseFloat(e,10)*n}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&(t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.datumCode=t.GEOGCS.DATUM?t.GEOGCS.DATUM.name.toLowerCase():t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===t.datumCode||"new_zealand_1949"===t.datumCode)&&(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10))),t.b&&!isFinite(t.b)&&(t.b=t.a);var n=function(e){return o(t,e)},i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",r],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",r],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",r],["lat0","latitude_of_origin",r],["lat0","standard_parallel_1",r],["lat1","standard_parallel_1",r],["lat2","standard_parallel_2",r],["alpha","azimuth",r],["srsCode","name"]];i.forEach(n),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.PROJECTION&&"Lambert_Azimuthal_Equal_Area"!==t.PROJECTION||(t.long0=t.longc)}var a=.017453292519943295,l=t("./extend");e.exports=function(t,e){var n=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]')),o=n.shift(),r=n.shift();n.unshift(["name",r]),n.unshift(["type",o]),n.unshift("output");var a={};return i(n,a),s(a.output),l(e,a.output)}},{"./extend":32}],65:[function(t,e,n){function i(t){return t*(Math.PI/180)}function o(t){return 180*(t/Math.PI)}function r(t){var e,n,o,r,s,l,h,u,c,p=t.lat,d=t.lon,f=6378137,m=.00669438,g=.9996,v=i(p),_=i(d);c=Math.floor((d+180)/6)+1,180===d&&(c=60),p>=56&&64>p&&d>=3&&12>d&&(c=32),p>=72&&84>p&&(d>=0&&9>d?c=31:d>=9&&21>d?c=33:d>=21&&33>d?c=35:d>=33&&42>d&&(c=37)),e=6*(c-1)-180+3,u=i(e),n=m/(1-m),o=f/Math.sqrt(1-m*Math.sin(v)*Math.sin(v)),r=Math.tan(v)*Math.tan(v),s=n*Math.cos(v)*Math.cos(v),l=Math.cos(v)*(_-u),h=f*((1-m/4-3*m*m/64-5*m*m*m/256)*v-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*v)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*v)-35*m*m*m/3072*Math.sin(6*v));var y=g*o*(l+(1-r+s)*l*l*l/6+(5-18*r+r*r+72*s-58*n)*l*l*l*l*l/120)+5e5,b=g*(h+o*Math.tan(v)*(l*l/2+(5-r+9*s+4*s*s)*l*l*l*l/24+(61-58*r+r*r+600*s-330*n)*l*l*l*l*l*l/720));return 0>p&&(b+=1e7),{northing:Math.round(b),easting:Math.round(y),zoneNumber:c,zoneLetter:a(p)}}function s(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(0>r||r>60)return null;var a,l,h,u,c,p,d,f,m,g,v=.9996,_=6378137,y=.00669438,b=(1-Math.sqrt(1-y))/(1+Math.sqrt(1-y)),M=n-5e5,x=e;"N">i&&(x-=1e7),f=6*(r-1)-180+3,a=y/(1-y),d=x/v,m=d/(_*(1-y/4-3*y*y/64-5*y*y*y/256)),g=m+(3*b/2-27*b*b*b/32)*Math.sin(2*m)+(21*b*b/16-55*b*b*b*b/32)*Math.sin(4*m)+151*b*b*b/96*Math.sin(6*m),l=_/Math.sqrt(1-y*Math.sin(g)*Math.sin(g)),h=Math.tan(g)*Math.tan(g),u=a*Math.cos(g)*Math.cos(g),c=_*(1-y)/Math.pow(1-y*Math.sin(g)*Math.sin(g),1.5),p=M/(l*v);var w=g-l*Math.tan(g)/c*(p*p/2-(5+3*h+10*u-4*u*u-9*a)*p*p*p*p/24+(61+90*h+298*u+45*h*h-252*a-3*u*u)*p*p*p*p*p*p/720);w=o(w);var E=(p-(1+2*h+u)*p*p*p/6+(5-2*u+28*h-3*u*u+8*a+24*h*h)*p*p*p*p*p/120)/Math.cos(g);E=f+o(E);var C;if(t.accuracy){var L=s({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:L.lat,right:L.lon,bottom:w,left:E}}else C={lat:w,lon:E};return C}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function l(t,e){var n=""+t.easting,i=""+t.northing;return t.zoneNumber+t.zoneLetter+h(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function h(t,e,n){var i=u(n),o=Math.floor(t/1e5),r=Math.floor(e/1e5)%20;return c(o,r,i)}function u(t){var e=t%g;return 0===e&&(e=g),e}function c(t,e,n){var i=n-1,o=v.charCodeAt(i),r=_.charCodeAt(i),s=o+t-1,a=r+e,l=!1;s>w&&(s=s-w+y-1,l=!0),(s===b||b>o&&s>b||(s>b||b>o)&&l)&&s++,(s===M||M>o&&s>M||(s>M||M>o)&&l)&&(s++,s===b&&s++),s>w&&(s=s-w+y-1),a>x?(a=a-x+y-1,l=!0):l=!1,(a===b||b>r&&a>b||(a>b||b>r)&&l)&&a++,(a===M||M>r&&a>M||(a>M||M>r)&&l)&&(a++,a===b&&a++),a>x&&(a=a-x+y-1);var h=String.fromCharCode(s)+String.fromCharCode(a);return h}function p(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,o="",r=0;!/[A-Z]/.test(e=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;o+=e,r++}var s=parseInt(o,10);if(0===r||r+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(r++);if("A">=a||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(r,r+=2);for(var l=u(s),h=d(i.charAt(0),l),c=f(i.charAt(1),l);c<m(a);)c+=2e6;var p=n-r;if(p%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,v,_,y,b,M=p/2,x=0,w=0;return M>0&&(g=1e5/Math.pow(10,M),v=t.substring(r,r+M),x=parseFloat(v)*g,_=t.substring(r+M),w=parseFloat(_)*g),y=x+h,b=w+c,{easting:y,northing:b,zoneLetter:a,zoneNumber:s,accuracy:g}}function d(t,e){for(var n=v.charCodeAt(e-1),i=1e5,o=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===M&&n++,n>w){if(o)throw"Bad character: "+t;n=y,o=!0}i+=1e5}return i}function f(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=_.charCodeAt(e-1),i=0,o=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===M&&n++,n>x){if(o)throw"Bad character: "+t;n=y,o=!0}i+=1e5}return i}function m(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var g=6,v="AJSAJS",_="AFAFAF",y=65,b=73,M=79,x=86,w=90;n.forward=function(t,e){return e=e||5,l(r({lat:t[1],lon:t[0]}),e)},n.inverse=function(t){var e=s(p(t.toUpperCase()));return[e.left,e.bottom,e.right,e.top]},n.toPoint=function(t){var e=n.inverse(t);return[(e[2]+e[0])/2,(e[3]+e[1])/2]}},{}]},{},[34])(34)})},function(t,e,n){var i,o,r;!function(s){o=[n(60),n(126)],i=s,r="function"==typeof i?i.apply(e,o):i,!(void 0!==r&&(t.exports=r))}(function(t,e){return t.Proj={},t.Proj._isProj4Obj=function(t){return"undefined"!=typeof t.inverse&&"undefined"!=typeof t.forward},t.Proj.ScaleDependantTransformation=function(t){this.scaleTransforms=t},t.Proj.ScaleDependantTransformation.prototype.transform=function(t,e){return this.scaleTransforms[e].transform(t,e)},t.Proj.ScaleDependantTransformation.prototype.untransform=function(t,e){return this.scaleTransforms[e].untransform(t,e)},t.Proj.Projection=t.Class.extend({initialize:function(n,i){if(t.Proj._isProj4Obj(n))this._proj=n;else{var o=n;if(i)e.defs(o,i);else if(void 0===e.defs[o]){var r=o.split(":");if(r.length>3&&(o=r[r.length-3]+":"+r[r.length-1]),void 0===e.defs[o])throw"No projection definition for code "+o}this._proj=e(o)}},project:function(e){var n=this._proj.forward([e.lng,e.lat]);return new t.Point(n[0],n[1])},unproject:function(e,n){var i=this._proj.inverse([e.x,e.y]);return new t.LatLng(i[1],i[0],n)}}),t.Proj.CRS=t.Class.extend({includes:t.CRS,options:{transformation:new t.Transformation(1,0,-1,0)},initialize:function(e,n,i){var o,r,s,a;if(t.Proj._isProj4Obj(e)?(r=e,o=r.srsCode,a=n||{},this.projection=new t.Proj.Projection(r)):(o=e,s=n,a=i||{},this.projection=new t.Proj.Projection(o,s)),t.Util.setOptions(this,a),this.code=o,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new t.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var l=this.options.resolutions.length-1;l>=0;l--)this.options.resolutions[l]&&(this._scales[l]=1/this.options.resolutions[l])}},scale:function(t){var e,n,i,o,r=Math.floor(t);return t===r?this._scales[t]:(e=this._scales[r],n=this._scales[r+1],i=n-e,o=t-r,e+i*o)},getSize:function(e){var n,i,o,r=this.options.bounds;return r?(n=this.scale(e),i=this.transformation.transform(r.min,n),o=this.transformation.transform(r.max,n),t.point(Math.abs(o.x-i.x),Math.abs(o.y-i.y))):(n=256*Math.pow(2,e),t.point(n,n))}}),t.Proj.CRS.TMS=t.Proj.CRS.extend({options:{tileSize:256},initialize:function(e,n,i,o){var r,s,a,l,h;t.Proj._isProj4Obj(e)?(a=e,l=n,h=i||{},h.origin=[l[0],l[3]],t.Proj.CRS.prototype.initialize.call(this,a,h)):(r=e,s=n,l=i,h=o||{},h.origin=[l[0],l[3]],t.Proj.CRS.prototype.initialize.call(this,r,s,h)),this.projectedBounds=l,this._sizes=this._calculateSizes()},_calculateSizes:function(){var e,n,i,o,r=[],s=this.projectedBounds;for(n=this._scales.length-1;n>=0;n--)this._scales[n]&&(e=this.options.tileSize/this._scales[n],i=Math.ceil(parseFloat((s[2]-s[0])/e).toPrecision(3))*e*this._scales[n],o=Math.ceil(parseFloat((s[3]-s[1])/e).toPrecision(3))*e*this._scales[n],r[n]=t.point(i,o));return r},getSize:function(t){return this._sizes[t]}}),t.Proj.TileLayer={},t.Proj.TileLayer.TMS=t.TileLayer.extend({options:{continuousWorld:!0},initialize:function(e,n,i){var o,r,s,a,l=!0;if(!(n instanceof t.Proj.CRS.TMS))throw"CRS is not L.Proj.CRS.TMS.";for(t.TileLayer.prototype.initialize.call(this,e,i),this.options.tms=!1,this.crs=n,s=this.crs.projectedBounds,a=this.options.minZoom;a<this.options.maxZoom&&l;a++){var h=(s[3]-s[1])/this._projectedTileSize(a);l=Math.abs(h-Math.round(h))>.001}if(!l){for(o={},a=this.options.minZoom;a<this.options.maxZoom;a++)r=s[1]+Math.ceil((s[3]-s[1])/this._projectedTileSize(a))*this._projectedTileSize(a),o[this.crs.scale(a)]=new t.Transformation(1,-s[0],-1,r);this.crs=new t.Proj.CRS.TMS(this.crs.projection._proj,s,this.crs.options),this.crs.transformation=new t.Proj.ScaleDependantTransformation(o)}},getTileUrl:function(e){var n=this._map.getZoom(),i=Math.ceil((this.crs.projectedBounds[3]-this.crs.projectedBounds[1])/this._projectedTileSize(n));return t.Util.template(this._url,t.Util.extend({s:this._getSubdomain(e),z:this._getZoomForUrl(),x:e.x,y:i-e.y-1},this.options))},_projectedTileSize:function(t){return this.options.tileSize/this.crs.scale(t)}}),t.Proj.GeoJSON=t.GeoJSON.extend({initialize:function(e,n){this._callLevel=0,t.GeoJSON.prototype.initialize.call(this,null,n),e&&this.addData(e)},addData:function(e){var n;e&&(e.crs&&"name"===e.crs.type?n=new t.Proj.CRS(e.crs.properties.name):e.crs&&e.crs.type&&(n=new t.Proj.CRS(e.crs.type+":"+e.crs.properties.code)),void 0!==n&&(this.options.coordsToLatLng=function(e){var i=t.point(e[0],e[1]);return n.projection.unproject(i)})),this._callLevel++;try{t.GeoJSON.prototype.addData.call(this,e)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),t.Proj.geoJson=function(e,n){return new t.Proj.GeoJSON(e,n)},t.Proj.ImageOverlay=t.ImageOverlay.extend({initialize:function(e,n,i){t.ImageOverlay.prototype.initialize.call(this,e,null,i),this._projBounds=n},_animateZoom:function(e){var n=t.point(this._projBounds.min.x,this._projBounds.max.y),i=t.point(this._projBounds.max.x,this._projBounds.min.y),o=this._projectedToNewLayerPoint(n,e.zoom,e.center),r=this._projectedToNewLayerPoint(i,e.zoom,e.center).subtract(o),s=o.add(r._multiplyBy((1-1/e.scale)/2));this._image.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(s)+" scale("+this._map.getZoomScale(e.zoom)+") "},_reset:function(){var e=this._map.getZoom(),n=this._map.getPixelOrigin(),i=t.bounds(this._transform(this._projBounds.min,e)._subtract(n),this._transform(this._projBounds.max,e)._subtract(n)),o=i.getSize(),r=this._image;t.DomUtil.setPosition(r,i.min),r.style.width=o.x+"px",r.style.height=o.y+"px"},_projectedToNewLayerPoint:function(t,e,n){var i=this._map._getNewTopLeftPoint(n,e).add(this._map._getMapPanePos());return this._transform(t,e)._subtract(i)},_transform:function(t,e){var n=this._map.options.crs,i=n.transformation,o=n.scale(e);return i.transform(t,o)}}),t.Proj.imageOverlay=function(e,n,i){return new t.Proj.ImageOverlay(e,n,i)},"undefined"!=typeof t.CRS&&(t.CRS.proj4js=function(){return function(e,n,i,o){return o=o||{},i&&(o.transformation=i),new t.Proj.CRS(e,n,o)}}()),t.Proj})},function(t,e,n){"use strict";var i=n(6),o=n(46),r=n(91),s={componentDidMount:function(){this.props.autoFocus&&r(o(this))}},a={Mixin:s,focusDOMComponent:function(){r(i.getNode(this._rootNodeID))}};t.exports=a},function(t,e,n){"use strict";function i(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function o(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function r(t){switch(t){case P.topCompositionStart:return S.compositionStart;case P.topCompositionEnd:return S.compositionEnd;case P.topCompositionUpdate:return S.compositionUpdate}}function s(t,e){return t===P.topKeyDown&&e.keyCode===M}function a(t,e){switch(t){case P.topKeyUp:return-1!==b.indexOf(e.keyCode);case P.topKeyDown:return e.keyCode!==M;case P.topKeyPress:case P.topMouseDown:case P.topBlur:return!0;default:return!1}}function l(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function h(t,e,n,i,o){var h,u;if(x?h=r(t):k?a(t,i)&&(h=S.compositionEnd):s(t,i)&&(h=S.compositionStart),!h)return null;C&&(k||h!==S.compositionStart?h===S.compositionEnd&&k&&(u=k.getData()):k=g.getPooled(e));var c=v.getPooled(h,n,i,o);if(u)c.data=u;else{var p=l(i);null!==p&&(c.data=p)}return f.accumulateTwoPhaseDispatches(c),c}function u(t,e){switch(t){case P.topCompositionEnd:return l(e);case P.topKeyPress:var n=e.which;return n!==L?null:(D=!0,N);case P.topTextInput:var i=e.data;return i===N&&D?null:i;default:return null}}function c(t,e){if(k){if(t===P.topCompositionEnd||a(t,e)){var n=k.getData();return g.release(k),k=null,n}return null}switch(t){case P.topPaste:return null;case P.topKeyPress:return e.which&&!o(e)?String.fromCharCode(e.which):null;case P.topCompositionEnd:return C?null:e.data;default:return null}}function p(t,e,n,i,o){var r;if(r=E?u(t,i):c(t,i),!r)return null;var s=_.getPooled(S.beforeInput,n,i,o);return s.data=r,f.accumulateTwoPhaseDispatches(s),s}var d=n(12),f=n(24),m=n(5),g=n(137),v=n(169),_=n(172),y=n(15),b=[9,13,27,32],M=229,x=m.canUseDOM&&"CompositionEvent"in window,w=null;m.canUseDOM&&"documentMode"in document&&(w=document.documentMode);var E=m.canUseDOM&&"TextEvent"in window&&!w&&!i(),C=m.canUseDOM&&(!x||w&&w>8&&11>=w),L=32,N=String.fromCharCode(L),P=d.topLevelTypes,S={beforeInput:{phasedRegistrationNames:{bubbled:y({onBeforeInput:null}),captured:y({onBeforeInputCapture:null})},dependencies:[P.topCompositionEnd,P.topKeyPress,P.topTextInput,P.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:y({onCompositionEnd:null}),captured:y({onCompositionEndCapture:null})},dependencies:[P.topBlur,P.topCompositionEnd,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:y({onCompositionStart:null}),captured:y({onCompositionStartCapture:null})},dependencies:[P.topBlur,P.topCompositionStart,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:y({onCompositionUpdate:null}),captured:y({onCompositionUpdateCapture:null})},dependencies:[P.topBlur,P.topCompositionUpdate,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]}},D=!1,k=null,O={eventTypes:S,extractEvents:function(t,e,n,i,o){return[h(t,e,n,i,o),p(t,e,n,i,o)]}};t.exports=O},function(t,e,n){(function(e){"use strict";var i=n(61),o=n(5),r=n(8),s=n(186),a=n(177),l=n(191),h=n(195),u=n(4),c=h(function(t){return l(t)}),p=!1,d="cssFloat";if(o.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(m){p=!0}void 0===document.documentElement.style.cssFloat&&(d="styleFloat")}if("production"!==e.env.NODE_ENV)var g=/^(?:webkit|moz|o)[A-Z]/,v=/;\s*$/,_={},y={},b=function(t){_.hasOwnProperty(t)&&_[t]||(_[t]=!0,"production"!==e.env.NODE_ENV?u(!1,"Unsupported style property %s. Did you mean %s?",t,s(t)):void 0)},M=function(t){_.hasOwnProperty(t)&&_[t]||(_[t]=!0,"production"!==e.env.NODE_ENV?u(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",t,t.charAt(0).toUpperCase()+t.slice(1)):void 0)},x=function(t,n){y.hasOwnProperty(n)&&y[n]||(y[n]=!0,"production"!==e.env.NODE_ENV?u(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',t,n.replace(v,"")):void 0)},w=function(t,e){t.indexOf("-")>-1?b(t):g.test(t)?M(t):v.test(e)&&x(t,e)};var E={createMarkupForStyles:function(t){var n="";for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];"production"!==e.env.NODE_ENV&&w(i,o),null!=o&&(n+=c(i)+":",n+=a(i,o)+";")}return n||null},setValueForStyles:function(t,n){var o=t.style;for(var r in n)if(n.hasOwnProperty(r)){"production"!==e.env.NODE_ENV&&w(r,n[r]);var s=a(r,n[r]);if("float"===r&&(r=d),s)o[r]=s;else{var l=p&&i.shorthandPropertyExpansions[r];if(l)for(var h in l)o[h]="";else o[r]=""}}}};r.measureMethods(E,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=E}).call(e,n(1))},function(t,e,n){"use strict";function i(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function o(t){var e=w.getPooled(S.change,k,t,E(t));b.accumulateTwoPhaseDispatches(e),x.batchedUpdates(r,e)}function r(t){y.enqueueEvents(t),y.processEventQueue(!1)}function s(t,e){D=t,k=e,D.attachEvent("onchange",o)}function a(){D&&(D.detachEvent("onchange",o),D=null,k=null)}function l(t,e,n){return t===P.topChange?n:void 0}function h(t,e,n){t===P.topFocus?(a(),s(e,n)):t===P.topBlur&&a()}function u(t,e){D=t,k=e,O=t.value,T=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(D,"value",R),D.attachEvent("onpropertychange",p)}function c(){D&&(delete D.value,D.detachEvent("onpropertychange",p),D=null,k=null,O=null,T=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==O&&(O=e,o(t))}}function d(t,e,n){return t===P.topInput?n:void 0}function f(t,e,n){t===P.topFocus?(c(),u(e,n)):t===P.topBlur&&c()}function m(t,e,n){return t!==P.topSelectionChange&&t!==P.topKeyUp&&t!==P.topKeyDown||!D||D.value===O?void 0:(O=D.value,k)}function g(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function v(t,e,n){return t===P.topClick?n:void 0}var _=n(12),y=n(23),b=n(24),M=n(5),x=n(9),w=n(18),E=n(49),C=n(52),L=n(88),N=n(15),P=_.topLevelTypes,S={change:{phasedRegistrationNames:{bubbled:N({onChange:null}),captured:N({onChangeCapture:null})},dependencies:[P.topBlur,P.topChange,P.topClick,P.topFocus,P.topInput,P.topKeyDown,P.topKeyUp,P.topSelectionChange]}},D=null,k=null,O=null,T=null,I=!1;M.canUseDOM&&(I=C("change")&&(!("documentMode"in document)||document.documentMode>8));var A=!1;M.canUseDOM&&(A=C("input")&&(!("documentMode"in document)||document.documentMode>9));var R={get:function(){return T.get.call(this)},set:function(t){O=""+t,T.set.call(this,t)}},U={eventTypes:S,extractEvents:function(t,e,n,o,r){var s,a;if(i(e)?I?s=l:a=h:L(e)?A?s=d:(s=m,a=f):g(e)&&(s=v),s){var u=s(t,e,n);if(u){var c=w.getPooled(S.change,u,o,r);return c.type="change",b.accumulateTwoPhaseDispatches(c),c}}a&&a(t,e,n)}};t.exports=U},function(t,e){"use strict";var n=0,i={createReactRootIndex:function(){return n++}};t.exports=i},function(t,e,n){(function(e){"use strict";function i(t){return t.substring(1,t.indexOf(" "))}var o=n(5),r=n(188),s=n(10),a=n(93),l=n(2),h=/^(<[^ \/>]+)/,u="data-danger-index",c={dangerouslyRenderMarkup:function(t){o.canUseDOM?void 0:"production"!==e.env.NODE_ENV?l(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering."):l(!1);for(var n,c={},p=0;p<t.length;p++)t[p]?void 0:"production"!==e.env.NODE_ENV?l(!1,"dangerouslyRenderMarkup(...): Missing markup."):l(!1),n=i(t[p]),n=a(n)?n:"*",c[n]=c[n]||[],c[n][p]=t[p];var d=[],f=0;for(n in c)if(c.hasOwnProperty(n)){var m,g=c[n];for(m in g)if(g.hasOwnProperty(m)){var v=g[m];g[m]=v.replace(h,"$1 "+u+'="'+m+'" ')}for(var _=r(g.join(""),s),y=0;y<_.length;++y){var b=_[y];b.hasAttribute&&b.hasAttribute(u)?(m=+b.getAttribute(u),b.removeAttribute(u),d.hasOwnProperty(m)?"production"!==e.env.NODE_ENV?l(!1,"Danger: Assigning to an already-occupied result index."):l(!1):void 0,d[m]=b,f+=1):"production"!==e.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",b)}}return f!==d.length?"production"!==e.env.NODE_ENV?l(!1,"Danger: Did not assign to every index of resultList."):l(!1):void 0,d.length!==t.length?"production"!==e.env.NODE_ENV?l(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",t.length,d.length):l(!1):void 0,
d},dangerouslyReplaceNodeWithMarkup:function(t,n){o.canUseDOM?void 0:"production"!==e.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):l(!1),n?void 0:"production"!==e.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):l(!1),"html"===t.tagName.toLowerCase()?"production"!==e.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):l(!1):void 0;var i;i="string"==typeof n?r(n,s)[0]:n,t.parentNode.replaceChild(i,t)}};t.exports=c}).call(e,n(1))},function(t,e,n){"use strict";var i=n(15),o=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({BeforeInputEventPlugin:null})];t.exports=o},function(t,e,n){"use strict";var i=n(12),o=n(24),r=n(32),s=n(6),a=n(15),l=i.topLevelTypes,h=s.getFirstReactDOM,u={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},c=[null,null],p={eventTypes:u,extractEvents:function(t,e,n,i,a){if(t===l.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(t!==l.topMouseOut&&t!==l.topMouseOver)return null;var p;if(e.window===e)p=e;else{var d=e.ownerDocument;p=d?d.defaultView||d.parentWindow:window}var f,m,g="",v="";if(t===l.topMouseOut?(f=e,g=n,m=h(i.relatedTarget||i.toElement),m?v=s.getID(m):m=p,m=m||p):(f=p,m=e,v=n),f===m)return null;var _=r.getPooled(u.mouseLeave,g,i,a);_.type="mouseleave",_.target=f,_.relatedTarget=m;var y=r.getPooled(u.mouseEnter,v,i,a);return y.type="mouseenter",y.target=m,y.relatedTarget=f,o.accumulateEnterLeaveDispatches(_,y,g,v),c[0]=_,c[1]=y,c}};t.exports=p},function(t,e,n){(function(e){"use strict";function i(t){return t===_.topMouseUp||t===_.topTouchEnd||t===_.topTouchCancel}function o(t){return t===_.topMouseMove||t===_.topTouchMove}function r(t){return t===_.topMouseDown||t===_.topTouchStart}function s(t,e,n,i){var o=t.type||"unknown-event";t.currentTarget=v.Mount.getNode(i),e?f.invokeGuardedCallbackWithCatch(o,n,t,i):f.invokeGuardedCallback(o,n,t,i),t.currentTarget=null}function a(t,n){var i=t._dispatchListeners,o=t._dispatchIDs;if("production"!==e.env.NODE_ENV&&p(t),Array.isArray(i))for(var r=0;r<i.length&&!t.isPropagationStopped();r++)s(t,n,i[r],o[r]);else i&&s(t,n,i,o);t._dispatchListeners=null,t._dispatchIDs=null}function l(t){var n=t._dispatchListeners,i=t._dispatchIDs;if("production"!==e.env.NODE_ENV&&p(t),Array.isArray(n)){for(var o=0;o<n.length&&!t.isPropagationStopped();o++)if(n[o](t,i[o]))return i[o]}else if(n&&n(t,i))return i;return null}function h(t){var e=l(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function u(t){"production"!==e.env.NODE_ENV&&p(t);var n=t._dispatchListeners,i=t._dispatchIDs;Array.isArray(n)?"production"!==e.env.NODE_ENV?m(!1,"executeDirectDispatch(...): Invalid `event`."):m(!1):void 0;var o=n?n(t,i):null;return t._dispatchListeners=null,t._dispatchIDs=null,o}function c(t){return!!t._dispatchListeners}var p,d=n(12),f=n(76),m=n(2),g=n(4),v={Mount:null,injectMount:function(t){v.Mount=t,"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?g(t&&t.getNode&&t.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID."):void 0)}},_=d.topLevelTypes;"production"!==e.env.NODE_ENV&&(p=function(t){var n=t._dispatchListeners,i=t._dispatchIDs,o=Array.isArray(n),r=Array.isArray(i),s=r?i.length:i?1:0,a=o?n.length:n?1:0;"production"!==e.env.NODE_ENV?g(r===o&&s===a,"EventPluginUtils: Invalid `event`."):void 0});var y={isEndish:i,isMoveish:o,isStartish:r,executeDirectDispatch:u,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:h,hasDispatches:c,getNode:function(t){return v.Mount.getNode(t)},getID:function(t){return v.Mount.getID(t)},injection:v};t.exports=y}).call(e,n(1))},function(t,e,n){"use strict";function i(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var o=n(14),r=n(3),s=n(87);r(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,i=n.length,o=this.getText(),r=o.length;for(t=0;i>t&&n[t]===o[t];t++);var s=i-t;for(e=1;s>=e&&n[i-e]===o[r-e];e++);var a=e>1?1-e:void 0;return this._fallbackText=o.slice(t,a),this._fallbackText}}),o.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";var i,o=n(16),r=n(5),s=o.injection.MUST_USE_ATTRIBUTE,a=o.injection.MUST_USE_PROPERTY,l=o.injection.HAS_BOOLEAN_VALUE,h=o.injection.HAS_SIDE_EFFECTS,u=o.injection.HAS_NUMERIC_VALUE,c=o.injection.HAS_POSITIVE_NUMERIC_VALUE,p=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var d=document.implementation;i=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|l,allowTransparency:s,alt:null,async:l,autoComplete:null,autoPlay:l,capture:s|l,cellPadding:null,cellSpacing:null,charSet:s,challenge:s,checked:a|l,classID:s,className:i?s:a,cols:s|c,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:s,"default":l,defer:l,dir:null,disabled:s|l,download:p,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:l,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,inputMode:s,integrity:null,is:s,keyParams:s,keyType:s,kind:null,label:null,lang:null,list:s,loop:a|l,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,minLength:s,multiple:a|l,muted:a|l,name:null,nonce:s,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,reversed:l,role:s,rows:s|c,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:s|l,selected:a|l,shape:null,size:s|c,sizes:s,span:c,spellCheck:null,src:null,srcDoc:a,srcLang:null,srcSet:s,start:u,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|h,width:s,wmode:s,wrap:null,about:s,datatype:s,inlist:s,prefix:s,property:s,resource:s,"typeof":s,vocab:s,autoCapitalize:s,autoCorrect:s,autoSave:null,color:null,itemProp:s,itemScope:s|l,itemType:s,itemID:s,itemRef:s,results:null,security:s,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},function(t,e,n){"use strict";var i=n(67),o=n(149),r=n(156),s=n(3),a=n(178),l={};s(l,r),s(l,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",i,i.findDOMNode),render:a("render","ReactDOM","react-dom",i,i.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",i,i.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",o,o.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",o,o.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o,t.exports=l},function(t,e,n){(function(e){"use strict";var i=n(25),o=n(46),r=n(4),s="_getDOMNodeDidWarn",a={getDOMNode:function(){return"production"!==e.env.NODE_ENV?r(this.constructor[s],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",i.get(this).getName()||this.tagName||"Unknown"):void 0,this.constructor[s]=!0,o(this)}};t.exports=a}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t,n,i){var o=void 0===t[i];"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?l(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i):void 0),null!=n&&o&&(t[i]=r(n,null))}var o=n(17),r=n(51),s=n(54),a=n(55),l=n(4),h={instantiateChildren:function(t,e,n){if(null==t)return null;var o={};return a(t,i,o),o},updateChildren:function(t,e,n,i){if(!e&&!t)return null;var a;for(a in e)if(e.hasOwnProperty(a)){var l=t&&t[a],h=l&&l._currentElement,u=e[a];if(null!=l&&s(h,u))o.receiveComponent(l,u,n,i),e[a]=l;else{l&&o.unmountComponent(l,a);var c=r(u,null);e[a]=c}}for(a in t)!t.hasOwnProperty(a)||e&&e.hasOwnProperty(a)||o.unmountComponent(t[a]);return e},unmountChildren:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];o.unmountComponent(n)}}};t.exports=h}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(t){}var r=n(42),s=n(13),a=n(7),l=n(25),h=n(8),u=n(31),c=n(30),p=n(17),d=n(44),f=n(3),m=n(27),g=n(2),v=n(54),_=n(4);o.prototype.render=function(){var t=l.get(this)._currentElement.type;return t(this.props,this.context,this.updater)};var y=1,b={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(t,n,i){this._context=i,this._mountOrder=y++,this._rootNodeID=t;var r,h,u=this._processProps(this._currentElement.props),c=this._processContext(i),f=this._currentElement.type,v="prototype"in f;if(v)if("production"!==e.env.NODE_ENV){s.current=this;try{r=new f(u,c,d)}finally{s.current=null}}else r=new f(u,c,d);(!v||null===r||r===!1||a.isValidElement(r))&&(h=r,r=new o(f)),"production"!==e.env.NODE_ENV&&(null==r.render?"production"!==e.env.NODE_ENV?_(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",f.displayName||f.name||"Component"):void 0:"production"!==e.env.NODE_ENV?_(f.prototype&&f.prototype.isReactComponent||!v||!(r instanceof f),"%s(...): React component classes must extend React.Component.",f.displayName||f.name||"Component"):void 0),r.props=u,r.context=c,r.refs=m,r.updater=d,this._instance=r,l.set(r,this),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?_(!r.getInitialState||r.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):void 0,"production"!==e.env.NODE_ENV?_(!r.getDefaultProps||r.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0,"production"!==e.env.NODE_ENV?_(!r.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):void 0,"production"!==e.env.NODE_ENV?_(!r.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):void 0,"production"!==e.env.NODE_ENV?_("function"!=typeof r.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):void 0,"production"!==e.env.NODE_ENV?_("function"!=typeof r.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0,"production"!==e.env.NODE_ENV?_("function"!=typeof r.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0);var b=r.state;void 0===b&&(r.state=b=null),"object"!=typeof b||Array.isArray(b)?"production"!==e.env.NODE_ENV?g(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):g(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===h&&(h=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(h);var M=p.mountComponent(this._renderedComponent,t,n,this._processChildContext(i));return r.componentDidMount&&n.getReactMountReady().enqueue(r.componentDidMount,r),M},unmountComponent:function(){var t=this._instance;t.componentWillUnmount&&t.componentWillUnmount(),p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(t)},_maskContext:function(t){var e=null,n=this._currentElement.type,i=n.contextTypes;if(!i)return m;e={};for(var o in i)e[o]=t[o];return e},_processContext:function(t){var n=this._maskContext(t);if("production"!==e.env.NODE_ENV){var i=this._currentElement.type;i.contextTypes&&this._checkPropTypes(i.contextTypes,n,u.context)}return n},_processChildContext:function(t){var n=this._currentElement.type,i=this._instance,o=i.getChildContext&&i.getChildContext();if(o){"object"!=typeof n.childContextTypes?"production"!==e.env.NODE_ENV?g(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):g(!1):void 0,"production"!==e.env.NODE_ENV&&this._checkPropTypes(n.childContextTypes,o,u.childContext);for(var r in o)r in n.childContextTypes?void 0:"production"!==e.env.NODE_ENV?g(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",r):g(!1);return f({},t,o)}return t},_processProps:function(t){if("production"!==e.env.NODE_ENV){var n=this._currentElement.type;n.propTypes&&this._checkPropTypes(n.propTypes,t,u.prop)}return t},_checkPropTypes:function(t,n,o){var r=this.getName();for(var s in t)if(t.hasOwnProperty(s)){var a;try{"function"!=typeof t[s]?"production"!==e.env.NODE_ENV?g(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",c[o],s):g(!1):void 0,a=t[s](n,s,r,o)}catch(l){a=l}if(a instanceof Error){var h=i(this);o===u.prop?"production"!==e.env.NODE_ENV?_(!1,"Failed Composite propType: %s%s",a.message,h):void 0:"production"!==e.env.NODE_ENV?_(!1,"Failed Context Types: %s%s",a.message,h):void 0}}},receiveComponent:function(t,e,n){var i=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(e,i,t,o,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(t,n,i,o,r){var s,a=this._instance,l=this._context===r?a.context:this._processContext(r);n===i?s=i.props:(s=this._processProps(i.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(s,l));var h=this._processPendingState(s,l),u=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(s,h,l);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?_("undefined"!=typeof u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0),u?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,s,h,l,t,r)):(this._currentElement=i,this._context=r,a.props=s,a.state=h,a.context=l)},_processPendingState:function(t,e){var n=this._instance,i=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(o&&1===i.length)return i[0];for(var r=f({},o?i[0]:n.state),s=o?1:0;s<i.length;s++){var a=i[s];f(r,"function"==typeof a?a.call(n,r,t,e):a)}return r},_performComponentUpdate:function(t,e,n,i,o,r){var s,a,l,h=this._instance,u=Boolean(h.componentDidUpdate);u&&(s=h.props,a=h.state,l=h.context),h.componentWillUpdate&&h.componentWillUpdate(e,n,i),this._currentElement=t,this._context=r,h.props=e,h.state=n,h.context=i,this._updateRenderedComponent(o,r),u&&o.getReactMountReady().enqueue(h.componentDidUpdate.bind(h,s,a,l),h)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,i=n._currentElement,o=this._renderValidatedComponent();if(v(i,o))p.receiveComponent(n,o,t,this._processChildContext(e));else{var r=this._rootNodeID,s=n._rootNodeID;p.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o);var a=p.mountComponent(this._renderedComponent,r,t,this._processChildContext(e));this._replaceNodeWithMarkupByID(s,a)}},_replaceNodeWithMarkupByID:function(t,e){r.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,n=t.render();return"production"!==e.env.NODE_ENV&&"undefined"==typeof n&&t.render._isMockFunction&&(n=null),n},_renderValidatedComponent:function(){var t;s.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}return null===t||t===!1||a.isValidElement(t)?void 0:"production"!==e.env.NODE_ENV?g(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):g(!1),t},attachRef:function(t,n){var i=this.getPublicInstance();null==i?"production"!==e.env.NODE_ENV?g(!1,"Stateless function components cannot have refs."):g(!1):void 0;var o=n.getPublicInstance();if("production"!==e.env.NODE_ENV){var r=n&&n.getName?n.getName():"a component";"production"!==e.env.NODE_ENV?_(null!=o,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',t,r,this.getName()):void 0}var s=i.refs===m?i.refs={}:i.refs;s[t]=o},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return t instanceof o?null:t},_instantiateReactComponent:null};h.measureMethods(b,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var M={Mixin:b};t.exports=M}).call(e,n(1))},function(t,e){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(t,e,i){if(!e.disabled)return e;var o={};for(var r in e)e.hasOwnProperty(r)&&!n[r]&&(o[r]=e[r]);return o}};t.exports=i},function(t,e,n){(function(e){"use strict";function i(t){if(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(){if("production"!==e.env.NODE_ENV){var t=this._reactInternalComponent;"production"!==e.env.NODE_ENV?K(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",i(t)):void 0}return this}function r(){var t=this._reactInternalComponent;return"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?K(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",i(t)):void 0),!!t}function s(){if("production"!==e.env.NODE_ENV){var t=this._reactInternalComponent;"production"!==e.env.NODE_ENV?K(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",i(t)):void 0}}function a(t,n){var o=this._reactInternalComponent;"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?K(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",i(o)):void 0),o&&(U.enqueueSetPropsInternal(o,t),n&&U.enqueueCallbackInternal(o,n))}function l(t,n){var o=this._reactInternalComponent;"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?K(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",i(o)):void 0),o&&(U.enqueueReplacePropsInternal(o,t),n&&U.enqueueCallbackInternal(o,n))}function h(t){if("object"==typeof t){if(Array.isArray(t))return"["+t.map(h).join(", ")+"]";var e=[];for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);e.push(i+": "+h(t[n]))}return"{"+e.join(", ")+"}"}return"string"==typeof t?JSON.stringify(t):"function"==typeof t?"[function object]":String(t)}function u(t,n,i){if(null!=t&&null!=n&&!q(t,n)){var o,r=i._tag,s=i._currentElement._owner;s&&(o=s.getName());var a=o+"|"+r;it.hasOwnProperty(a)||(it[a]=!0,"production"!==e.env.NODE_ENV?K(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",r,s?"of `"+o+"`":"using <"+r+">",h(t),h(n)):void 0)}}function c(t,n){n&&("production"!==e.env.NODE_ENV&&at[t._tag]&&("production"!==e.env.NODE_ENV?K(null==n.children&&null==n.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",t._tag,t._currentElement._owner?" Check the render method of "+t._currentElement._owner.getName()+".":""):void 0),null!=n.dangerouslySetInnerHTML&&(null!=n.children?"production"!==e.env.NODE_ENV?V(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):V(!1):void 0,"object"==typeof n.dangerouslySetInnerHTML&&et in n.dangerouslySetInnerHTML?void 0:"production"!==e.env.NODE_ENV?V(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):V(!1)),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?K(null==n.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0,"production"!==e.env.NODE_ENV?K(!n.contentEditable||null==n.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):void 0),null!=n.style&&"object"!=typeof n.style?"production"!==e.env.NODE_ENV?V(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",i(t)):V(!1):void 0)}function p(t,n,i,o){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?K("onScroll"!==n||F("scroll",!0),"This browser doesn't support the `onScroll` event"):void 0);var r=I.findReactContainerForID(t);if(r){var s=r.nodeType===nt?r.ownerDocument:r;Y(n,s)}o.getReactMountReady().enqueue(d,{id:t,registrationName:n,listener:i})}function d(){var t=this;N.putListener(t.id,t.registrationName,t.listener)}function f(){var t=this;t._rootNodeID?void 0:"production"!==e.env.NODE_ENV?V(!1,"Must be mounted to trap events"):V(!1);var n=I.getNode(t._rootNodeID);switch(n?void 0:"production"!==e.env.NODE_ENV?V(!1,"trapBubbledEvent(...): Requires node to be rendered."):V(!1),t._tag){case"iframe":t._wrapperState.listeners=[N.trapBubbledEvent(L.topLevelTypes.topLoad,"load",n)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var i in ot)ot.hasOwnProperty(i)&&t._wrapperState.listeners.push(N.trapBubbledEvent(L.topLevelTypes[i],ot[i],n));break;case"img":t._wrapperState.listeners=[N.trapBubbledEvent(L.topLevelTypes.topError,"error",n),N.trapBubbledEvent(L.topLevelTypes.topLoad,"load",n)];break;case"form":t._wrapperState.listeners=[N.trapBubbledEvent(L.topLevelTypes.topReset,"reset",n),N.trapBubbledEvent(L.topLevelTypes.topSubmit,"submit",n)]}}function m(){D.mountReadyWrapper(this)}function g(){O.postUpdateWrapper(this)}function v(t){ut.call(ht,t)||(lt.test(t)?void 0:"production"!==e.env.NODE_ENV?V(!1,"Invalid tag: %s",t):V(!1),ht[t]=!0)}function _(t,e){t=z({},t);var n=t[Z.ancestorInfoContextKey];return t[Z.ancestorInfoContextKey]=Z.updatedAncestorInfo(n,e._tag,e),t}function y(t,e){return t.indexOf("-")>=0||null!=e.is}function b(t){v(t),this._tag=t.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,"production"!==e.env.NODE_ENV&&(this._unprocessedContextDev=null,this._processedContextDev=null)}var M,x=n(128),w=n(130),E=n(16),C=n(39),L=n(12),N=n(29),P=n(41),S=n(143),D=n(146),k=n(147),O=n(69),T=n(150),I=n(6),A=n(157),R=n(8),U=n(44),z=n(3),j=n(34),B=n(35),V=n(2),F=n(52),W=n(15),G=n(36),H=n(53),q=n(94),Z=n(56),K=n(4),J=N.deleteListener,Y=N.listenTo,X=N.registrationNameModules,Q={string:!0,number:!0},$=W({children:null}),tt=W({style:null}),et=W({__html:null}),nt=1;"production"!==e.env.NODE_ENV&&(M={props:{enumerable:!1,get:function(){var t=this._reactInternalComponent;return"production"!==e.env.NODE_ENV?K(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",i(t)):void 0,t._currentElement.props}}});var it={},ot={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},rt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},st={listing:!0,pre:!0,textarea:!0},at=z({menuitem:!0},rt),lt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ht={},ut={}.hasOwnProperty;b.displayName="ReactDOMComponent",b.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,n,i){this._rootNodeID=t;var o=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},n.getReactMountReady().enqueue(f,this);break;case"button":o=S.getNativeProps(this,o,i);break;case"input":D.mountWrapper(this,o,i),o=D.getNativeProps(this,o,i);break;case"option":k.mountWrapper(this,o,i),o=k.getNativeProps(this,o,i);break;case"select":O.mountWrapper(this,o,i),o=O.getNativeProps(this,o,i),i=O.processChildContext(this,o,i);break;case"textarea":T.mountWrapper(this,o,i),o=T.getNativeProps(this,o,i)}c(this,o),"production"!==e.env.NODE_ENV&&i[Z.ancestorInfoContextKey]&&Z(this._tag,this,i[Z.ancestorInfoContextKey]),"production"!==e.env.NODE_ENV&&(this._unprocessedContextDev=i,this._processedContextDev=_(i,this),i=this._processedContextDev);var r;if(n.useCreateElement){var s=i[I.ownerDocumentContextKey],a=s.createElement(this._currentElement.type);C.setAttributeForID(a,this._rootNodeID),I.getID(a),this._updateDOMProperties({},o,n,a),this._createInitialChildren(n,o,i,a),r=a}else{var l=this._createOpenTagMarkupAndPutListeners(n,o),h=this._createContentMarkup(n,o,i);r=!h&&rt[this._tag]?l+"/>":l+">"+h+"</"+this._currentElement.type+">"}switch(this._tag){case"input":n.getReactMountReady().enqueue(m,this);case"button":case"select":case"textarea":o.autoFocus&&n.getReactMountReady().enqueue(x.focusDOMComponent,this)}return r},_createOpenTagMarkupAndPutListeners:function(t,n){var i="<"+this._currentElement.type;for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];if(null!=r)if(X.hasOwnProperty(o))r&&p(this._rootNodeID,o,r,t);else{o===tt&&(r&&("production"!==e.env.NODE_ENV&&(this._previousStyle=r),r=this._previousStyleCopy=z({},n.style)),r=w.createMarkupForStyles(r));var s=null;null!=this._tag&&y(this._tag,n)?o!==$&&(s=C.createMarkupForCustomAttribute(o,r)):s=C.createMarkupForProperty(o,r),s&&(i+=" "+s)}}if(t.renderToStaticMarkup)return i;var a=C.createMarkupForID(this._rootNodeID);return i+" "+a},_createContentMarkup:function(t,e,n){var i="",o=e.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(i=o.__html);else{var r=Q[typeof e.children]?e.children:null,s=null!=r?null:e.children;if(null!=r)i=B(r);else if(null!=s){var a=this.mountChildren(s,t,n);i=a.join("")}}return st[this._tag]&&"\n"===i.charAt(0)?"\n"+i:i},_createInitialChildren:function(t,e,n,i){var o=e.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&G(i,o.__html);else{var r=Q[typeof e.children]?e.children:null,s=null!=r?null:e.children;if(null!=r)H(i,r);else if(null!=s)for(var a=this.mountChildren(s,t,n),l=0;l<a.length;l++)i.appendChild(a[l])}},receiveComponent:function(t,e,n){var i=this._currentElement;this._currentElement=t,this.updateComponent(e,i,t,n)},updateComponent:function(t,n,i,o){var r=n.props,s=this._currentElement.props;switch(this._tag){case"button":r=S.getNativeProps(this,r),s=S.getNativeProps(this,s);break;case"input":D.updateWrapper(this),r=D.getNativeProps(this,r),s=D.getNativeProps(this,s);break;case"option":r=k.getNativeProps(this,r),s=k.getNativeProps(this,s);break;case"select":r=O.getNativeProps(this,r),s=O.getNativeProps(this,s);break;case"textarea":T.updateWrapper(this),r=T.getNativeProps(this,r),s=T.getNativeProps(this,s)}"production"!==e.env.NODE_ENV&&(this._unprocessedContextDev!==o&&(this._unprocessedContextDev=o,this._processedContextDev=_(o,this)),o=this._processedContextDev),c(this,s),this._updateDOMProperties(r,s,t,null),this._updateDOMChildren(r,s,t,o),!j&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=s),"select"===this._tag&&t.getReactMountReady().enqueue(g,this)},_updateDOMProperties:function(t,n,i,o){var r,s,a;for(r in t)if(!n.hasOwnProperty(r)&&t.hasOwnProperty(r))if(r===tt){var l=this._previousStyleCopy;for(s in l)l.hasOwnProperty(s)&&(a=a||{},a[s]="");this._previousStyleCopy=null}else X.hasOwnProperty(r)?t[r]&&J(this._rootNodeID,r):(E.properties[r]||E.isCustomAttribute(r))&&(o||(o=I.getNode(this._rootNodeID)),C.deleteValueForProperty(o,r));for(r in n){var h=n[r],c=r===tt?this._previousStyleCopy:t[r];if(n.hasOwnProperty(r)&&h!==c)if(r===tt)if(h?("production"!==e.env.NODE_ENV&&(u(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=h),
h=this._previousStyleCopy=z({},h)):this._previousStyleCopy=null,c){for(s in c)!c.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(a=a||{},a[s]="");for(s in h)h.hasOwnProperty(s)&&c[s]!==h[s]&&(a=a||{},a[s]=h[s])}else a=h;else X.hasOwnProperty(r)?h?p(this._rootNodeID,r,h,i):c&&J(this._rootNodeID,r):y(this._tag,n)?(o||(o=I.getNode(this._rootNodeID)),r===$&&(h=null),C.setValueForAttribute(o,r,h)):(E.properties[r]||E.isCustomAttribute(r))&&(o||(o=I.getNode(this._rootNodeID)),null!=h?C.setValueForProperty(o,r,h):C.deleteValueForProperty(o,r))}a&&(o||(o=I.getNode(this._rootNodeID)),w.setValueForStyles(o,a))},_updateDOMChildren:function(t,e,n,i){var o=Q[typeof t.children]?t.children:null,r=Q[typeof e.children]?e.children:null,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=null!=o?null:t.children,h=null!=r?null:e.children,u=null!=o||null!=s,c=null!=r||null!=a;null!=l&&null==h?this.updateChildren(null,n,i):u&&!c&&this.updateTextContent(""),null!=r?o!==r&&this.updateTextContent(""+r):null!=a?s!==a&&this.updateMarkup(""+a):null!=h&&this.updateChildren(h,n,i)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":D.unmountWrapper(this);break;case"html":case"head":case"body":"production"!==e.env.NODE_ENV?V(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):V(!1)}if(this.unmountChildren(),N.deleteAllListeners(this._rootNodeID),P.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var i=this._nodeWithLegacyProperties;i._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var t=I.getNode(this._rootNodeID);t._reactInternalComponent=this,t.getDOMNode=o,t.isMounted=r,t.setState=s,t.replaceState=s,t.forceUpdate=s,t.setProps=a,t.replaceProps=l,"production"!==e.env.NODE_ENV&&j?Object.defineProperties(t,M):t.props=this._currentElement.props,this._nodeWithLegacyProperties=t}return this._nodeWithLegacyProperties}},R.measureMethods(b,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),z(b.prototype,b.Mixin,A.Mixin),t.exports=b}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t){return"production"!==e.env.NODE_ENV?r.createFactory(t):o.createFactory(t)}var o=n(7),r=n(73),s=n(194),a=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},i);t.exports=a}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(){this._rootNodeID&&p.updateWrapper(this)}function o(t){var n=this._currentElement.props,o=s.executeOnChange(n,t);l.asap(i,this);var r=n.name;if("radio"===n.type&&null!=r){for(var h=a.getNode(this._rootNodeID),p=h;p.parentNode;)p=p.parentNode;for(var d=p.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),f=0;f<d.length;f++){var m=d[f];if(m!==h&&m.form===h.form){var g=a.getID(m);g?void 0:"production"!==e.env.NODE_ENV?u(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):u(!1);var v=c[g];v?void 0:"production"!==e.env.NODE_ENV?u(!1,"ReactDOMInput: Unknown radio button ID %s.",g):u(!1),l.asap(i,v)}}}return o}var r=n(43),s=n(40),a=n(6),l=n(9),h=n(3),u=n(2),c={},p={getNativeProps:function(t,e,n){var i=s.getValue(e),o=s.getChecked(e),r=h({},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=i?i:t._wrapperState.initialValue,checked:null!=o?o:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return r},mountWrapper:function(t,n){"production"!==e.env.NODE_ENV&&s.checkPropTypes("input",n,t._currentElement._owner);var i=n.defaultValue;t._wrapperState={initialChecked:n.defaultChecked||!1,initialValue:null!=i?i:null,onChange:o.bind(t)}},mountReadyWrapper:function(t){c[t._rootNodeID]=t},unmountWrapper:function(t){delete c[t._rootNodeID]},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&r.updatePropertyByID(t._rootNodeID,"checked",n||!1);var i=s.getValue(e);null!=i&&r.updatePropertyByID(t._rootNodeID,"value",""+i)}};t.exports=p}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var i=n(64),o=n(69),r=n(3),s=n(4),a=o.valueContextKey,l={mountWrapper:function(t,n,i){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(null==n.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):void 0);var o=i[a],r=null;if(null!=o)if(r=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]==""+n.value){r=!0;break}}else r=""+o==""+n.value;t._wrapperState={selected:r}},getNativeProps:function(t,n,o){var a=r({selected:void 0,children:void 0},n);null!=t._wrapperState.selected&&(a.selected=t._wrapperState.selected);var l="";return i.forEach(n.children,function(t){null!=t&&("string"==typeof t||"number"==typeof t?l+=t:"production"!==e.env.NODE_ENV?s(!1,"Only strings and numbers are supported as <option> children."):void 0)}),l&&(a.children=l),a}};t.exports=l}).call(e,n(1))},function(t,e,n){"use strict";function i(t,e,n,i){return t===n&&e===i}function o(t){var e=document.selection,n=e.createRange(),i=n.text.length,o=n.duplicate();o.moveToElementText(t),o.setEndPoint("EndToStart",n);var r=o.text.length,s=r+i;return{start:r,end:s}}function r(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,o=e.anchorOffset,r=e.focusNode,s=e.focusOffset,a=e.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(l){return null}var h=i(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),u=h?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(t),c.setEnd(a.startContainer,a.startOffset);var p=i(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,f=d+u,m=document.createRange();m.setStart(n,o),m.setEnd(r,s);var g=m.collapsed;return{start:g?f:d,end:g?d:f}}function s(t,e){var n,i,o=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,i=n):e.start>e.end?(n=e.end,i=e.start):(n=e.start,i=e.end),o.moveToElementText(t),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",i-n),o.select()}function a(t,e){if(window.getSelection){var n=window.getSelection(),i=t[u()].length,o=Math.min(e.start,i),r="undefined"==typeof e.end?o:Math.min(e.end,i);if(!n.extend&&o>r){var s=r;r=o,o=s}var a=h(t,o),l=h(t,r);if(a&&l){var c=document.createRange();c.setStart(a.node,a.offset),n.removeAllRanges(),o>r?(n.addRange(c),n.extend(l.node,l.offset)):(c.setEnd(l.node,l.offset),n.addRange(c))}}}var l=n(5),h=n(181),u=n(87),c=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:c?o:r,setOffsets:c?s:a};t.exports=p},function(t,e,n){"use strict";var i=n(72),o=n(162),r=n(45);i.inject();var s={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:r};t.exports=s},function(t,e,n){(function(e){"use strict";function i(){this._rootNodeID&&c.updateWrapper(this)}function o(t){var e=this._currentElement.props,n=r.executeOnChange(e,t);return a.asap(i,this),n}var r=n(40),s=n(43),a=n(9),l=n(3),h=n(2),u=n(4),c={getNativeProps:function(t,n,i){null!=n.dangerouslySetInnerHTML?"production"!==e.env.NODE_ENV?h(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):h(!1):void 0;var o=l({},n,{defaultValue:void 0,value:void 0,children:t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return o},mountWrapper:function(t,n){"production"!==e.env.NODE_ENV&&r.checkPropTypes("textarea",n,t._currentElement._owner);var i=n.defaultValue,s=n.children;null!=s&&("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?u(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):void 0),null!=i?"production"!==e.env.NODE_ENV?h(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):h(!1):void 0,Array.isArray(s)&&(s.length<=1?void 0:"production"!==e.env.NODE_ENV?h(!1,"<textarea> can only have at most one child."):h(!1),s=s[0]),i=""+s),null==i&&(i="");var a=r.getValue(n);t._wrapperState={initialValue:""+(null!=a?a:i),onChange:o.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=r.getValue(e);null!=n&&s.updatePropertyByID(t._rootNodeID,"value",""+n)}};t.exports=c}).call(e,n(1))},function(t,e,n){"use strict";function i(t){return Math.floor(100*t)/100}function o(t,e,n){t[e]=(t[e]||0)+n}var r=n(16),s=n(152),a=n(6),l=n(8),h=n(197),u={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){u._injected||l.injection.injectMeasure(u.measure),u._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return u._allMeasurements},printExclusive:function(t){t=t||u._allMeasurements;var e=s.getExclusiveSummary(t);console.table(e.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":i(t.inclusive),"Exclusive mount time (ms)":i(t.exclusive),"Exclusive render time (ms)":i(t.render),"Mount time per instance (ms)":i(t.exclusive/t.count),"Render time per instance (ms)":i(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||u._allMeasurements;var e=s.getInclusiveSummary(t);console.table(e.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":i(t.time),Instances:t.count}})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(t){var e=s.getInclusiveSummary(t,!0);return e.map(function(t){return{"Owner > component":t.componentName,"Wasted time (ms)":t.time,Instances:t.count}})},printWasted:function(t){t=t||u._allMeasurements,console.table(u.getMeasurementsSummaryMap(t)),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},printDOM:function(t){t=t||u._allMeasurements;var e=s.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[r.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},_recordWrite:function(t,e,n,i){var o=u._allMeasurements[u._allMeasurements.length-1].writes;o[t]=o[t]||[],o[t].push({type:e,time:n,args:i})},measure:function(t,e,n){return function(){for(var i=arguments.length,r=Array(i),s=0;i>s;s++)r[s]=arguments[s];var l,c,p;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return u._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),p=h(),c=n.apply(this,r),u._allMeasurements[u._allMeasurements.length-1].totalTime=h()-p,c;if("_mountImageIntoNode"===e||"ReactBrowserEventEmitter"===t||"ReactDOMIDOperations"===t||"CSSPropertyOperations"===t||"DOMChildrenOperations"===t||"DOMPropertyOperations"===t){if(p=h(),c=n.apply(this,r),l=h()-p,"_mountImageIntoNode"===e){var d=a.getID(r[1]);u._recordWrite(d,e,l,r[0])}else if("dangerouslyProcessChildrenUpdates"===e)r[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=r[1][t.markupIndex]),u._recordWrite(t.parentID,t.type,l,e)});else{var f=r[0];"object"==typeof f&&(f=a.getID(r[0])),u._recordWrite(f,e,l,Array.prototype.slice.call(r,1))}return c}if("ReactCompositeComponent"!==t||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return n.apply(this,r);if(this._currentElement.type===a.TopLevelWrapper)return n.apply(this,r);var m="mountComponent"===e?r[0]:this._rootNodeID,g="_renderValidatedComponent"===e,v="mountComponent"===e,_=u._mountStack,y=u._allMeasurements[u._allMeasurements.length-1];if(g?o(y.counts,m,1):v&&(y.created[m]=!0,_.push(0)),p=h(),c=n.apply(this,r),l=h()-p,g)o(y.render,m,l);else if(v){var b=_.pop();_[_.length-1]+=l,o(y.exclusive,m,l-b),o(y.inclusive,m,l)}else o(y.inclusive,m,l);return y.displayNames[m]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},c}}};t.exports=u},function(t,e,n){"use strict";function i(t){for(var e=0,n=0;n<t.length;n++){var i=t[n];e+=i.totalTime}return e}function o(t){var e=[];return t.forEach(function(t){Object.keys(t.writes).forEach(function(n){t.writes[n].forEach(function(t){e.push({id:n,type:u[t.type]||t.type,args:t.args})})})}),e}function r(t){for(var e,n={},i=0;i<t.length;i++){var o=t[i],r=l({},o.exclusive,o.inclusive);for(var s in r)e=o.displayNames[s].current,n[e]=n[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},o.render[s]&&(n[e].render+=o.render[s]),o.exclusive[s]&&(n[e].exclusive+=o.exclusive[s]),o.inclusive[s]&&(n[e].inclusive+=o.inclusive[s]),o.counts[s]&&(n[e].count+=o.counts[s])}var a=[];for(e in n)n[e].exclusive>=h&&a.push(n[e]);return a.sort(function(t,e){return e.exclusive-t.exclusive}),a}function s(t,e){for(var n,i={},o=0;o<t.length;o++){var r,s=t[o],u=l({},s.exclusive,s.inclusive);e&&(r=a(s));for(var c in u)if(!e||r[c]){var p=s.displayNames[c];n=p.owner+" > "+p.current,i[n]=i[n]||{componentName:n,time:0,count:0},s.inclusive[c]&&(i[n].time+=s.inclusive[c]),s.counts[c]&&(i[n].count+=s.counts[c])}}var d=[];for(n in i)i[n].time>=h&&d.push(i[n]);return d.sort(function(t,e){return e.time-t.time}),d}function a(t){var e={},n=Object.keys(t.writes),i=l({},t.exclusive,t.inclusive);for(var o in i){for(var r=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(o)){r=!0;break}t.created[o]&&(r=!0),!r&&t.counts[o]>0&&(e[o]=!0)}return e}var l=n(3),h=1.2,u={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},c={getExclusiveSummary:r,getInclusiveSummary:s,getDOMSummary:o,getTotalTime:i};t.exports=c},function(t,e,n){"use strict";function i(t){o.enqueueEvents(t),o.processEventQueue(!1)}var o=n(23),r={handleTopLevel:function(t,e,n,r,s){var a=o.extractEvents(t,e,n,r,s);i(a)}};t.exports=r},function(t,e,n){"use strict";function i(t){var e=p.getID(t),n=c.getReactRootIDFromNodeID(e),i=p.findReactContainerForID(n),o=p.getFirstReactDOM(i);return o}function o(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function r(t){s(t)}function s(t){for(var e=p.getFirstReactDOM(m(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=i(n);for(var o=0;o<t.ancestors.length;o++){e=t.ancestors[o];var r=p.getID(e)||"";v._handleTopLevel(t.topLevelType,e,r,t.nativeEvent,m(t.nativeEvent))}}function a(t){var e=g(window);t(e)}var l=n(89),h=n(5),u=n(14),c=n(19),p=n(6),d=n(9),f=n(3),m=n(49),g=n(189);f(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(o,u.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:h.canUseDOM?window:null,setHandleTopLevel:function(t){v._handleTopLevel=t},setEnabled:function(t){v._enabled=!!t},isEnabled:function(){return v._enabled},trapBubbledEvent:function(t,e,n){var i=n;return i?l.listen(i,e,v.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var i=n;return i?l.capture(i,e,v.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);l.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(v._enabled){var n=o.getPooled(t,e);try{d.batchedUpdates(r,n)}finally{o.release(n)}}}};t.exports=v},function(t,e,n){"use strict";var i=n(16),o=n(23),r=n(42),s=n(65),a=n(74),l=n(29),h=n(80),u=n(8),c=n(83),p=n(9),d={Component:r.injection,Class:s.injection,DOMProperty:i.injection,EmptyComponent:a.injection,EventPluginHub:o.injection,EventEmitter:l.injection,NativeComponent:h.injection,Perf:u.injection,RootIndex:c.injection,Updates:p.injection};t.exports=d},function(t,e,n){(function(e){"use strict";var i=n(64),o=n(66),r=n(65),s=n(145),a=n(7),l=n(73),h=n(82),u=n(45),c=n(3),p=n(182),d=a.createElement,f=a.createFactory,m=a.cloneElement;"production"!==e.env.NODE_ENV&&(d=l.createElement,f=l.createFactory,m=l.cloneElement);var g={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:p},Component:o,createElement:d,cloneElement:m,isValidElement:a.isValidElement,PropTypes:h,createClass:r.createClass,createFactory:f,createMixin:function(t){return t},DOM:s,version:u,__spread:c};t.exports=g}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t,e,n){v.push({parentID:t,parentNode:null,type:c.INSERT_MARKUP,markupIndex:_.push(e)-1,content:null,fromIndex:null,toIndex:n})}function o(t,e,n){v.push({parentID:t,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:e,toIndex:n})}function r(t,e){v.push({parentID:t,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,content:null,fromIndex:e,toIndex:null})}function s(t,e){v.push({parentID:t,parentNode:null,type:c.SET_MARKUP,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function a(t,e){v.push({parentID:t,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function l(){v.length&&(u.processChildrenUpdates(v,_),h())}function h(){v.length=0,_.length=0}var u=n(42),c=n(79),p=n(13),d=n(17),f=n(141),m=n(179),g=0,v=[],_=[],y={Mixin:{_reconcilerInstantiateChildren:function(t,n,i){if("production"!==e.env.NODE_ENV&&this._currentElement)try{return p.current=this._currentElement._owner,f.instantiateChildren(t,n,i)}finally{p.current=null}return f.instantiateChildren(t,n,i)},_reconcilerUpdateChildren:function(t,n,i,o){var r;if("production"!==e.env.NODE_ENV&&this._currentElement){try{p.current=this._currentElement._owner,r=m(n)}finally{p.current=null}return f.updateChildren(t,r,i,o)}return r=m(n),f.updateChildren(t,r,i,o)},mountChildren:function(t,e,n){var i=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=i;var o=[],r=0;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s],l=this._rootNodeID+s,h=d.mountComponent(a,l,e,n);a._mountIndex=r++,o.push(h)}return o},updateTextContent:function(t){g++;var e=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChild(n[i]);this.setTextContent(t),e=!1}finally{g--,g||(e?h():l())}},updateMarkup:function(t){g++;var e=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setMarkup(t),e=!1}finally{g--,g||(e?h():l())}},updateChildren:function(t,e,n){g++;var i=!0;try{this._updateChildren(t,e,n),i=!1}finally{g--,g||(i?h():l())}},_updateChildren:function(t,e,n){var i=this._renderedChildren,o=this._reconcilerUpdateChildren(i,t,e,n);if(this._renderedChildren=o,o||i){var r,s=0,a=0;for(r in o)if(o.hasOwnProperty(r)){var l=i&&i[r],h=o[r];l===h?(this.moveChild(l,a,s),s=Math.max(l._mountIndex,s),l._mountIndex=a):(l&&(s=Math.max(l._mountIndex,s),this._unmountChild(l)),this._mountChildByNameAtIndex(h,r,a,e,n)),a++}for(r in i)!i.hasOwnProperty(r)||o&&o.hasOwnProperty(r)||this._unmountChild(i[r])}},unmountChildren:function(){var t=this._renderedChildren;f.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&o(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){i(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){r(this._rootNodeID,t._mountIndex)},setTextContent:function(t){a(this._rootNodeID,t)},setMarkup:function(t){s(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,i,o){var r=this._rootNodeID+e,s=d.mountComponent(t,r,i,o);t._mountIndex=n,this.createChild(t,s)},_unmountChild:function(t){this.removeChild(t),t._mountIndex=null}}};t.exports=y}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var i=n(2),o={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,n,r){o.isValidOwner(r)?void 0:"production"!==e.env.NODE_ENV?i(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):i(!1),r.attachRef(n,t)},removeComponentAsRefFrom:function(t,n,r){o.isValidOwner(r)?void 0:"production"!==e.env.NODE_ENV?i(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):i(!1),r.getPublicInstance().refs[n]===t.getPublicInstance()&&r.detachRef(n)}};t.exports=o}).call(e,n(1))},function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=!t&&a.useCreateElement}var o=n(38),r=n(14),s=n(29),a=n(68),l=n(77),h=n(33),u=n(3),c={initialize:l.getSelectionInformation,close:l.restoreSelection},p={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[c,p,d],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};u(i.prototype,h.Mixin,m),r.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";function i(t,e,n){"function"==typeof t?t(e.getPublicInstance()):r.addComponentAsRefTo(e,t,n)}function o(t,e,n){"function"==typeof t?t(null):r.removeComponentAsRefFrom(e,t,n)}var r=n(158),s={};s.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&i(n,t,e._owner)}},s.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,i=null===e||e===!1;return n||i||e._owner!==t._owner||e.ref!==t.ref},s.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&o(n,t,e._owner)}},t.exports=s},function(t,e){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(t){}};t.exports=n},function(t,e,n){(function(e){"use strict";function i(t){s.isValidElement(t)?void 0:"production"!==e.env.NODE_ENV?f(!1,"renderToString(): You must pass a valid ReactElement."):f(!1);var n;try{c.injection.injectBatchingStrategy(h);var i=a.createReactRootID();return n=u.getPooled(!1),n.perform(function(){var e=d(t,null),o=e.mountComponent(i,n,p);return l.addChecksumToMarkup(o)},null)}finally{u.release(n),c.injection.injectBatchingStrategy(r)}}function o(t){s.isValidElement(t)?void 0:"production"!==e.env.NODE_ENV?f(!1,"renderToStaticMarkup(): You must pass a valid ReactElement."):f(!1);var n;try{c.injection.injectBatchingStrategy(h);var i=a.createReactRootID();return n=u.getPooled(!0),n.perform(function(){var e=d(t,null);return e.mountComponent(i,n,p)},null)}finally{u.release(n),c.injection.injectBatchingStrategy(r)}}var r=n(71),s=n(7),a=n(19),l=n(78),h=n(161),u=n(163),c=n(9),p=n(27),d=n(51),f=n(2);t.exports={renderToString:i,renderToStaticMarkup:o}}).call(e,n(1))},function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=r.getPooled(null),this.useCreateElement=!1}var o=n(14),r=n(38),s=n(33),a=n(3),l=n(10),h={initialize:function(){this.reactMountReady.reset()},close:l},u=[h],c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};a(i.prototype,s.Mixin,c),o.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";var i=n(16),o=i.injection.MUST_USE_ATTRIBUTE,r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},s={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,xlinkActuate:o,xlinkArcrole:o,xlinkHref:o,xlinkRole:o,xlinkShow:o,xlinkTitle:o,xlinkType:o,xmlBase:o,xmlLang:o,xmlSpace:o,y1:o,y2:o,y:o},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=s},function(t,e,n){"use strict";function i(t){if("selectionStart"in t&&l.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(t,e){if(b||null==v||v!==u())return null;var n=i(v);if(!y||!d(y,n)){y=n;var o=h.getPooled(g.select,_,t,e);return o.type="select",o.target=v,s.accumulateTwoPhaseDispatches(o),o}return null}var r=n(12),s=n(24),a=n(5),l=n(77),h=n(18),u=n(92),c=n(88),p=n(15),d=n(94),f=r.topLevelTypes,m=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},v=null,_=null,y=null,b=!1,M=!1,x=p({onSelect:null}),w={eventTypes:g,extractEvents:function(t,e,n,i,r){if(!M)return null;switch(t){case f.topFocus:(c(e)||"true"===e.contentEditable)&&(v=e,_=n,y=null);break;case f.topBlur:v=null,_=null,y=null;break;case f.topMouseDown:b=!0;break;case f.topContextMenu:case f.topMouseUp:return b=!1,o(i,r);case f.topSelectionChange:if(m)break;case f.topKeyDown:case f.topKeyUp:return o(i,r)}return null},didPutListener:function(t,e,n){e===x&&(M=!0)}};t.exports=w},function(t,e){"use strict";var n=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=i},function(t,e,n){(function(e){"use strict";var i=n(12),o=n(89),r=n(24),s=n(6),a=n(168),l=n(18),h=n(171),u=n(173),c=n(32),p=n(170),d=n(174),f=n(26),m=n(175),g=n(10),v=n(47),_=n(2),y=n(15),b=i.topLevelTypes,M={abort:{phasedRegistrationNames:{bubbled:y({onAbort:!0}),captured:y({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:y({onBlur:!0}),captured:y({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:y({onCanPlay:!0}),captured:y({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:y({onCanPlayThrough:!0}),captured:y({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:y({onClick:!0}),captured:y({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:y({onContextMenu:!0}),captured:y({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:y({onCopy:!0}),captured:y({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:y({onCut:!0}),captured:y({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:y({onDoubleClick:!0}),captured:y({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:y({onDrag:!0}),captured:y({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:y({onDragEnd:!0}),captured:y({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:y({onDragEnter:!0}),captured:y({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:y({onDragExit:!0}),captured:y({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:y({onDragLeave:!0}),captured:y({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:y({onDragOver:!0}),captured:y({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:y({onDragStart:!0}),captured:y({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:y({onDrop:!0}),captured:y({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:y({onDurationChange:!0}),captured:y({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:y({onEmptied:!0}),captured:y({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:y({onEncrypted:!0}),captured:y({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:y({onEnded:!0}),captured:y({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:y({onError:!0}),captured:y({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:y({onFocus:!0}),captured:y({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:y({onInput:!0}),captured:y({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:y({onKeyDown:!0}),captured:y({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:y({onKeyPress:!0}),captured:y({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:y({onKeyUp:!0}),captured:y({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:y({onLoad:!0}),captured:y({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:y({
onLoadedData:!0}),captured:y({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:y({onLoadedMetadata:!0}),captured:y({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:y({onLoadStart:!0}),captured:y({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:y({onMouseDown:!0}),captured:y({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:y({onMouseMove:!0}),captured:y({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:y({onMouseOut:!0}),captured:y({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:y({onMouseOver:!0}),captured:y({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:y({onMouseUp:!0}),captured:y({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:y({onPaste:!0}),captured:y({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:y({onPause:!0}),captured:y({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:y({onPlay:!0}),captured:y({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:y({onPlaying:!0}),captured:y({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:y({onProgress:!0}),captured:y({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:y({onRateChange:!0}),captured:y({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:y({onReset:!0}),captured:y({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:y({onScroll:!0}),captured:y({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:y({onSeeked:!0}),captured:y({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:y({onSeeking:!0}),captured:y({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:y({onStalled:!0}),captured:y({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:y({onSubmit:!0}),captured:y({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:y({onSuspend:!0}),captured:y({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:y({onTimeUpdate:!0}),captured:y({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:y({onTouchCancel:!0}),captured:y({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:y({onTouchEnd:!0}),captured:y({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:y({onTouchMove:!0}),captured:y({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:y({onTouchStart:!0}),captured:y({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:y({onVolumeChange:!0}),captured:y({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:y({onWaiting:!0}),captured:y({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:y({onWheel:!0}),captured:y({onWheelCapture:!0})}}},x={topAbort:M.abort,topBlur:M.blur,topCanPlay:M.canPlay,topCanPlayThrough:M.canPlayThrough,topClick:M.click,topContextMenu:M.contextMenu,topCopy:M.copy,topCut:M.cut,topDoubleClick:M.doubleClick,topDrag:M.drag,topDragEnd:M.dragEnd,topDragEnter:M.dragEnter,topDragExit:M.dragExit,topDragLeave:M.dragLeave,topDragOver:M.dragOver,topDragStart:M.dragStart,topDrop:M.drop,topDurationChange:M.durationChange,topEmptied:M.emptied,topEncrypted:M.encrypted,topEnded:M.ended,topError:M.error,topFocus:M.focus,topInput:M.input,topKeyDown:M.keyDown,topKeyPress:M.keyPress,topKeyUp:M.keyUp,topLoad:M.load,topLoadedData:M.loadedData,topLoadedMetadata:M.loadedMetadata,topLoadStart:M.loadStart,topMouseDown:M.mouseDown,topMouseMove:M.mouseMove,topMouseOut:M.mouseOut,topMouseOver:M.mouseOver,topMouseUp:M.mouseUp,topPaste:M.paste,topPause:M.pause,topPlay:M.play,topPlaying:M.playing,topProgress:M.progress,topRateChange:M.rateChange,topReset:M.reset,topScroll:M.scroll,topSeeked:M.seeked,topSeeking:M.seeking,topStalled:M.stalled,topSubmit:M.submit,topSuspend:M.suspend,topTimeUpdate:M.timeUpdate,topTouchCancel:M.touchCancel,topTouchEnd:M.touchEnd,topTouchMove:M.touchMove,topTouchStart:M.touchStart,topVolumeChange:M.volumeChange,topWaiting:M.waiting,topWheel:M.wheel};for(var w in x)x[w].dependencies=[w];var E=y({onClick:null}),C={},L={eventTypes:M,extractEvents:function(t,n,i,o,s){var g=x[t];if(!g)return null;var y;switch(t){case b.topAbort:case b.topCanPlay:case b.topCanPlayThrough:case b.topDurationChange:case b.topEmptied:case b.topEncrypted:case b.topEnded:case b.topError:case b.topInput:case b.topLoad:case b.topLoadedData:case b.topLoadedMetadata:case b.topLoadStart:case b.topPause:case b.topPlay:case b.topPlaying:case b.topProgress:case b.topRateChange:case b.topReset:case b.topSeeked:case b.topSeeking:case b.topStalled:case b.topSubmit:case b.topSuspend:case b.topTimeUpdate:case b.topVolumeChange:case b.topWaiting:y=l;break;case b.topKeyPress:if(0===v(o))return null;case b.topKeyDown:case b.topKeyUp:y=u;break;case b.topBlur:case b.topFocus:y=h;break;case b.topClick:if(2===o.button)return null;case b.topContextMenu:case b.topDoubleClick:case b.topMouseDown:case b.topMouseMove:case b.topMouseOut:case b.topMouseOver:case b.topMouseUp:y=c;break;case b.topDrag:case b.topDragEnd:case b.topDragEnter:case b.topDragExit:case b.topDragLeave:case b.topDragOver:case b.topDragStart:case b.topDrop:y=p;break;case b.topTouchCancel:case b.topTouchEnd:case b.topTouchMove:case b.topTouchStart:y=d;break;case b.topScroll:y=f;break;case b.topWheel:y=m;break;case b.topCopy:case b.topCut:case b.topPaste:y=a}y?void 0:"production"!==e.env.NODE_ENV?_(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",t):_(!1);var M=y.getPooled(g,i,o,s);return r.accumulateTwoPhaseDispatches(M),M},didPutListener:function(t,e,n){if(e===E){var i=s.getNode(t);C[t]||(C[t]=o.listen(i,"click",g))}},willDeleteListener:function(t,e){e===E&&(C[t].remove(),delete C[t])}};t.exports=L}).call(e,n(1))},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(18),r={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};o.augmentClass(i,r),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(18),r={data:null};o.augmentClass(i,r),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(32),r={dataTransfer:null};o.augmentClass(i,r),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(26),r={relatedTarget:null};o.augmentClass(i,r),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(18),r={data:null};o.augmentClass(i,r),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(26),r=n(47),s=n(180),a=n(48),l={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(t){return"keypress"===t.type?r(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?r(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};o.augmentClass(i,l),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(26),r=n(48),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};o.augmentClass(i,s),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var o=n(32),r={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(i,r),t.exports=i},function(t,e){"use strict";function n(t){for(var e=1,n=0,o=0,r=t.length,s=-4&r;s>o;){for(;o<Math.min(o+4096,s);o+=4)n+=(e+=t.charCodeAt(o))+(e+=t.charCodeAt(o+1))+(e+=t.charCodeAt(o+2))+(e+=t.charCodeAt(o+3));e%=i,n%=i}for(;r>o;o++)n+=e+=t.charCodeAt(o);return e%=i,n%=i,e|n<<16}var i=65521;t.exports=n},function(t,e,n){"use strict";function i(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var i=isNaN(e);return i||0===e||r.hasOwnProperty(t)&&r[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var o=n(61),r=o.isUnitlessNumber;t.exports=i},function(t,e,n){(function(e){"use strict";function i(t,n,i,s,a){var l=!1;if("production"!==e.env.NODE_ENV){var h=function(){return"production"!==e.env.NODE_ENV?r(l,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",t,n,t,i):void 0,l=!0,a.apply(s,arguments)};return o(h,a)}return a}var o=n(3),r=n(4);t.exports=i}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function i(t,n,i){var o=t,r=void 0===o[i];"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i):void 0),r&&null!=n&&(o[i]=n)}function o(t){if(null==t)return t;var e={};return r(t,i,e),e}var r=n(55),s=n(4);t.exports=o}).call(e,n(1))},function(t,e,n){"use strict";function i(t){if(t.key){var e=r[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=o(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?s[t.keyCode]||"Unidentified":""}var o=n(47),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=i},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var o=n(t),r=0,s=0;o;){if(3===o.nodeType){if(s=r+o.textContent.length,e>=r&&s>=e)return{node:o,offset:e-r};r=s}o=n(i(o))}}t.exports=o},function(t,e,n){(function(e){"use strict";function i(t){return o.isValidElement(t)?void 0:"production"!==e.env.NODE_ENV?r(!1,"onlyChild must be passed a children with exactly one child."):r(!1),t}var o=n(7),r=n(2);t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function i(t){return'"'+o(t)+'"'}var o=n(35);t.exports=i},function(t,e,n){"use strict";var i=n(6);t.exports=i.renderSubtreeIntoContainer},function(t,e){"use strict";function n(t){return t.replace(i,function(t,e){return e.toUpperCase()})}var i=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function i(t){return o(t.replace(r,"ms-"))}var o=n(185),r=/^-ms-/;t.exports=i},function(t,e,n){"use strict";function i(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function o(t){return i(t)?Array.isArray(t)?t.slice():r(t):[t]}var r=n(198);t.exports=o},function(t,e,n){(function(e){"use strict";function i(t){var e=t.match(u);return e&&e[1].toLowerCase()}function o(t,n){var o=h;h?void 0:"production"!==e.env.NODE_ENV?l(!1,"createNodesFromMarkup dummy not initialized"):l(!1);var r=i(t),u=r&&a(r);if(u){o.innerHTML=u[1]+t+u[2];for(var c=u[0];c--;)o=o.lastChild}else o.innerHTML=t;var p=o.getElementsByTagName("script");p.length&&(n?void 0:"production"!==e.env.NODE_ENV?l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."):l(!1),s(p).forEach(n));for(var d=s(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return d}var r=n(5),s=n(187),a=n(93),l=n(2),h=r.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;t.exports=o}).call(e,n(1))},function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e){"use strict";function n(t){return t.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=n},function(t,e,n){"use strict";function i(t){return o(t).replace(r,"-ms-")}var o=n(190),r=/^ms-/;t.exports=i},function(t,e){"use strict";function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e,n){"use strict";function i(t){return o(t)&&3==t.nodeType}var o=n(192);t.exports=i},function(t,e){"use strict";function n(t,e,n){if(!t)return null;var o={};for(var r in t)i.call(t,r)&&(o[r]=e.call(n,t[r],r,t));return o}var i=Object.prototype.hasOwnProperty;t.exports=n},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){"use strict";var i,o=n(5);o.canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),t.exports=i||{}},function(t,e,n){"use strict";var i,o=n(196);i=o.now?function(){return o.now()}:function(){return Date.now()},t.exports=i},function(t,e,n){(function(e){"use strict";function i(t){var n=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?"production"!==e.env.NODE_ENV?o(!1,"toArray: Array-like object expected"):o(!1):void 0,"number"!=typeof n?"production"!==e.env.NODE_ENV?o(!1,"toArray: Object needs a length property"):o(!1):void 0,0===n||n-1 in t?void 0:"production"!==e.env.NODE_ENV?o(!1,"toArray: Object should have keys for indices"):o(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(i){}for(var r=Array(n),s=0;n>s;s++)r[s]=t[s];return r}var o=n(2);t.exports=i}).call(e,n(1))},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=d[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(h(i.parts[r],e))}else{for(var s=[],r=0;r<i.parts.length;r++)s.push(h(i.parts[r],e));d[i.id]={id:i.id,refs:1,parts:s}}}}function o(t){for(var e=[],n={},i=0;i<t.length;i++){var o=t[i],r=o[0],s=o[1],a=o[2],l=o[3],h={css:s,media:a,sourceMap:l};n[r]?n[r].parts.push(h):e.push(n[r]={id:r,parts:[h]})}return e}function r(t,e){var n=g(),i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function h(t,e){var n,i,o;if(e.singleton){var r=_++;n=v||(v=a(e)),i=u.bind(null,n,r,!1),o=u.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),i=p.bind(null,n),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=c.bind(null,n),o=function(){s(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function u(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function c(t,e){var n=e.css,i=e.media;e.sourceMap;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,i=(e.media,e.sourceMap);i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var d={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,_=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return i(n,e),function(t){for(var r=[],s=0;s<n.length;s++){var a=n[s],l=d[a.id];l.refs--,r.push(l)}if(t){var h=o(t);i(h,e)}for(var s=0;s<r.length;s++){var l=r[s];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete d[l.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i=n(109);"string"==typeof i&&(i=[[t.id,i,""]]);n(199)(i,{});i.locals&&(t.exports=i.locals)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);